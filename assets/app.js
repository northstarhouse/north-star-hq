(()=>{var Os=Object.defineProperty,Ts=Object.defineProperties;var Fs=Object.getOwnPropertyDescriptors;var Ge=Object.getOwnPropertySymbols;var Bt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable;var Lt=(a,o,l)=>o in a?Os(a,o,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[o]=l,p=(a,o)=>{for(var l in o||(o={}))Bt.call(o,l)&&Lt(a,l,o[l]);if(Ge)for(var l of Ge(o))Qt.call(o,l)&&Lt(a,l,o[l]);return a},g=(a,o)=>Ts(a,Fs(o));var Ut=(a,o)=>{var l={};for(var D in a)Bt.call(a,D)&&o.indexOf(D)<0&&(l[D]=a[D]);if(a!=null&&Ge)for(var D of Ge(a))o.indexOf(D)<0&&Qt.call(a,D)&&(l[D]=a[D]);return l};const{useState:y,useEffect:Be,useMemo:Zs,useRef:Zt}=React,Vt="nsh-strategy-metrics-cache-v1",_t="nsh-strategy-sections-cache-v1",dt="nsh-strategy-quarterly-cache-v1",it="nsh-strategy-major-todos-v1",pt=!0,X="https://script.google.com/macros/s/AKfycbydaZEpixA_RWAQ42HPsrFe6gCrf5bDYhWbj7COlNwmq-tQOOJaBiivRQfahnGq3WIDeQ/exec",Jt=X,Ms="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/edit?gid=0#gid=0",js="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/preview",Is="https://docs.google.com/spreadsheets/d/e/2PACX-1vSTge4UtsTFma1Y4ppSeC5nVORQiTtVLXXysbHUNdf3sOBb372QR9YG3Q9AfUNbGFD3K2Y0FeP4V5P2/pubhtml?gid=0&single=true&widget=false&headers=false&chrome=false",Wt="1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M",zt="1kqVXngOaf_X1lrB6Nbi5U_3NJ4_P_fGMqxhyqdfuDT0",Ht="nsh-sheet-last-seen-v1",es=a=>/^https:\/\/script\.google\.com\/macros\/s\/[^/]+\/exec$/i.test(String(a||"").trim()),Rs=()=>{if(!pt)return"";if(!X)return"Google Sheets URL is missing.";const a=String(X).trim();return a.includes("/macros/library/")?"Google Sheets URL is a library link. Use the Web App /exec URL instead.":es(a)?"":"Google Sheets URL must be the Web App /exec link."};const ct=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing-ops",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}];const ea=Array.from({length:11},(a,o)=>o*10),I={isConfigured:()=>pt&&es(X),postJson:async(a,o)=>{const l=await fetch(a,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(o)});if(!l.ok){const D=await l.text();throw new Error(`Request failed (${l.status}). ${D||"No response body."}`)}return l.json()},uploadFile:async({filename:a,mimeType:o,data:l})=>{if(!Jt)throw new Error("Drive upload not configured");const D={action:"uploadImage",filename:a,mimeType:o,data:l},L=await I.postJson(Jt,D);if(!L.success)throw new Error(L.error||"Upload failed");return L.result},fetchMetrics:async()=>{if(!I.isConfigured())return null;try{const a=await fetch(`${X}?action=getMetrics`);if(!a.ok)throw new Error("Failed to fetch metrics");return(await a.json()).metrics||null}catch(a){return console.error("Error fetching metrics:",a),null}},submitQuarterlyUpdate:async a=>{if(!I.isConfigured())throw new Error("Google Sheets not configured");const o=await I.postJson(X,{action:"submitQuarterlyUpdate",form:a});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},submitReviewUpdate:async a=>{if(!I.isConfigured())throw new Error("Google Sheets not configured");const o=await I.postJson(X,{action:"submitReviewUpdate",review:a});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},fetchQuarterlyUpdates:async()=>{if(!I.isConfigured())return[];try{const a=await fetch(`${X}?action=getQuarterlyUpdates`);if(!a.ok)throw new Error("Failed to fetch quarterly updates");return(await a.json()).updates||[]}catch(a){return console.error("Error fetching quarterly updates:",a),[]}},fetchSectionSnapshots:async()=>{if(!I.isConfigured())return null;try{const a=await fetch(`${X}?action=getSectionSnapshots`);if(!a.ok)throw new Error("Failed to fetch section snapshots");return(await a.json()).sections||null}catch(a){return console.error("Error fetching section snapshots:",a),null}},fetchMajorTodos:async()=>{if(!I.isConfigured())return[];try{const a=await fetch(`${X}?action=getMajorTodos`);if(!a.ok)throw new Error("Failed to fetch major todos");return(await a.json()).todos||[]}catch(a){return console.error("Error fetching major todos:",a),[]}},saveMajorTodo:async a=>{if(!I.isConfigured())return a;try{const o=await I.postJson(X,{action:"saveMajorTodo",todo:a});if(!o.success)throw new Error(o.error||"Save failed");return o.result}catch(o){return console.error("Error saving major todo:",o),a}},deleteMajorTodo:async a=>{if(!I.isConfigured())return{deleted:!0};try{const o=await I.postJson(X,{action:"deleteMajorTodo",id:a});if(!o.success)throw new Error(o.error||"Delete failed");return o.result}catch(o){return console.error("Error deleting major todo:",o),{deleted:!1}}}},Ke=a=>{try{const o=localStorage.getItem(a);return o?JSON.parse(o):null}catch(o){return console.warn("Failed to read cache:",o),null}},Fe=(a,o)=>{try{localStorage.setItem(a,JSON.stringify(o))}catch(l){console.warn("Failed to write cache:",l)}},$s=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,Ls=a=>{if(!a)return"N/A";try{return new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(o){return a}},Yt=a=>{if(!a)return"";const o=new Date(a);if(Number.isNaN(o.getTime()))return a;const l=String(o.getMonth()+1).padStart(2,"0"),D=String(o.getDate()).padStart(2,"0"),L=String(o.getFullYear());return`${l}-${D}-${L}`};const mt=a=>a==null?"N/A":new Intl.NumberFormat("en-US").format(Number(a)||0),ts=a=>{if(a==null)return"N/A";const o=Number(a)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(o)},Gt=a=>{if(!a)return"";const o=new Date(a);return Number.isNaN(o.getTime())?"":o.toISOString().slice(0,10)},Bs=(a,o=3)=>{const l=[];for(String(a||"").split(`
`).map(L=>L.trim()).filter(Boolean).forEach(L=>{const w=L.split("|").map(_=>_.trim()),[se="",ce="",z=""]=w;l.push({action:se,owner:ce,deadline:z})});l.length<o;)l.push({action:"",owner:"",deadline:""});return l.slice(0,o)},Kt=a=>a.map(o=>[o.action,o.owner,o.deadline].map(l=>l.trim()).join(" | ")).filter(o=>o.replace(/\|/g,"").trim()!=="").join(`
`);const ss=({size:a=24})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const qt=({size:a=22})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"})),Qs=({size:a=24})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 5v14"}),React.createElement("path",{d:"M5 12h14"}));const as=({size:a=20})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Us=({size:a=20})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M20 6L9 17l-5-5"})),Xt=({size:a=16})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M3 6h18"}),React.createElement("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),React.createElement("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}));const Vs=({areaLabel:a,quarter:o,review:l,onSave:D})=>{const L=i=>({statusAfterReview:(i==null?void 0:i.statusAfterReview)||"",actionsRows:Bs(i==null?void 0:i.actionsAssigned),crossAreaImpacts:(i==null?void 0:i.crossAreaImpacts)||"",areasImpacted:(i==null?void 0:i.areasImpacted)||"",coordinationNeeded:(i==null?void 0:i.coordinationNeeded)||"",priorityConfirmation:(i==null?void 0:i.priorityConfirmation)||"",escalationFlag:(i==null?void 0:i.escalationFlag)||"",reviewCompletedOn:Gt(i==null?void 0:i.reviewCompletedOn),nextCheckInDate:Gt(i==null?void 0:i.nextCheckInDate)}),[w,se]=y(()=>L(l)),[ce,z]=y(!1),[_,H]=y(!1);Be(()=>{se(L(l))},[l,a,o]),Be(()=>{H(!1)},[a,o]);const M=(i,T)=>{se(j=>g(p({},j),{[i]:T}))},J=(i,T,j)=>{se(G=>{const ye=G.actionsRows.map((ae,ne)=>ne===i?g(p({},ae),{[T]:j}):ae);return g(p({},G),{actionsRows:ye})})},be=async()=>{z(!0);const i=w.crossAreaImpacts==="Affects another area",T={focusArea:a,quarter:o,statusAfterReview:w.statusAfterReview,actionsAssigned:Kt(w.actionsRows),crossAreaImpacts:w.crossAreaImpacts,areasImpacted:i?w.areasImpacted:"",coordinationNeeded:i?w.coordinationNeeded:"",priorityConfirmation:w.priorityConfirmation,escalationFlag:w.escalationFlag,reviewCompletedOn:w.reviewCompletedOn,nextCheckInDate:w.nextCheckInDate};try{await D(T)}catch(j){console.error("Failed to save review:",j),alert("Failed to save review. Please try again.")}z(!1)},Y=["On track","Minor adjustments needed","Off track - intervention required"],O=["None","Affects another area"],W=["Approved","Adjusted","Replaced"],u=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!_){const T=[{label:"Status After Review",value:w.statusAfterReview},{label:"Actions Assigned",value:Kt(w.actionsRows)},{label:"Cross-Area Impacts",value:w.crossAreaImpacts},{label:"Area(s) impacted",value:w.areasImpacted},{label:"Coordination needed",value:w.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:w.priorityConfirmation},{label:"Escalation Flag",value:w.escalationFlag},{label:"Review completed on",value:w.reviewCompletedOn},{label:"Next check-in date",value:w.nextCheckInDate}].filter(j=>j.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>H(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),T.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},T.map(j=>React.createElement("div",{key:j.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},j.label),React.createElement("div",{className:"whitespace-pre-wrap"},j.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>H(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},Y.map(i=>React.createElement("label",{key:i,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${a}-${o}-status`,value:i,checked:w.statusAfterReview===i,onChange:T=>M("statusAfterReview",T.target.value),className:"accent-clay"}),React.createElement("span",null,i))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},w.actionsRows.map((i,T)=>React.createElement("div",{key:T,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:i.action,onChange:j=>J(T,"action",j.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:i.owner,onChange:j=>J(T,"owner",j.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:i.deadline,onChange:j=>J(T,"deadline",j.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},O.map(i=>React.createElement("label",{key:i,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${a}-${o}-impact`,value:i,checked:w.crossAreaImpacts===i,onChange:T=>M("crossAreaImpacts",T.target.value),className:"accent-clay"}),React.createElement("span",null,i)))),w.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:w.areasImpacted,onChange:i=>M("areasImpacted",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:w.coordinationNeeded,onChange:i=>M("coordinationNeeded",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},W.map(i=>React.createElement("label",{key:i,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${a}-${o}-priority`,value:i,checked:w.priorityConfirmation===i,onChange:T=>M("priorityConfirmation",T.target.value),className:"accent-clay"}),React.createElement("span",null,i))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},u.map(i=>React.createElement("label",{key:i,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${a}-${o}-escalation`,value:i,checked:w.escalationFlag===i,onChange:T=>M("escalationFlag",T.target.value),className:"accent-clay"}),React.createElement("span",null,i))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:w.reviewCompletedOn,onChange:i=>M("reviewCompletedOn",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:w.nextCheckInDate,onChange:i=>M("nextCheckInDate",i.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:be,disabled:ce,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},ce?"Saving...":"Save review")))};const _s=({onBack:a})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Honeybook Messages"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live Google Sheet with a cleaner workspace.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:a,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(as,{size:16}),"Back to Dashboard")),React.createElement("a",{href:Ms,target:"_blank",rel:"noreferrer",className:"px-4 py-2 rounded-xl bg-gold text-white text-sm shadow hover:opacity-90 transition"},"Open in Google Sheets"))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Honeybook Messages",src:js,className:"w-full h-full border-0 bg-white"}))))),Js=({onBack:a})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Voicemail Log"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live sheet in a calmer layout.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:a,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(as,{size:16}),"Back to Dashboard")))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Voicemails",src:Is,className:"w-full h-full border-0 bg-white"}))))),ut=({size:a=24,className:o=""})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),React.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),React.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"})),Ws=({size:a=24,className:o=""})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"17 8 12 3 7 8"}),React.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),zs=({size:a=24,className:o=""})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),Hs=({size:a=24,className:o=""})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("polyline",{points:"12 6 12 12 16 14"})),qe=({size:a=24,className:o=""})=>React.createElement("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"M9 12l2 2 4-4"})),os=()=>{var Dt,At,Pt,Ot,Tt,Ft,Mt,jt,It,Rt,$t;const[a,o]=y([]),[l,D]=y(null),[L,w]=y(!1),[se,ce]=y(null),[z,_]=y("marketing"),H=Zt(null),[M,J]=y({}),[be,Y]=y(!1),[O,W]=y(new Date().getMonth()),[u,i]=y({}),[T,j]=y(!1),[G,ye]=y(new Date().getMonth()),[ae,ne]=y({}),[Me,ke]=y(!1),[Z,Qe]=y(new Date().getMonth()),[Ue,Ce]=y([]),[Xe,je]=y(0),[Ve,_e]=y(!1),[xe,Se]=y({}),[Ze,Je]=y(!1),[oe,et]=y(new Date().getMonth()),d="https://script.google.com/macros/s/AKfycbzcuMhZ1h15zP7IgYhyCBChgkx_mbe23G6756V2_lHNT1grfgKR-AuZxbHt3t806h8-/exec",N="nsh-events-cache-v1",k="nsh-event-flyers-v1",x="nsh-newsletter-cache-v1",S="nsh-posting-schedule-v1",A="nsh-press-release-cache-v1",B="nsh-bookings-cache-v1",F="nsh-newsletter-stats-v1",P=["January","February","March","April","May","June","July","August","September","October","November","December"],ee=[{id:"mainFeature",label:"Main Feature"},{id:"mainUpcomingEvent",label:"Main Upcoming Event"},{id:"eventRecaps",label:"Event Recaps / Blogs"},{id:"volunteerHours",label:"Volunteer Monthly Hours"},{id:"donationNeeds",label:"Donation Needs"},{id:"other",label:"Other"}],he=[{id:"edition",label:"Newsletter Edition"},{id:"bricksDonationsLoyalty",label:"Bricks - Donations - Loyalty Program"},{id:"volunteers",label:"Volunteers"},{id:"calendar",label:"Calendar"},{id:"feature",label:"Feature"},{id:"goFundMe",label:"GoFundMe"},{id:"fundraisingBroughtIn",label:"Fundraising Brought In"},{id:"notes",label:"Notes"}],E=[{id:"headline",label:"Headline"},{id:"summary",label:"Summary / Angle"},{id:"keyDetails",label:"Key Details"},{id:"outlets",label:"Target Outlets"},{id:"link",label:"Link"},{id:"notes",label:"Notes"}],h=[{week:"First Week",items:[{id:"w1-mon",day:"Monday",prompt:"Wedding posting + scheduling for the month"},{id:"w1-tue",day:"Tuesday",prompt:"Testimonial or small history"},{id:"w1-wed",day:"Wednesday",prompt:"OPEN"},{id:"w1-thu",day:"Thursday",prompt:"Monthly email send out"},{id:"w1-fri",day:"Friday",prompt:"Volunteer outreach - events"},{id:"w1-other",day:"Other",prompt:"Other"}]},{week:"Second Week",items:[{id:"w2-mon",day:"Monday",prompt:"Sponsor spotlight"},{id:"w2-tue",day:"Tuesday",prompt:"Upcoming event / tours"},{id:"w2-thu",day:"Thursday",prompt:"Planning update"},{id:"w2-fri",day:"Friday",prompt:"Volunteer outreach - restoration"},{id:"w2-other",day:"Other",prompt:"Other"}]},{week:"Third Week",items:[{id:"w3-mon",day:"Monday",prompt:"Upcoming event or wedding"},{id:"w3-tue",day:"Tuesday",prompt:"OPEN"},{id:"w3-thu",day:"Thursday",prompt:"History update"},{id:"w3-fri",day:"Friday",prompt:"Volunteer outreach - garden"},{id:"w3-other",day:"Other",prompt:"Other"}]},{week:"Fourth Week",items:[{id:"w4-mon",day:"Monday",prompt:"OPEN"},{id:"w4-tue",day:"Tuesday",prompt:"Restoration video"},{id:"w4-thu",day:"Thursday",prompt:"Development / board update"},{id:"w4-fri",day:"Friday",prompt:"Volunteer outreach - docents"},{id:"w4-other",day:"Other",prompt:"Other"}]}],f=h.flatMap(e=>e.items),U=f.reduce((e,t)=>(e[`${t.day} - ${t.prompt}`]=t.id,e),{}),le=h.map(e=>e.items.reduce((t,s)=>(t[`${s.day} - ${s.prompt}`]=s.id,t),{})),me=e=>{const t=[];return h.forEach(s=>{const r=s.items.map(n=>{const c=((e==null?void 0:e[n.id])||"").trim();return c?`${n.day} - ${n.prompt}: ${c}`:null}).filter(Boolean);r.length&&t.push(s.week,...r,"")}),t.join(`
`).trim()},de=(e,t)=>e.items.map(r=>{const n=((t==null?void 0:t[r.id])||"").trim();return n?`${r.day} - ${r.prompt}: ${n}`:null}).filter(Boolean).join(`
`).trim(),Ee=(e,t)=>{if(!e)return{};const s=String(e).split(`
`),r=le[t]||{};return s.reduce((n,c)=>{const b=c.trim();if(!b)return n;const re=b.indexOf(":");if(re===-1)return n;const m=b.slice(0,re).trim(),v=b.slice(re+1).trim(),R=r[m];return R&&(n[R]=v),n},{})},De=e=>e?String(e).split(`
`).reduce((s,r)=>{var v;const n=r.trim();if(!n||/week$/i.test(n))return s;if(n.includes("|")){const R=n.split("|"),we=(v=R[0])==null?void 0:v.trim();if(we&&f.some(ge=>ge.id===we)){const ge=R.slice(2).join("|").trim();return s[we]=ge,s}}const c=n.indexOf(":");if(c===-1)return s;const b=n.slice(0,c).trim(),re=n.slice(c+1).trim(),m=U[b];return m&&(s[m]=re),s},{}):{},ve=[{id:"press-release",label:"Create Press Release"},{id:"flyer",label:"Create Flyer"},{id:"website",label:"Make Event Page on Website"},{id:"email",label:"Send Email Blast"},{id:"yubanet",label:"YubaNet (Press Release Only - if worthy)",special:!0,optional:!0},{id:"go-nv",label:"Go Nevada County Calendar"},{id:"arts",label:"Arts Council Calendar"},{id:"chamber",label:"Grass Valley Chamber Newsletter (2 weeks prior)",special:!0,optional:!0},{id:"kvmr",label:"KVMR Calendar"},{id:"fb-event",label:"Facebook Event Page"},{id:"fb-nsh",label:"NSH Facebook Page"},{id:"ig-nsh",label:"NSH Instagram Page"},{id:"nv-peeps",label:"Nevada County Peeps"},{id:"gv-peeps",label:"Grass Valley Peeps"},{id:"lake-wildwood",label:"Lake Wildwood Page"},{id:"nextdoor",label:"NextDoor"},{id:"union-cal",label:"Union Event Calendar"},{id:"union-ad",label:"Union Advertisement ($270 - rare)",special:!0,optional:!0},{id:"other",label:"Other",optional:!0}],ue=[{id:"event-type",label:"Event type"},{id:"budget-confirmed",label:"Budget confirmed"},{id:"layout-finalized",label:"Layout finalized"},{id:"av-needs",label:"AV needs"},{id:"power-checked",label:"Power checked"},{id:"rentals-ordered",label:"Rentals ordered"},{id:"food-plan",label:"Food plan"},{id:"alcohol-license",label:"Alcohol license (if applicable)"},{id:"volunteer-roles",label:"Volunteer roles assigned"},{id:"staff-lead",label:"Staff lead assigned"},{id:"checkin-ready",label:"Check-in system ready"},{id:"program-ready",label:"Program / agenda printed or shared"},{id:"signage-ready",label:"Signage ready"}],[C,V]=y({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""}),Q=async()=>{if(d)try{const e=await fetch(`${d}?action=list`);if(!e.ok)throw new Error(`Sheets load failed: ${e.status}`);const t=await e.json(),s=Array.isArray(t.events)?t.events:[],r=JSON.parse(localStorage.getItem(k)||"{}"),n=localStorage.getItem(N),c=n?JSON.parse(n):[],b=Array.isArray(c)?c.reduce((v,R)=>(R&&R.id&&(v[R.id]=R),v),{}):{},m=s.map(v=>{const R=b[v.id],we=typeof v.checklist=="string"?JSON.parse(v.checklist||"{}"):v.checklist||{},ge=typeof v.planningChecklist=="string"?JSON.parse(v.planningChecklist||"{}"):v.planningChecklist||{},Le=R&&R.planningChecklist?R.planningChecklist:null,nt=Object.keys(ge||{}).length===0&&Le?Le:ge,lt=v.planningNotes||R&&R.planningNotes||"",Ye=g(p({},v),{date:ot(v.date),time:rt(v.time),checklist:we,planningChecklist:nt,planningNotes:lt,flyerImage:r[v.id]||null});return Le&&Object.keys(ge||{}).length===0&&Pe(Ye),Ye}).filter(v=>{if(!v)return!1;const R=String(v.name||"").trim().length>0,we=String(v.date||"").trim().length>0,ge=String(v.createdAt||"").trim().length>0,Le=String(v.targetAttendance||"").trim().length>0||String(v.currentRSVPs||"").trim().length>0,nt=String(v.notes||"").trim().length>0||String(v.planningNotes||"").trim().length>0,lt=v.checklist&&Object.keys(v.checklist).length>0,Ye=v.planningChecklist&&Object.keys(v.planningChecklist).length>0;return R||we||ge||Le||nt||lt||Ye});o(m),localStorage.setItem(N,JSON.stringify(m))}catch(e){console.error("Failed to load events from Sheets",e);const t=localStorage.getItem(N);if(t)try{const s=JSON.parse(t);Array.isArray(s)&&o(s)}catch(s){console.error("Failed to parse cached events",s)}}},q=(e,t)=>({month:t+1,edition:(e==null?void 0:e.edition)||"",bricksDonationsLoyalty:(e==null?void 0:e.bricksDonationsLoyalty)||"",volunteers:(e==null?void 0:e.volunteers)||"",calendar:(e==null?void 0:e.calendar)||"",feature:(e==null?void 0:e.feature)||"",goFundMe:(e==null?void 0:e.goFundMe)||"",fundraisingBroughtIn:(e==null?void 0:e.fundraisingBroughtIn)||"",notes:(e==null?void 0:e.notes)||""}),$=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),mainFeature:(e==null?void 0:e.mainFeature)||"",mainUpcomingEvent:(e==null?void 0:e.mainUpcomingEvent)||"",eventRecaps:(e==null?void 0:e.eventRecaps)||"",volunteerHours:(e==null?void 0:e.volunteerHours)||"",donationNeeds:(e==null?void 0:e.donationNeeds)||"",other:(e==null?void 0:e.other)||""}),ie=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),headline:(e==null?void 0:e.headline)||"",summary:(e==null?void 0:e.summary)||"",keyDetails:(e==null?void 0:e.keyDetails)||"",outlets:(e==null?void 0:e.outlets)||"",link:(e==null?void 0:e.link)||"",notes:(e==null?void 0:e.notes)||""}),fe=(e,t)=>{let s={};if(e&&([e.week1,e.week2,e.week3,e.week4].forEach((n,c)=>{s=p(p({},s),Ee(n,c))}),e.entries)){let n={};if(typeof e.entries=="string")try{n=JSON.parse(e.entries||"{}")}catch(c){n=De(e.entries)}else n=e.entries;Object.keys(n||{}).forEach(c=>{s[c]||(s[c]=n[c])})}const r=f.reduce((n,c)=>(n[c.id]=s[c.id]||"",n),{});return{month:t+1,completed:!!(e!=null&&e.completed),entries:r}},Ie=e=>{localStorage.setItem(x,JSON.stringify(e))},tt=e=>{localStorage.setItem(S,JSON.stringify(e))},st=e=>{localStorage.setItem(A,JSON.stringify(e))},gt=e=>{localStorage.setItem(B,JSON.stringify(e))},bt=e=>{localStorage.setItem(F,JSON.stringify(e))},rs=async()=>{if(d)try{const e=await fetch(`${d}?action=newsletter_list`);if(!e.ok)throw new Error(`Newsletter load failed: ${e.status}`);const t=await e.json(),r=(Array.isArray(t.entries)?t.entries:[]).reduce((n,c)=>{const b=parseInt(c.month,10);return!Number.isNaN(b)&&b>=1&&b<=12&&(n[b-1]=$(c,b-1)),n},{});J(r),Ie(r)}catch(e){console.error("Failed to load newsletter data",e);const t=localStorage.getItem(x);if(t)try{const s=JSON.parse(t);s&&typeof s=="object"&&J(s)}catch(s){console.error("Failed to parse cached newsletter data",s)}}},ns=async()=>{if(d)try{const e=await fetch(`${d}?action=posting_list`);if(!e.ok)throw new Error(`Posting load failed: ${e.status}`);const t=await e.json(),r=(Array.isArray(t.entries)?t.entries:[]).reduce((n,c)=>{const b=parseInt(c.month,10);return!Number.isNaN(b)&&b>=1&&b<=12&&(n[b-1]=fe(c,b-1)),n},{});i(r),tt(r)}catch(e){console.error("Failed to load posting schedule",e);const t=localStorage.getItem(S);if(t)try{const s=JSON.parse(t);s&&typeof s=="object"&&i(s)}catch(s){console.error("Failed to parse cached posting schedule",s)}}},ls=async()=>{if(d)try{const e=await fetch(`${d}?action=press_release_list`);if(!e.ok)throw new Error(`Press release load failed: ${e.status}`);const t=await e.json(),r=(Array.isArray(t.entries)?t.entries:[]).reduce((n,c)=>{const b=parseInt(c.month,10);return!Number.isNaN(b)&&b>=1&&b<=12&&(n[b-1]=ie(c,b-1)),n},{});ne(r),st(r)}catch(e){console.error("Failed to load press release data",e);const t=localStorage.getItem(A);if(t)try{const s=JSON.parse(t);s&&typeof s=="object"&&ne(s)}catch(s){console.error("Failed to parse cached press release data",s)}}},ds=async()=>{if(d)try{const e=await fetch(`${d}?action=bookings_list`);if(!e.ok)throw new Error(`Bookings load failed: ${e.status}`);const t=await e.json(),s=Array.isArray(t.entries)?t.entries:[],r=Number.isFinite(t.count)?t.count:s.length;Ce(s),je(r),gt(s)}catch(e){console.error("Failed to load bookings data",e);const t=localStorage.getItem(B);if(t)try{const s=JSON.parse(t);Array.isArray(s)&&(Ce(s),je(s.length))}catch(s){console.error("Failed to parse cached bookings data",s)}}},is=async()=>{if(d)try{const e=await fetch(`${d}?action=newsletter_stats_list`);if(!e.ok)throw new Error(`Newsletter stats load failed: ${e.status}`);const t=await e.json(),r=(Array.isArray(t.entries)?t.entries:[]).reduce((n,c)=>{const b=parseInt(c.month,10);return!Number.isNaN(b)&&b>=1&&b<=12&&(n[b-1]=q(c,b-1)),n},{});Se(r),bt(r)}catch(e){console.error("Failed to load newsletter stats",e);const t=localStorage.getItem(F);if(t)try{const s=JSON.parse(t);s&&typeof s=="object"&&Se(s)}catch(s){console.error("Failed to parse cached newsletter stats",s)}}},cs=async(e,t)=>{if(!d)return;const s=q(t,e);try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"newsletter_stats_upsert",entry:s})})}catch(r){console.error("Failed to save newsletter stats entry",r)}},ms=(e,t,s)=>{Se(r=>{const n=g(p({},q(r[e],e)),{[t]:s}),c=g(p({},r),{[e]:n});return bt(c),cs(e,n),c})},xt=async(e,t)=>{if(!d)return;const s=$(t,e);try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"newsletter_upsert",entry:s})})}catch(r){console.error("Failed to save newsletter entry",r)}},ht=async(e,t)=>{if(!d)return;const s=fe(t,e),r={month:s.month,completed:s.completed,week1:de(h[0],s.entries),week2:de(h[1],s.entries),week3:de(h[2],s.entries),week4:de(h[3],s.entries),entries:me(s.entries)};try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"posting_upsert",entry:r})})}catch(n){console.error("Failed to save posting schedule",n)}},vt=async(e,t)=>{if(!d)return;const s=ie(t,e);try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"press_release_upsert",entry:s})})}catch(r){console.error("Failed to save press release entry",r)}},us=async e=>{if(d)try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"bookings_update",entry:e})})}catch(t){console.error("Failed to save booking update",t)}},ft=(e,t,s)=>{J(r=>{const n=g(p({},$(r[e],e)),{[t]:s}),c=g(p({},r),{[e]:n});return Ie(c),xt(e,n),c})},ps=(e,t,s)=>{i(r=>{const n=fe(r[e],e),c=g(p({},n),{entries:g(p({},n.entries),{[t]:s})}),b=g(p({},r),{[e]:c});return tt(b),ht(e,c),b})},gs=(e,t,s)=>{ne(r=>{const n=g(p({},ie(r[e],e)),{[t]:s}),c=g(p({},r),{[e]:n});return st(c),vt(e,n),c})},Nt=e=>{J(t=>{const s=$(t[e],e),r=g(p({},s),{published:!s.published}),n=g(p({},t),{[e]:r});return Ie(n),xt(e,r),n})},bs=e=>{ne(t=>{const s=ie(t[e],e),r=g(p({},s),{published:!s.published}),n=g(p({},t),{[e]:r});return st(n),vt(e,r),n})},xs=e=>{i(t=>{const s=fe(t[e],e),r=g(p({},s),{completed:!s.completed}),n=g(p({},t),{[e]:r});return tt(n),ht(e,r),n})},at=(e,t,s)=>{Ce(r=>{const n=r.map(b=>b.rowIndex!==e?b:g(p({},b),{[t]:s}));gt(n);const c=n.find(b=>b.rowIndex===e);return c&&us({rowIndex:c.rowIndex,photoPermission:!!c.photoPermission,link:c.link||"",posted:!!c.posted}),n})},Ae=e=>{localStorage.setItem(N,JSON.stringify(e))},hs=(e,t)=>{if(!e||!t)return;const s=JSON.parse(localStorage.getItem(k)||"{}");s[e]=t,localStorage.setItem(k,JSON.stringify(s))},vs=e=>{const t=JSON.parse(localStorage.getItem(k)||"{}");t[e]&&(delete t[e],localStorage.setItem(k,JSON.stringify(t)))},Pe=async e=>{if(!d)return;const t=g(p({},e),{checklist:typeof e.checklist=="string"?e.checklist:JSON.stringify(e.checklist||{}),planningChecklist:typeof e.planningChecklist=="string"?e.planningChecklist:JSON.stringify(e.planningChecklist||{}),planningNotes:e.planningNotes||""});try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"upsert",event:t})})}catch(s){console.error("Failed to save event to Sheets",s)}},fs=async e=>{const t=a.filter(s=>s.id!==e);if(o(t),Ae(t),D(null),vs(e),!!d)try{await fetch(d,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"delete",id:e})})}catch(s){console.error("Failed to delete event from Sheets",s)}};Be(()=>{try{const e=localStorage.getItem(N);if(e){const t=JSON.parse(e);Array.isArray(t)&&o(t)}}catch(e){}try{const e=localStorage.getItem(x);if(e){const t=JSON.parse(e);t&&typeof t=="object"&&J(t)}}catch(e){}try{const e=localStorage.getItem(S);if(e){const t=JSON.parse(e);t&&typeof t=="object"&&i(t)}}catch(e){}try{const e=localStorage.getItem(A);if(e){const t=JSON.parse(e);t&&typeof t=="object"&&ne(t)}}catch(e){}try{const e=localStorage.getItem(B);if(e){const t=JSON.parse(e);Array.isArray(t)&&(Ce(t),je(t.length))}}catch(e){}try{const e=localStorage.getItem(F);if(e){const t=JSON.parse(e);t&&typeof t=="object"&&Se(t)}}catch(e){}Q(),rs(),ns(),ls(),ds(),is()},[]);const wt=e=>{if(!e)return null;const r=new Date(e)-new Date;return Math.ceil(r/(1e3*60*60*24))},qs=(e,t)=>!t||t===0?0:Math.round(e/t*100),yt=e=>{const t=ve.filter(r=>!r.optional);if(!t.length)return 0;const s=t.filter(r=>e==null?void 0:e[r.id]).length;return Math.round(s/t.length*100)},kt=e=>{const t=Object.values(e||{}).filter(s=>s&&s.done).length;return ue.length?Math.round(t/ue.length*100):0},Ns=e=>e>=90?"text-emerald-600":e>=70?"text-stone-600":"text-stone-700",ws=e=>e>=90?"On track":e>=70?"Slightly behind":"Needs attention",We=e=>{const t=ve.filter(r=>!r.optional);return`${t.filter(r=>e==null?void 0:e[r.id]).length}/${t.length}`},Ct=e=>`${Object.values(e||{}).filter(s=>s&&s.done).length}/${ue.length}`,ys=e=>f.filter(t=>((e==null?void 0:e[t.id])||"").trim()).length,ot=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},rt=e=>{if(!e)return"";if(/^\d{2}:\d{2}$/.test(e))return e;const t=e.match(/^(\d{1,2}):(\d{2}):\d{2}$/);if(t)return`${t[1].padStart(2,"0")}:${t[2]}`;const s=e.match(/^(\d{1,2}):(\d{2})\s*([AaPp][Mm])$/);if(s){let r=parseInt(s[1],10);const n=s[2],c=s[3].toLowerCase()==="pm";return c&&r<12&&(r+=12),!c&&r===12&&(r=0),`${String(r).padStart(2,"0")}:${n}`}return""},St=e=>{if(!e)return"";const t=rt(e);if(!t)return e;const[s,r]=t.split(":"),n=parseInt(s,10),c=n>=12?"PM":"AM";return`${n%12===0?12:n%12}:${r}${c}`},ks=e=>{if(!e)return"";const t=ot(e);if(!t)return e;const[s,r,n]=t.split("-").map(Number);return new Date(s,r-1,n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},pe=new Date().getMonth(),Oe=M[pe],Ne=Oe&&Oe.published?(pe+1)%12:pe,te=M[Ne]||$(null,Ne),ze=u[pe],Re=ze&&ze.completed?(pe+1)%12:pe,Cs=fe(u[Re],Re),Et=ys(Cs.entries),He=ae[pe],$e=He&&He.published?(pe+1)%12:pe,Te=ae[$e]||ie(null,$e),Ss=e=>{const t=e.target.files[0];if(t){const s=new FileReader;s.onloadend=()=>{V(g(p({},C),{flyerImage:s.result}))},s.readAsDataURL(t)}},Es=()=>{const e=g(p({},C),{id:Date.now(),createdAt:new Date().toISOString()}),t=[...a,e];o(t),Ae(t),e.flyerImage&&hs(e.id,e.flyerImage),Pe(e),w(!1),V({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""})},Ds=(e,t)=>{let s=null;const r=a.map(n=>n.id===e?(s=g(p({},n),{checklist:g(p({},n.checklist),{[t]:!n.checklist[t]})}),s):n);o(r),Ae(r),l&&l.id===e&&s&&D(s),s&&Pe(s)},As=(e,t)=>{let s=null;const r=a.map(n=>{if(n.id===e){const c=n.planningChecklist||{},b=c[t]||{done:!1,note:""},re=g(p({},c),{[t]:g(p({},b),{done:!b.done})});return s=g(p({},n),{planningChecklist:re}),s}return n});o(r),Ae(r),l&&l.id===e&&s&&D(s),s&&Pe(s)},Ps=(e,t,s)=>{let r=null;const n=a.map(c=>{if(c.id===e){const b=c.planningChecklist||{},re=b[t]||{done:!1,note:""},m=g(p({},b),{[t]:g(p({},re),{note:s})});return r=g(p({},c),{planningChecklist:m}),r}return c});o(n),Ae(n),l&&l.id===e&&r&&D(r),r&&Pe(r)},K=(e,t,s)=>{let r=null;const n=a.map(c=>c.id===e?(r=g(p({},c),{[t]:s}),r):c);o(n),Ae(n),l&&l.id===e&&r&&D(r),r&&Pe(r)};if(l){const e=wt(l.date),t=yt(l.checklist),s=kt(l.planningChecklist),r=Ns(t),n=ws(t),c=e!==null&&e<0;return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("button",{onClick:()=>D(null),className:"mb-6 text-amber-700 hover:text-amber-800 font-medium"},"\u2190 Back to Dashboard"),React.createElement("div",{className:"bg-white rounded-lg shadow-lg border border-stone-200 overflow-hidden",onTouchStart:m=>{H.current=m.touches[0].clientX},onTouchEnd:m=>{if(H.current===null)return;const v=m.changedTouches[0].clientX-H.current;Math.abs(v)>60&&_(v<0?"planning":"marketing"),H.current=null}},l.flyerImage&&React.createElement("div",{className:"w-full h-64 bg-gray-100"},React.createElement("img",{src:l.flyerImage,alt:l.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-8"},React.createElement("div",{className:"mb-6 space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:l.name,onChange:m=>K(l.id,"name",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-2xl font-light text-stone-900",placeholder:"Event name"})),React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-stone-700"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(ut,{size:18}),l.isTBD?React.createElement("span",null,"TBD"):React.createElement(React.Fragment,null,React.createElement("input",{type:"date",value:ot(l.date),onChange:m=>K(l.id,"date",m.target.value),className:"px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"}),l.time&&React.createElement("span",{className:"text-sm text-stone-700"},"\xB7 ",St(l.time)))),e!==null&&!c&&React.createElement("div",{className:"flex items-center gap-2"},React.createElement(Hs,{size:18}),React.createElement("span",null,e," days away")))),React.createElement("div",{className:"mb-6 flex w-full rounded-full border border-stone-200 bg-stone-50 p-1 text-xs font-medium"},React.createElement("button",{onClick:()=>_("marketing"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${z==="marketing"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Marketing"),React.createElement("button",{onClick:()=>_("planning"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${z==="planning"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Event Planning")),z==="marketing"&&React.createElement(React.Fragment,null,!c&&React.createElement("div",{className:"mb-8 p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Marketing Progress"),React.createElement("span",{className:`text-sm font-medium ${r}`},n)),React.createElement("div",{className:"flex items-center gap-4 mb-2"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(t,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},t,"%")),React.createElement("div",{className:"text-sm text-stone-700"},We(l.checklist)," marketing tasks"),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-200"},React.createElement("p",{className:"text-sm text-stone-800 mb-3"},"You're ",e>14?`${e} days out`:e>7?"two weeks out":"one week out"," and have completed ",We(l.checklist)," marketing tasks (",t,"%). Attendance is ",l.currentRSVPs||0," of ",l.targetAttendance||0,"."))),React.createElement("div",{className:"mb-8"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Marketing Checklist"),React.createElement("span",{className:"text-sm text-stone-600 font-medium"},We(l.checklist)," complete")),React.createElement("div",{className:"space-y-2"},ve.map(m=>React.createElement("label",{key:m.id,className:"flex items-start sm:items-center gap-3 p-3 hover:bg-stone-50 rounded-md cursor-pointer transition-colors"},React.createElement("input",{type:"checkbox",checked:l.checklist[m.id]||!1,onChange:()=>Ds(l.id,m.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`flex-1 ${l.checklist[m.id]?"line-through text-gray-400":"text-stone-800"} ${m.special?"text-sm italic":""}`},m.label))))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Event Details"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:rt(l.time)||"",onChange:m=>K(l.id,"time",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:l.goals||"",onChange:m=>K(l.id,"goals",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:l.outcomes||"",onChange:m=>K(l.id,"outcomes",m.target.value),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Budget & Promotion"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:l.advertising||"",onChange:m=>K(l.id,"advertising",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:l.volunteers||"",onChange:m=>K(l.id,"volunteers",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:l.totalSpent||"",onChange:m=>K(l.id,"totalSpent",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:l.totalEarned||"",onChange:m=>K(l.id,"totalEarned",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})))),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:l.currentRSVPs,onChange:m=>K(l.id,"currentRSVPs",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Update attendance count"})),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Notes"),React.createElement("textarea",{value:l.notes,onChange:m=>K(l.id,"notes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Ongoing thoughts and planning notes..."})),React.createElement("div",{className:"border-t border-stone-200 pt-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Post-Event Reflection"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Actual Attendance"),React.createElement("input",{type:"number",value:l.postEventAttendance,onChange:m=>K(l.id,"postEventAttendance",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Final attendance count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Reflection Notes"),React.createElement("textarea",{value:l.postEventNotes,onChange:m=>K(l.id,"postEventNotes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What worked well? What would you change? Key takeaways..."})))),React.createElement("div",{className:"mt-8 flex justify-end"},React.createElement("button",{onClick:()=>fs(l.id),className:"px-4 py-2 border border-stone-300 text-stone-700 rounded-md hover:bg-stone-100 transition-colors"},"Delete Event"))),z==="planning"&&React.createElement("div",{className:"mb-8 space-y-6"},React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Planning Notes"),React.createElement("textarea",{value:l.planningNotes||"",onChange:m=>K(l.id,"planningNotes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"General info, reminders, or planning thoughts..."})),React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6 cursor-pointer hover:border-amber-300 transition-colors",onClick:()=>Y(!0)},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h3",{className:"text-sm font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Showing ",P[Ne])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:m=>{m.stopPropagation(),Y(!0)}},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},te.mainFeature||te.mainUpcomingEvent||te.eventRecaps||te.volunteerHours||te.donationNeeds||te.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Oe&&Oe.published?`Published - previewing ${P[Ne]}`:`Draft - ${P[Ne]}`)),React.createElement("div",{className:"p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Event Planning Progress"),React.createElement("span",{className:"text-sm font-medium text-stone-700"},s,"%")),React.createElement("div",{className:"flex items-center gap-4 mb-4"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(s,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},s,"%")),React.createElement("div",{className:"text-sm text-stone-700 mb-4"},Ct(l.planningChecklist)," planning tasks"),React.createElement("div",{className:"space-y-3"},ue.map(m=>{const v=(l.planningChecklist||{})[m.id]||{done:!1,note:""};return React.createElement("div",{key:m.id,className:"flex flex-col sm:flex-row sm:items-center gap-3 rounded-md bg-white p-3 border border-stone-200"},React.createElement("label",{className:"flex items-center gap-3"},React.createElement("input",{type:"checkbox",checked:v.done||!1,onChange:()=>As(l.id,m.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`text-sm ${v.done?"line-through text-gray-400":"text-stone-800"}`},m.label)),React.createElement("input",{type:"text",value:v.note||"",onChange:R=>Ps(l.id,m.id,R.target.value),className:"flex-1 px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"Notes"}))})))),be&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Y(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>W((O+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},P[O]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>W((O+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(Dt=M[O])!=null&&Dt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>Nt(O)},(At=M[O])!=null&&At.published?React.createElement(React.Fragment,null,React.createElement(qe,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},ee.map(m=>{var v;return React.createElement("div",{key:m.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},m.label),React.createElement("textarea",{value:((v=M[O])==null?void 0:v[m.id])||"",onChange:R=>ft(O,m.id,R.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${m.label.toLowerCase()}...`}))})))))))))}return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8"},React.createElement("div",null,React.createElement("h1",{className:"text-4xl font-light text-stone-900 mb-2"},"North Star House"),React.createElement("p",{className:"text-stone-700"},"Event Management")),React.createElement("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] transition-all shadow-md w-full md:w-auto"},React.createElement(zs,{size:20}),"New Event")),L&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 sm:p-6 z-50"},React.createElement("div",{className:"bg-gradient-to-br from-white to-stone-50 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 sm:p-8 border border-stone-200"},React.createElement("h2",{className:"text-2xl font-light text-stone-900 mb-6"},"Create New Event"),React.createElement("div",{className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:C.name,onChange:e=>V(g(p({},C),{name:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event name"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Date"),React.createElement("input",{type:"date",value:C.date,onChange:e=>V(g(p({},C),{date:e.target.value,isTBD:!1})),disabled:C.isTBD,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent disabled:bg-gray-100 bg-white"}),React.createElement("label",{className:"flex items-center gap-2 mt-2"},React.createElement("input",{type:"checkbox",checked:C.isTBD,onChange:e=>V(g(p({},C),{isTBD:e.target.checked,date:""})),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:"text-sm text-stone-700"},"Date TBD"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:C.time,onChange:e=>V(g(p({},C),{time:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:C.goals,onChange:e=>V(g(p({},C),{goals:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:C.outcomes,onChange:e=>V(g(p({},C),{outcomes:e.target.value})),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:C.advertising,onChange:e=>V(g(p({},C),{advertising:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:C.totalSpent,onChange:e=>V(g(p({},C),{totalSpent:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:C.totalEarned,onChange:e=>V(g(p({},C),{totalEarned:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:C.volunteers,onChange:e=>V(g(p({},C),{volunteers:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Target Attendance"),React.createElement("input",{type:"number",value:C.targetAttendance,onChange:e=>V(g(p({},C),{targetAttendance:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Expected number of attendees"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:C.currentRSVPs,onChange:e=>V(g(p({},C),{currentRSVPs:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Current count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Flyer / Event Image"),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("label",{className:"flex items-center gap-2 px-4 py-2 border border-stone-200 rounded-md cursor-pointer hover:bg-stone-50 transition-colors"},React.createElement(Ws,{size:18,className:"text-stone-600"}),React.createElement("span",{className:"text-sm text-stone-800"},"Upload Image"),React.createElement("input",{type:"file",accept:"image/*",onChange:Ss,className:"hidden"})),C.flyerImage&&React.createElement("img",{src:C.flyerImage,alt:"Preview",className:"h-16 w-16 object-cover rounded-md border border-stone-200 shadow-sm"}))),React.createElement("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4"},React.createElement("button",{onClick:Es,disabled:!C.name,className:"flex-1 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-md"},"Create Event"),React.createElement("button",{onClick:()=>w(!1),className:"px-6 py-3 border border-stone-300 text-stone-800 rounded-md hover:bg-stone-50 transition-colors"},"Cancel"))))),a.length===0?React.createElement("div",{className:"text-center py-16 bg-white rounded-lg border border-stone-200 shadow-sm"},React.createElement(ut,{size:48,className:"mx-auto text-stone-300 mb-4"}),React.createElement("p",{className:"text-stone-700 mb-2"},"No events yet"),React.createElement("p",{className:"text-sm text-stone-500"},"Create your first event to get started")):React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5"},a.map(e=>{const t=wt(e.date),s=yt(e.checklist),r=t!==null&&t<0,n=kt(e.planningChecklist);return React.createElement("div",{key:e.id,onClick:()=>D(e),className:"bg-white rounded-lg shadow-md border border-stone-200 overflow-hidden cursor-pointer hover:shadow-lg hover:border-amber-400 transition-all"},e.flyerImage&&React.createElement("div",{className:"w-full h-40 bg-gradient-to-br from-stone-100 to-amber-100"},React.createElement("img",{src:e.flyerImage,alt:e.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-5"},React.createElement("h3",{className:"text-lg font-medium text-stone-900 mb-2"},e.name),React.createElement("div",{className:"flex items-center justify-between text-sm text-stone-700 mb-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(ut,{size:14}),React.createElement("span",null,e.isTBD?"TBD":`${ks(e.date)}${e.time?` \xB7 ${St(e.time)}`:""}`)),t!==null&&!r&&React.createElement("span",{className:"text-xs text-stone-500"},t," days")),!r&&React.createElement("div",{className:"mt-3 space-y-2 text-xs text-stone-600"},(e.targetAttendance||e.currentRSVPs)&&React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Goal / Current"),React.createElement("span",{className:"font-medium text-stone-800"},e.targetAttendance||0," / ",e.currentRSVPs||0)),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Marketing progress"),React.createElement("span",{className:"font-medium text-stone-800"},s,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(s,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},We(e.checklist)," tasks"),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Event planning progress"),React.createElement("span",{className:"font-medium text-stone-800"},n,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(n,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},Ct(e.planningChecklist)," tasks")),r&&React.createElement("div",{className:"text-xs text-stone-500"},"Past event")))})),React.createElement("div",{className:"mt-10 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",P[Ne])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>Y(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},te.mainFeature||te.mainUpcomingEvent||te.eventRecaps||te.volunteerHours||te.donationNeeds||te.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Oe&&Oe.published?`Published - previewing ${P[Ne]}`:`Draft - ${P[Ne]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Newsletter Stats"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",P[oe])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>Je(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},((Pt=xe[oe])==null?void 0:Pt.edition)||((Ot=xe[oe])==null?void 0:Ot.feature)||((Tt=xe[oe])==null?void 0:Tt.fundraisingBroughtIn)||"Add newsletter stats for this month.")),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Goal: 1 per month - Current focus: ",P[$e])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>ke(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Te.headline||Te.summary||Te.keyDetails||Te.outlets||Te.link||Te.notes||"Outline the monthly press release."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},He&&He.published?`Sent - previewing ${P[$e]}`:`Draft - ${P[$e]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",P[Re])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>j(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Et>0?`${Et}/${f.length} prompts filled.`:"Add what you posted this month."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},ze&&ze.completed?`Completed - previewing ${P[Re]}`:`In progress - ${P[Re]}`))),be&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Y(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>W((O+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},P[O]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>W((O+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(Ft=M[O])!=null&&Ft.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>Nt(O)},(Mt=M[O])!=null&&Mt.published?React.createElement(React.Fragment,null,React.createElement(qe,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},ee.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=M[O])==null?void 0:t[e.id])||"",onChange:s=>ft(O,e.id,s.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),Ze&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Stats"),React.createElement("p",{className:"text-xs text-stone-500"},"Track month-by-month newsletter performance.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Je(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>et((oe+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},P[oe]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>et((oe+1)%12)},"Next"))),React.createElement("div",{className:"space-y-4"},he.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=xe[oe])==null?void 0:t[e.id])||"",onChange:s=>ms(oe,e.id,s.target.value),rows:2,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),Me&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Plan month-by-month press releases.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>ke(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Qe((Z+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},P[Z]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Qe((Z+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(jt=ae[Z])!=null&&jt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>bs(Z)},(It=ae[Z])!=null&&It.published?React.createElement(React.Fragment,null,React.createElement(qe,{size:16}),"Sent"):"Mark as Sent")),React.createElement("div",{className:"space-y-4"},E.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=ae[Z])==null?void 0:t[e.id])||"",onChange:s=>gs(Z,e.id,s.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),T&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Track what you actually posted each week.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>j(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((G+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},P[G]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((G+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(Rt=u[G])!=null&&Rt.completed?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>xs(G)},($t=u[G])!=null&&$t.completed?React.createElement(React.Fragment,null,React.createElement(qe,{size:16}),"Completed"):"Mark as Complete")),h.map(e=>React.createElement("div",{key:e.week,className:"space-y-4"},React.createElement("h3",{className:"text-sm font-semibold text-stone-900"},e.week),React.createElement("div",{className:"space-y-3"},e.items.map(t=>{var s,r;return React.createElement("div",{key:t.id,className:"flex flex-col gap-2 rounded-md border border-stone-200 p-3"},React.createElement("div",{className:"text-sm font-medium text-stone-800"},t.day," - ",t.prompt),React.createElement("textarea",{value:((r=(s=u[G])==null?void 0:s.entries)==null?void 0:r[t.id])||"",onChange:n=>ps(G,t.id,n.target.value),rows:2,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"What you posted or did..."}))}))))))),Ve&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Events Booked"),React.createElement("p",{className:"text-xs text-stone-500"},"Manage photo permissions and social posting status.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>_e(!1)},"Close")),React.createElement("div",{className:"p-6"},Ue.length===0?React.createElement("div",{className:"text-sm text-stone-600"},"No bookings found."):React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"min-w-[720px] w-full text-sm"},React.createElement("thead",null,React.createElement("tr",{className:"text-left text-stone-500 border-b border-stone-200"},React.createElement("th",{className:"py-2 pr-3 font-medium"},"Name"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Type"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Photo Permission"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Link / Photographer"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Posted to Socials"))),React.createElement("tbody",{className:"text-stone-800"},Ue.map(e=>React.createElement("tr",{key:e.rowIndex,className:"border-b border-stone-100"},React.createElement("td",{className:"py-3 pr-3 align-top"},e.name||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},e.type||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.photoPermission,onChange:t=>at(e.rowIndex,"photoPermission",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Permission granted")),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("input",{type:"text",value:e.link||"",onChange:t=>at(e.rowIndex,"link",t.target.value),placeholder:"Add link or photographer",className:"w-full px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"})),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.posted,onChange:t=>at(e.rowIndex,"posted",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Posted")))))))))))};var ta=os;const Ys=({metrics:a,majorTodos:o,onAddTodo:l,onToggleTodo:D,onDeleteTodo:L,onOpenHoneybook:w,onOpenVoicemails:se,unreadHoneybook:ce,unreadVoicemails:z})=>{const[_,H]=y(""),M=()=>{const u=_.trim();u&&(l(u),H(""))},J=u=>{u.key==="Enter"&&M()},be=o.filter(u=>!u.done),Y=o.filter(u=>u.done),O={"Events booked":"https://northstarhouse.github.io/north-star-bookings-log/",Volunteers:"https://northstarhouse.github.io/Volunteer-Database/","Donation total":"https://northstarhouse.github.io/donation-database/",Sponsors:"https://northstarhouse.github.io/donation-database/"},W={"Donation total":"Goal: $75,000","Events booked":"Goal: 45",Sponsors:"Goal: 15"};return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold mb-4"},React.createElement(ss,{size:28}),React.createElement("span",{className:"text-sm uppercase tracking-[0.25em] font-semibold"},"Mission Control")),React.createElement("div",{className:"flex gap-2 mb-4"},React.createElement("input",{type:"text",value:_,onChange:u=>H(u.target.value),onKeyDown:J,placeholder:"Add a major focus item...",className:"flex-1 rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold placeholder:text-stone-400"}),React.createElement("button",{onClick:M,disabled:!_.trim(),className:"bg-gold text-white rounded-xl px-4 py-2.5 text-sm font-medium transition hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1.5"},React.createElement(Qs,{size:16}),"Add")),React.createElement("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1"},be.length===0&&Y.length===0&&React.createElement("p",{className:"text-stone-400 text-sm text-center py-4"},"No items yet. Add your first major focus above."),be.map(u=>React.createElement("div",{key:u.id,className:"flex items-center gap-3 group bg-white rounded-xl border border-stone-100 px-4 py-3 transition hover:border-gold/30"},React.createElement("button",{onClick:()=>D(u.id),className:"w-5 h-5 rounded-md border-2 border-stone-300 flex-shrink-0 transition hover:border-gold flex items-center justify-center","aria-label":"Mark complete"}),React.createElement("span",{className:"text-sm text-ink flex-1"},u.text),React.createElement("button",{onClick:()=>L(u.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(Xt,{size:14})))),Y.length>0&&React.createElement("div",{className:"pt-2 border-t border-stone-100 mt-3"},React.createElement("p",{className:"text-[10px] uppercase tracking-wide text-stone-400 mb-2"},"Completed"),Y.map(u=>React.createElement("div",{key:u.id,className:"flex items-center gap-3 group rounded-xl px-4 py-2.5 transition"},React.createElement("button",{onClick:()=>D(u.id),className:"w-5 h-5 rounded-md bg-gold/20 border-2 border-gold/40 flex-shrink-0 flex items-center justify-center text-gold","aria-label":"Mark incomplete"},React.createElement(Us,{size:12})),React.createElement("span",{className:"text-sm text-stone-400 line-through flex-1"},u.text,u.completedAt&&React.createElement("span",{className:"ml-2 text-[10px] text-stone-300 no-underline inline-block",style:{textDecoration:"none"}},Ls(u.completedAt))),React.createElement("button",{onClick:()=>L(u.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(Xt,{size:14}))))))),React.createElement("div",{className:"glass rounded-2xl p-4 card-shadow"},React.createElement("div",{className:"flex flex-wrap gap-2"},[{label:"In-Kind Donation Form",href:"https://drive.google.com/file/d/1cNGysqW__wS2IEKDaNzG1MPo-5JCE-ay/view"},{label:"Reimbursement Form",href:"https://drive.google.com/file/d/1Vkfh6Z5eM1RPUtw6j8mQjqKM71-YFPrW/view?usp=drive_link"},{label:"Board Submission Form",href:"https://drive.google.com/file/d/1_-AcaquXeK-O1x9AOubbQNCwoLWzu3f_/view?usp=drive_link"},{label:"Incident & Injury Form",href:"https://drive.google.com/file/d/1UNzWO6b_-YbKd_rYUxC5GkA2dRQVfcg-/view?usp=drive_link"},{label:"Brick Form",href:"https://drive.google.com/drive/folders/1m7RLU9lwPS_0N-qqwP2aNJaz6fp6UXQt?dmr=1&ec=wgc-drive-%5Bmodule%5D-goto"},{label:"Thank You Notes",href:"https://drive.google.com/drive/folders/1Mi8nNZzNWx1fz7CQ11XiW8SHPqQnBAgR?usp=sharing"}].map(u=>React.createElement("a",{key:u.label,href:u.href,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),u.label))))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Donation total",value:ts(a==null?void 0:a.donationsTotal)},{label:"Events booked",value:mt(a==null?void 0:a.eventsCount)},{label:"Sponsors",value:mt(a==null?void 0:a.sponsorsCount)},{label:"Volunteers",value:mt(a==null?void 0:a.volunteersCount)}].map(u=>O[u.label]?React.createElement("a",{key:u.label,href:O[u.label],className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":`${u.label} details`},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},u.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},u.value),W[u.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},W[u.label]):null):React.createElement("div",{key:u.label,className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow relative"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},u.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},u.value),W[u.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},W[u.label]):null)),React.createElement("div",{className:"col-span-2 grid grid-cols-2 gap-3 mt-1"},React.createElement("button",{onClick:se,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink relative"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),"Voicemails",z&&React.createElement("span",{className:"w-2 h-2 rounded-full bg-gold flex-shrink-0"})),React.createElement("button",{onClick:w,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink relative"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})),"Honeybook Messages",ce&&React.createElement("span",{className:"w-2 h-2 rounded-full bg-gold flex-shrink-0"})),[{label:"Event Planning",href:"https://northstarhouse.github.io/nsh-events-committee/"},{label:"Archives",href:"https://northstarhouse.github.io/north-star-archives/"}].map(u=>React.createElement("a",{key:u.label,href:u.href,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 17L17 7M17 7H7M17 7v10"})),u.label))))))};const Gs=()=>{const[a,o]=y("dashboard"),[l,D]=y(!0),L=Rs(),[w,se]=y({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[ce,z]=y({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[_,H]=y(()=>Ke(it)||[]),[M,J]=y([]),[be,Y]=y(null),[O,W]=y(null),[u,i]=y(null),[T,j]=y(!1),[G,ye]=y({honeybook:null,voicemails:null}),[ae,ne]=y({honeybook:!1,voicemails:!1}),Me=ct.reduce((d,N)=>(d[N.key]={label:N.label,key:N.sheet},d),{}),ke=Zt(new Set),Z=d=>{H(d),Fe(it,d)},Qe=d=>{const N={id:$s(),text:d,done:!1,createdAt:new Date().toISOString(),completedAt:""},k=[..._,N];Z(k),I.saveMajorTodo(N)},Ue=d=>{const N=_.map(k=>{if(k.id!==d)return k;const x=g(p({},k),{done:!k.done,completedAt:k.done?"":new Date().toISOString()});return I.saveMajorTodo(x),x});Z(N)},Ce=d=>{ke.current.add(d);const N=_.filter(k=>k.id!==d);Z(N),I.deleteMajorTodo(d)};Be(()=>{xe()},[]);const Xe=()=>{try{const d=localStorage.getItem(Ht);return d?JSON.parse(d):{}}catch(d){return{}}},je=d=>{try{localStorage.setItem(Ht,JSON.stringify(d))}catch(N){console.warn("Failed to persist last seen timestamps:",N)}},Ve=(d,N)=>{const k=Xe(),x=g(p({},k),{[d]:N||new Date().toISOString()});je(x),ne(S=>g(p({},S),{[d]:!1}))},_e=async()=>{if(I.isConfigured())try{const d=[Wt,zt].join(","),N=await fetch(`${X}?action=getSheetLastUpdated&ids=${encodeURIComponent(d)}`);if(!N.ok)throw new Error("Failed to fetch sheet updates");const k=await N.json();if(!k.success||!k.updated)return;const x=k.updated[Wt]||null,S=k.updated[zt]||null;ye({honeybook:x,voicemails:S});const A=Xe(),B=x&&(!A.honeybook||new Date(x)>new Date(A.honeybook)),F=S&&(!A.voicemails||new Date(S)>new Date(A.voicemails));ne({honeybook:!!B,voicemails:!!F})}catch(d){console.warn("Failed to check sheet updates:",d)}},xe=async({useCache:d=!0}={})=>{var S;if(!pt){D(!1);return}D(!0);const N=d?Ke(Vt):null,k=d?Ke(_t):null,x=d?Ke(dt):null;N&&se(N),k&&z(k),x&&J(x);try{const A=await Promise.allSettled([I.fetchMetrics(),I.fetchSectionSnapshots(),I.fetchMajorTodos()]),[B,F,P]=A;B.status==="fulfilled"&&B.value&&(se(B.value),Fe(Vt,B.value)),F.status==="fulfilled"&&F.value&&(z(F.value),Fe(_t,F.value)),P.status==="fulfilled"&&((S=P.value)!=null&&S.length)&&H(ee=>{const he={};ee.forEach(h=>{he[h.id]=h});const E=P.value.filter(h=>!ke.current.has(h.id)).map(h=>{const f=he[h.id];return f&&f.done!==h.done?f:h});return ee.forEach(h=>{!P.value.find(f=>f.id===h.id)&&!ke.current.has(h.id)&&E.push(h)}),Fe(it,E),E})}catch(A){console.error("Failed to load data:",A)}D(!1),setTimeout(async()=>{try{const A=await I.fetchQuarterlyUpdates();A.length&&(J(A),Fe(dt,A))}catch(A){console.error("Failed to load quarterly updates:",A)}},0)};Be(()=>{if(a!=="dashboard")return;_e();const d=setInterval(_e,3600*1e3);return()=>clearInterval(d)},[a]);const Se=async d=>{const S=d,{focusArea:N,quarter:k}=S,x=Ut(S,["focusArea","quarter"]);await I.submitReviewUpdate(d),J(A=>{const B=A.findIndex(ee=>ee.focusArea===N&&ee.quarter===k),F=B>=0?g(p({},A[B]),{payload:g(p({},A[B].payload||{}),{review:x})}):{focusArea:N,quarter:k,submittedDate:"",payload:{review:x}},P=B>=0?A.map((ee,he)=>he===B?F:ee):[...A,F];return Fe(dt,P),P})},Ze=(d,N)=>{const x=M.filter(F=>F.focusArea===d&&F.quarter===N).sort((F,P)=>new Date(P.submittedDate||P.createdAt)-new Date(F.submittedDate||F.createdAt))[0],S=(x==null?void 0:x.payload)||{},A=S.year||String(new Date().getFullYear()),B=S.submittedDate||(x==null?void 0:x.submittedDate)||new Date().toISOString().slice(0,10);Y({focusArea:d,quarter:N,year:A,submittedDate:B,primaryFocus:S.primaryFocus||"",goals:S.goals&&S.goals.length?S.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:S.wins||"",challenges:S.challenges||{},supportNeeded:S.supportNeeded||"",supportTypes:S.supportTypes||{},decisionsNeeded:S.decisionsNeeded||"",nextQuarterFocus:S.nextQuarterFocus||"",nextPriorities:S.nextPriorities||["","",""],finalTallyOverview:S.finalTallyOverview||""}),o("quarterly"),window.scrollTo(0,0)},Je=(d,N,k,x)=>{if(N!=="Q1")return;const S=x.year||String(new Date().getFullYear()),A=x.submittedDate||(k==null?void 0:k.submittedDate)||new Date().toISOString().slice(0,10);W({areaLabel:d,quarter:N}),i({focusArea:d,quarter:N,year:S,submittedDate:A,primaryFocus:x.primaryFocus||"",goals:x.goals&&x.goals.length?x.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:x.wins||"",challenges:x.challenges||{},supportNeeded:x.supportNeeded||"",supportTypes:x.supportTypes||{},decisionsNeeded:x.decisionsNeeded||"",nextQuarterFocus:x.nextQuarterFocus||"",nextPriorities:x.nextPriorities||["","",""],finalTallyOverview:x.finalTallyOverview||"",uploadedFiles:x.uploadedFiles||[]})},oe=async()=>{if(u){j(!0);try{await I.submitQuarterlyUpdate(g(p({},u),{primaryOnly:!0})),await xe({useCache:!1}),W(null),i(null)}catch(d){console.error("Failed to save inline quarterly update:",d),alert("Failed to save. Please try again.")}j(!1)}},et=async()=>{await xe({useCache:!1}),Y(null),o("dashboard")};return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full border border-gold/40 bg-white text-gold flex items-center justify-center shadow-sm"},React.createElement(ss,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"Haley\u2019s Star Command"),React.createElement("div",{className:"text-xs text-steel"}))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"})),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>o("dashboard"),className:`tab-button text-sm min-w-[200px] ${a==="dashboard"?"active":""}`},"2026 Snapshot"),React.createElement("button",{onClick:()=>o("marketing"),className:`tab-button text-sm min-w-[200px] ${a==="marketing"?"active":""}`},"Marketing"),React.createElement("select",{value:ct.some(d=>d.key===a)?a:"",onChange:d=>{const N=d.target.value;N&&o(N)},className:"tab-button tab-select text-sm bg-white min-w-[220px]"},React.createElement("option",{value:""},"Operational Areas"),ct.map(d=>React.createElement("option",{key:d.key,value:d.key},d.label))))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},L&&React.createElement("div",{className:"max-w-4xl mx-auto mb-6 rounded-2xl border border-amber-200 bg-amber-50 px-5 py-4 text-sm text-amber-800"},L),l?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading Haley\u2019s Organized Chaos..."):React.createElement(React.Fragment,null,a==="dashboard"&&React.createElement(Ys,{metrics:w,majorTodos:_,onAddTodo:Qe,onToggleTodo:Ue,onDeleteTodo:Ce,onOpenHoneybook:()=>{Ve("honeybook",G.honeybook),o("honeybook"),window.scrollTo(0,0)},onOpenVoicemails:()=>{Ve("voicemails",G.voicemails),o("voicemails"),window.scrollTo(0,0)},unreadHoneybook:ae.honeybook,unreadVoicemails:ae.voicemails}),a==="marketing"&&React.createElement(os,null),a==="honeybook"&&React.createElement(_s,{onBack:()=>o("dashboard")}),a==="voicemails"&&React.createElement(Js,{onBack:()=>o("dashboard")}),["construction","grounds","interiors","docents","fund","events","marketing-ops","venue"].includes(a)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},Me[a].label),React.createElement("div",{className:"flex items-center gap-2"})),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const d=ce[Me[a].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(d==null?void 0:d.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},d!=null&&d.budget?ts(d.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(d==null?void 0:d.volunteers)||"N/A")))})())),(()=>{const d=Me[a].label,N=[["Q1","Q2"],["Q3","Q4"]],k={Q1:"Jan 1 - Mar 31",Q2:"Apr 1 - Jun 30",Q3:"Jul 1 - Sep 30",Q4:"Oct 1 - Dec 31"},x={Q1:"Due: March 30th",Q2:"Due: June 30th",Q3:"Due: September 30th",Q4:"Due: December 31st"},S={capacity:"Capacity or volunteer limitations",budget:"Budget or funding constraints",scheduling:"Scheduling or timing issues",coordination:"Cross-area coordination gaps",external:"External factors",other:"Other"},A={staff:"Staff or volunteer help",marketing:"Marketing or communications",board:"Board guidance or decision",funding:"Funding or fundraising support",facilities:"Facilities or logistics",other:"Other"},B=E=>{switch(E){case"Q2":return"Q1";case"Q3":return"Q2";case"Q4":return"Q3";default:return null}},F=E=>M.filter(f=>f.focusArea===d&&f.quarter===E).sort((f,U)=>new Date(U.submittedDate||U.createdAt)-new Date(f.submittedDate||f.createdAt))[0],P=E=>{const h=Q=>String(Q||"").trim().toLowerCase()==="none noted",f=F(E),U=(f==null?void 0:f.payload)||{},le=B(E),me=le?F(le):null,de=(me==null?void 0:me.payload)||{},Ee=(de.nextPriorities||[]).map(Q=>({goal:Q||"",status:"",summary:""})).filter(Q=>String(Q.goal||"").trim()&&!h(Q.goal)),De=U.goals&&U.goals.length?U.goals:Ee.length?Ee:[{},{},{}],ve=U.primaryFocus||(h(de.nextQuarterFocus)?"":de.nextQuarterFocus),ue=(O==null?void 0:O.areaLabel)===d&&(O==null?void 0:O.quarter)===E,C=U.submittedDate||(f==null?void 0:f.submittedDate)||"",V=E==="Q1";return React.createElement("div",{key:`primary-${E}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xl font-display text-ink"},`${E} Primary Focus and Goals`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},k[E])),ue?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("textarea",{value:(u==null?void 0:u.primaryFocus)||"",onChange:Q=>i(q=>g(p({},q),{primaryFocus:Q.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((u==null?void 0:u.goals)||[]).map((Q,q)=>React.createElement("div",{key:q},React.createElement("input",{type:"text",value:Q.goal,onChange:$=>i(ie=>g(p({},ie),{goals:ie.goals.map((fe,Ie)=>Ie===q?g(p({},fe),{goal:$.target.value}):fe)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${q+1}`}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{W(null),i(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:T},"Cancel"),React.createElement("button",{type:"button",onClick:oe,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:T},T?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("div",{className:"whitespace-pre-line"},ve||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"space-y-1"},De.map((Q,q)=>React.createElement("div",{key:q,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(qt,{size:12})),React.createElement("div",null,React.createElement("span",null,Q.goal||"-"))))))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,C?Yt(C):"00-00-0000"),V&&React.createElement("button",{type:"button",onClick:()=>Je(d,E,f,U),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},ee=E=>{const h=F(E),f=(h==null?void 0:h.payload)||{},U=f.submittedDate||(h==null?void 0:h.submittedDate)||"",le=f.challenges||{},me=f.supportTypes||{},de=f.challengesChecked||"",Ee=f.supportTypesChecked||"",De=Object.keys(S).filter($=>le[$]).map($=>$==="other"&&le.otherText?`Other: ${le.otherText}`:S[$]),ve=Object.keys(A).filter($=>me[$]).map($=>$==="other"&&me.otherText?`Other: ${me.otherText}`:A[$]),ue=de||(De.length?De.join(", "):""),C=Ee||(ve.length?ve.join(", "):""),Q=(f.nextPriorities||[]).filter($=>String($||"").trim()),q=!!(f.wins||le.details||ue||f.supportNeeded||C||f.nextQuarterFocus||Q.length||f.decisionsNeeded);return React.createElement("div",{key:`overview-${E}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-lg font-display text-ink"},`${E} Quarterly Reflection`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},k[E])),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},x[E]))),!h||!q?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No submission yet."):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",{className:"whitespace-pre-line"},f.wins||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",{className:"whitespace-pre-line"},le.details||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges (checked)"),React.createElement("div",null,ue||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",{className:"whitespace-pre-line"},f.supportNeeded||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support types"),React.createElement("div",null,C||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next quarter focus area and goals"),React.createElement("div",{className:"whitespace-pre-line"},f.nextQuarterFocus||"None noted"),React.createElement("div",{className:"mt-2 space-y-1"},Q.length?Q.map(($,ie)=>React.createElement("div",{key:ie,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(qt,{size:12})),React.createElement("div",null,$||"-"))):React.createElement("div",null,"None noted"))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Other notes"),React.createElement("div",{className:"whitespace-pre-line"},f.decisionsNeeded||"None noted"))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,U?Yt(U):"00-00-0000"),React.createElement("button",{type:"button",onClick:()=>Ze(d,E),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},he=E=>{var U;const h=F(E),f=((U=h==null?void 0:h.payload)==null?void 0:U.review)||null;return React.createElement(Vs,{key:`review-${E}`,areaLabel:d,quarter:E,review:f,onSave:Se})};return React.createElement("div",{className:"mt-6 space-y-6"},N.map(E=>React.createElement("div",{key:E.join("-"),className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},E.map(h=>P(h))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},E.map(h=>ee(h))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},E.map(h=>he(h))))))})()))))},Ks=ReactDOM.createRoot(document.getElementById("root"));Ks.render(React.createElement(Gs,null));})();
