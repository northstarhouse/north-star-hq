(()=>{var gs=Object.defineProperty,bs=Object.defineProperties;var xs=Object.getOwnPropertyDescriptors;var qe=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var Pt=(s,o,r)=>o in s?gs(s,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[o]=r,p=(s,o)=>{for(var r in o||(o={}))Ot.call(o,r)&&Pt(s,r,o[r]);if(qe)for(var r of qe(o))Tt.call(o,r)&&Pt(s,r,o[r]);return s},b=(s,o)=>bs(s,xs(o));var Ft=(s,o)=>{var r={};for(var E in s)Ot.call(s,E)&&o.indexOf(E)<0&&(r[E]=s[E]);if(s!=null&&qe)for(var E of qe(s))o.indexOf(E)<0&&Tt.call(s,E)&&(r[E]=s[E]);return r};const{useState:S,useEffect:Be,useMemo:$s,useRef:Jt}=React,Mt="nsh-strategy-metrics-cache-v1",jt="nsh-strategy-sections-cache-v1",nt="nsh-strategy-quarterly-cache-v1",lt="nsh-strategy-major-todos-v1",mt=!0,X="https://script.google.com/macros/s/AKfycbydaZEpixA_RWAQ42HPsrFe6gCrf5bDYhWbj7COlNwmq-tQOOJaBiivRQfahnGq3WIDeQ/exec",It=X,hs="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/edit?gid=0#gid=0",vs="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/preview",fs="https://docs.google.com/spreadsheets/d/e/2PACX-1vSTge4UtsTFma1Y4ppSeC5nVORQiTtVLXXysbHUNdf3sOBb372QR9YG3Q9AfUNbGFD3K2Y0FeP4V5P2/pubhtml?gid=0&single=true&widget=false&headers=false&chrome=false",Rt="1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M",$t="1kqVXngOaf_X1lrB6Nbi5U_3NJ4_P_fGMqxhyqdfuDT0",Lt="nsh-sheet-last-seen-v1",Wt=s=>/^https:\/\/script\.google\.com\/macros\/s\/[^/]+\/exec$/i.test(String(s||"").trim()),Ns=()=>{if(!mt)return"";if(!X)return"Google Sheets URL is missing.";const s=String(X).trim();return s.includes("/macros/library/")?"Google Sheets URL is a library link. Use the Web App /exec URL instead.":Wt(s)?"":"Google Sheets URL must be the Web App /exec link."};const dt=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing-ops",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}];const Ls=Array.from({length:11},(s,o)=>o*10),I={isConfigured:()=>mt&&Wt(X),postJson:async(s,o)=>{const r=await fetch(s,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(o)});if(!r.ok){const E=await r.text();throw new Error(`Request failed (${r.status}). ${E||"No response body."}`)}return r.json()},uploadFile:async({filename:s,mimeType:o,data:r})=>{if(!It)throw new Error("Drive upload not configured");const E={action:"uploadImage",filename:s,mimeType:o,data:r},L=await I.postJson(It,E);if(!L.success)throw new Error(L.error||"Upload failed");return L.result},fetchMetrics:async()=>{if(!I.isConfigured())return null;try{const s=await fetch(`${X}?action=getMetrics`);if(!s.ok)throw new Error("Failed to fetch metrics");return(await s.json()).metrics||null}catch(s){return console.error("Error fetching metrics:",s),null}},submitQuarterlyUpdate:async s=>{if(!I.isConfigured())throw new Error("Google Sheets not configured");const o=await I.postJson(X,{action:"submitQuarterlyUpdate",form:s});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},submitReviewUpdate:async s=>{if(!I.isConfigured())throw new Error("Google Sheets not configured");const o=await I.postJson(X,{action:"submitReviewUpdate",review:s});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},fetchQuarterlyUpdates:async()=>{if(!I.isConfigured())return[];try{const s=await fetch(`${X}?action=getQuarterlyUpdates`);if(!s.ok)throw new Error("Failed to fetch quarterly updates");return(await s.json()).updates||[]}catch(s){return console.error("Error fetching quarterly updates:",s),[]}},fetchSectionSnapshots:async()=>{if(!I.isConfigured())return null;try{const s=await fetch(`${X}?action=getSectionSnapshots`);if(!s.ok)throw new Error("Failed to fetch section snapshots");return(await s.json()).sections||null}catch(s){return console.error("Error fetching section snapshots:",s),null}},fetchMajorTodos:async()=>{if(!I.isConfigured())return[];try{const s=await fetch(`${X}?action=getMajorTodos`);if(!s.ok)throw new Error("Failed to fetch major todos");return(await s.json()).todos||[]}catch(s){return console.error("Error fetching major todos:",s),[]}},saveMajorTodo:async s=>{if(!I.isConfigured())return s;try{const o=await I.postJson(X,{action:"saveMajorTodo",todo:s});if(!o.success)throw new Error(o.error||"Save failed");return o.result}catch(o){return console.error("Error saving major todo:",o),s}},deleteMajorTodo:async s=>{if(!I.isConfigured())return{deleted:!0};try{const o=await I.postJson(X,{action:"deleteMajorTodo",id:s});if(!o.success)throw new Error(o.error||"Delete failed");return o.result}catch(o){return console.error("Error deleting major todo:",o),{deleted:!1}}}},Xe=s=>{try{const o=localStorage.getItem(s);return o?JSON.parse(o):null}catch(o){return console.warn("Failed to read cache:",o),null}},Pe=(s,o)=>{try{localStorage.setItem(s,JSON.stringify(o))}catch(r){console.warn("Failed to write cache:",r)}},ys=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,ws=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(o){return s}},Bt=s=>{if(!s)return"";const o=new Date(s);if(Number.isNaN(o.getTime()))return s;const r=String(o.getMonth()+1).padStart(2,"0"),E=String(o.getDate()).padStart(2,"0"),L=String(o.getFullYear());return`${r}-${E}-${L}`};const it=s=>s==null?"N/A":new Intl.NumberFormat("en-US").format(Number(s)||0),zt=s=>{if(s==null)return"N/A";const o=Number(s)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(o)},Qt=s=>{if(!s)return"";const o=new Date(s);return Number.isNaN(o.getTime())?"":o.toISOString().slice(0,10)},ks=(s,o=3)=>{const r=[];for(String(s||"").split(`
`).map(L=>L.trim()).filter(Boolean).forEach(L=>{const w=L.split("|").map(V=>V.trim()),[te="",de="",J=""]=w;r.push({action:te,owner:de,deadline:J})});r.length<o;)r.push({action:"",owner:"",deadline:""});return r.slice(0,o)},Ut=s=>s.map(o=>[o.action,o.owner,o.deadline].map(r=>r.trim()).join(" | ")).filter(o=>o.replace(/\|/g,"").trim()!=="").join(`
`);const Ht=({size:s=24})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const Vt=({size:s=22})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"})),Cs=({size:s=24})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 5v14"}),React.createElement("path",{d:"M5 12h14"}));const Yt=({size:s=20})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Ss=({size:s=20})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M20 6L9 17l-5-5"})),_t=({size:s=16})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M3 6h18"}),React.createElement("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),React.createElement("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}));const Es=({areaLabel:s,quarter:o,review:r,onSave:E})=>{const L=d=>({statusAfterReview:(d==null?void 0:d.statusAfterReview)||"",actionsRows:ks(d==null?void 0:d.actionsAssigned),crossAreaImpacts:(d==null?void 0:d.crossAreaImpacts)||"",areasImpacted:(d==null?void 0:d.areasImpacted)||"",coordinationNeeded:(d==null?void 0:d.coordinationNeeded)||"",priorityConfirmation:(d==null?void 0:d.priorityConfirmation)||"",escalationFlag:(d==null?void 0:d.escalationFlag)||"",reviewCompletedOn:Qt(d==null?void 0:d.reviewCompletedOn),nextCheckInDate:Qt(d==null?void 0:d.nextCheckInDate)}),[w,te]=S(()=>L(r)),[de,J]=S(!1),[V,W]=S(!1);Be(()=>{te(L(r))},[r,s,o]),Be(()=>{W(!1)},[s,o]);const F=(d,O)=>{te(M=>b(p({},M),{[d]:O}))},z=(d,O,M)=>{te(Y=>{const ye=Y.actionsRows.map((se,ie)=>ie===d?b(p({},se),{[O]:M}):se);return b(p({},Y),{actionsRows:ye})})},ge=async()=>{J(!0);const d=w.crossAreaImpacts==="Affects another area",O={focusArea:s,quarter:o,statusAfterReview:w.statusAfterReview,actionsAssigned:Ut(w.actionsRows),crossAreaImpacts:w.crossAreaImpacts,areasImpacted:d?w.areasImpacted:"",coordinationNeeded:d?w.coordinationNeeded:"",priorityConfirmation:w.priorityConfirmation,escalationFlag:w.escalationFlag,reviewCompletedOn:w.reviewCompletedOn,nextCheckInDate:w.nextCheckInDate};try{await E(O)}catch(M){console.error("Failed to save review:",M),alert("Failed to save review. Please try again.")}J(!1)},H=["On track","Minor adjustments needed","Off track - intervention required"],P=["None","Affects another area"],_=["Approved","Adjusted","Replaced"],u=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!V){const O=[{label:"Status After Review",value:w.statusAfterReview},{label:"Actions Assigned",value:Ut(w.actionsRows)},{label:"Cross-Area Impacts",value:w.crossAreaImpacts},{label:"Area(s) impacted",value:w.areasImpacted},{label:"Coordination needed",value:w.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:w.priorityConfirmation},{label:"Escalation Flag",value:w.escalationFlag},{label:"Review completed on",value:w.reviewCompletedOn},{label:"Next check-in date",value:w.nextCheckInDate}].filter(M=>M.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>W(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),O.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},O.map(M=>React.createElement("div",{key:M.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},M.label),React.createElement("div",{className:"whitespace-pre-wrap"},M.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>W(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},H.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-status`,value:d,checked:w.statusAfterReview===d,onChange:O=>F("statusAfterReview",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},w.actionsRows.map((d,O)=>React.createElement("div",{key:O,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:d.action,onChange:M=>z(O,"action",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:d.owner,onChange:M=>z(O,"owner",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:d.deadline,onChange:M=>z(O,"deadline",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},P.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-impact`,value:d,checked:w.crossAreaImpacts===d,onChange:O=>F("crossAreaImpacts",O.target.value),className:"accent-clay"}),React.createElement("span",null,d)))),w.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:w.areasImpacted,onChange:d=>F("areasImpacted",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:w.coordinationNeeded,onChange:d=>F("coordinationNeeded",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},_.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-priority`,value:d,checked:w.priorityConfirmation===d,onChange:O=>F("priorityConfirmation",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},u.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-escalation`,value:d,checked:w.escalationFlag===d,onChange:O=>F("escalationFlag",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:w.reviewCompletedOn,onChange:d=>F("reviewCompletedOn",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:w.nextCheckInDate,onChange:d=>F("nextCheckInDate",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:ge,disabled:de,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},de?"Saving...":"Save review")))};const Ds=({onBack:s})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Honeybook Messages"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live Google Sheet with a cleaner workspace.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:s,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(Yt,{size:16}),"Back to Dashboard")),React.createElement("a",{href:hs,target:"_blank",rel:"noreferrer",className:"px-4 py-2 rounded-xl bg-gold text-white text-sm shadow hover:opacity-90 transition"},"Open in Google Sheets"))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Honeybook Messages",src:vs,className:"w-full h-full border-0 bg-white"}))))),As=({onBack:s})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Voicemail Log"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live sheet in a calmer layout.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:s,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(Yt,{size:16}),"Back to Dashboard")))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Voicemails",src:fs,className:"w-full h-full border-0 bg-white"}))))),ct=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),React.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),React.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"})),Ps=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"17 8 12 3 7 8"}),React.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),Os=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),Ts=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("polyline",{points:"12 6 12 12 16 14"})),Ze=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"M9 12l2 2 4-4"})),Kt=()=>{var yt,wt,kt,Ct,St,Et,Dt,At;const[s,o]=S([]),[r,E]=S(null),[L,w]=S(!1),[te,de]=S(null),[J,V]=S("marketing"),W=Jt(null),[F,z]=S({}),[ge,H]=S(!1),[P,_]=S(new Date().getMonth()),[u,d]=S({}),[O,M]=S(!1),[Y,ye]=S(new Date().getMonth()),[se,ie]=S({}),[Oe,we]=S(!1),[Z,Qe]=S(new Date().getMonth()),[Ue,Te]=S([]),[Fe,Ve]=S(0),[_e,Me]=S(!1),T="https://script.google.com/macros/s/AKfycbzcuMhZ1h15zP7IgYhyCBChgkx_mbe23G6756V2_lHNT1grfgKR-AuZxbHt3t806h8-/exec",ke="nsh-events-cache-v1",fe="nsh-event-flyers-v1",Je="nsh-newsletter-cache-v1",We="nsh-posting-schedule-v1",et="nsh-press-release-cache-v1",i="nsh-bookings-cache-v1",g=["January","February","March","April","May","June","July","August","September","October","November","December"],D=[{id:"mainFeature",label:"Main Feature"},{id:"mainUpcomingEvent",label:"Main Upcoming Event"},{id:"eventRecaps",label:"Event Recaps / Blogs"},{id:"volunteerHours",label:"Volunteer Monthly Hours"},{id:"donationNeeds",label:"Donation Needs"},{id:"other",label:"Other"}],f=[{id:"headline",label:"Headline"},{id:"summary",label:"Summary / Angle"},{id:"keyDetails",label:"Key Details"},{id:"outlets",label:"Target Outlets"},{id:"link",label:"Link"},{id:"notes",label:"Notes"}],y=[{week:"First Week",items:[{id:"w1-mon",day:"Monday",prompt:"Wedding posting + scheduling for the month"},{id:"w1-tue",day:"Tuesday",prompt:"Testimonial or small history"},{id:"w1-wed",day:"Wednesday",prompt:"OPEN"},{id:"w1-thu",day:"Thursday",prompt:"Monthly email send out"},{id:"w1-fri",day:"Friday",prompt:"Volunteer outreach - events"},{id:"w1-other",day:"Other",prompt:"Other"}]},{week:"Second Week",items:[{id:"w2-mon",day:"Monday",prompt:"Sponsor spotlight"},{id:"w2-tue",day:"Tuesday",prompt:"Upcoming event / tours"},{id:"w2-thu",day:"Thursday",prompt:"Planning update"},{id:"w2-fri",day:"Friday",prompt:"Volunteer outreach - restoration"},{id:"w2-other",day:"Other",prompt:"Other"}]},{week:"Third Week",items:[{id:"w3-mon",day:"Monday",prompt:"Upcoming event or wedding"},{id:"w3-tue",day:"Tuesday",prompt:"OPEN"},{id:"w3-thu",day:"Thursday",prompt:"History update"},{id:"w3-fri",day:"Friday",prompt:"Volunteer outreach - garden"},{id:"w3-other",day:"Other",prompt:"Other"}]},{week:"Fourth Week",items:[{id:"w4-mon",day:"Monday",prompt:"OPEN"},{id:"w4-tue",day:"Tuesday",prompt:"Restoration video"},{id:"w4-thu",day:"Thursday",prompt:"Development / board update"},{id:"w4-fri",day:"Friday",prompt:"Volunteer outreach - docents"},{id:"w4-other",day:"Other",prompt:"Other"}]}],A=y.flatMap(e=>e.items),B=A.reduce((e,t)=>(e[`${t.day} - ${t.prompt}`]=t.id,e),{}),R=y.map(e=>e.items.reduce((t,a)=>(t[`${a.day} - ${a.prompt}`]=a.id,t),{})),K=e=>{const t=[];return y.forEach(a=>{const n=a.items.map(l=>{const c=((e==null?void 0:e[l.id])||"").trim();return c?`${l.day} - ${l.prompt}: ${c}`:null}).filter(Boolean);n.length&&t.push(a.week,...n,"")}),t.join(`
`).trim()},G=(e,t)=>e.items.map(n=>{const l=((t==null?void 0:t[n.id])||"").trim();return l?`${n.day} - ${n.prompt}: ${l}`:null}).filter(Boolean).join(`
`).trim(),be=(e,t)=>{if(!e)return{};const a=String(e).split(`
`),n=R[t]||{};return a.reduce((l,c)=>{const h=c.trim();if(!h)return l;const re=h.indexOf(":");if(re===-1)return l;const m=h.slice(0,re).trim(),v=h.slice(re+1).trim(),$=n[m];return $&&(l[$]=v),l},{})},C=e=>e?String(e).split(`
`).reduce((a,n)=>{var v;const l=n.trim();if(!l||/week$/i.test(l))return a;if(l.includes("|")){const $=l.split("|"),Ne=(v=$[0])==null?void 0:v.trim();if(Ne&&A.some(pe=>pe.id===Ne)){const pe=$.slice(2).join("|").trim();return a[Ne]=pe,a}}const c=l.indexOf(":");if(c===-1)return a;const h=l.slice(0,c).trim(),re=l.slice(c+1).trim(),m=B[h];return m&&(a[m]=re),a},{}):{},k=[{id:"press-release",label:"Create Press Release"},{id:"flyer",label:"Create Flyer"},{id:"website",label:"Make Event Page on Website"},{id:"email",label:"Send Email Blast"},{id:"yubanet",label:"YubaNet (Press Release Only - if worthy)",special:!0,optional:!0},{id:"go-nv",label:"Go Nevada County Calendar"},{id:"arts",label:"Arts Council Calendar"},{id:"chamber",label:"Grass Valley Chamber Newsletter (2 weeks prior)",special:!0,optional:!0},{id:"kvmr",label:"KVMR Calendar"},{id:"fb-event",label:"Facebook Event Page"},{id:"fb-nsh",label:"NSH Facebook Page"},{id:"ig-nsh",label:"NSH Instagram Page"},{id:"nv-peeps",label:"Nevada County Peeps"},{id:"gv-peeps",label:"Grass Valley Peeps"},{id:"lake-wildwood",label:"Lake Wildwood Page"},{id:"nextdoor",label:"NextDoor"},{id:"union-cal",label:"Union Event Calendar"},{id:"union-ad",label:"Union Advertisement ($270 - rare)",special:!0,optional:!0},{id:"other",label:"Other",optional:!0}],N=[{id:"event-type",label:"Event type"},{id:"budget-confirmed",label:"Budget confirmed"},{id:"layout-finalized",label:"Layout finalized"},{id:"av-needs",label:"AV needs"},{id:"power-checked",label:"Power checked"},{id:"rentals-ordered",label:"Rentals ordered"},{id:"food-plan",label:"Food plan"},{id:"alcohol-license",label:"Alcohol license (if applicable)"},{id:"volunteer-roles",label:"Volunteer roles assigned"},{id:"staff-lead",label:"Staff lead assigned"},{id:"checkin-ready",label:"Check-in system ready"},{id:"program-ready",label:"Program / agenda printed or shared"},{id:"signage-ready",label:"Signage ready"}],[x,j]=S({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""}),ce=async()=>{if(T)try{const e=await fetch(`${T}?action=list`);if(!e.ok)throw new Error(`Sheets load failed: ${e.status}`);const t=await e.json(),a=Array.isArray(t.events)?t.events:[],n=JSON.parse(localStorage.getItem(fe)||"{}"),l=localStorage.getItem(ke),c=l?JSON.parse(l):[],h=Array.isArray(c)?c.reduce((v,$)=>($&&$.id&&(v[$.id]=$),v),{}):{},m=a.map(v=>{const $=h[v.id],Ne=typeof v.checklist=="string"?JSON.parse(v.checklist||"{}"):v.checklist||{},pe=typeof v.planningChecklist=="string"?JSON.parse(v.planningChecklist||"{}"):v.planningChecklist||{},Le=$&&$.planningChecklist?$.planningChecklist:null,ot=Object.keys(pe||{}).length===0&&Le?Le:pe,rt=v.planningNotes||$&&$.planningNotes||"",Ge=b(p({},v),{date:st(v.date),time:at(v.time),checklist:Ne,planningChecklist:ot,planningNotes:rt,flyerImage:n[v.id]||null});return Le&&Object.keys(pe||{}).length===0&&Ee(Ge),Ge}).filter(v=>{if(!v)return!1;const $=String(v.name||"").trim().length>0,Ne=String(v.date||"").trim().length>0,pe=String(v.createdAt||"").trim().length>0,Le=String(v.targetAttendance||"").trim().length>0||String(v.currentRSVPs||"").trim().length>0,ot=String(v.notes||"").trim().length>0||String(v.planningNotes||"").trim().length>0,rt=v.checklist&&Object.keys(v.checklist).length>0,Ge=v.planningChecklist&&Object.keys(v.planningChecklist).length>0;return $||Ne||pe||Le||ot||rt||Ge});o(m),localStorage.setItem(ke,JSON.stringify(m))}catch(e){console.error("Failed to load events from Sheets",e);const t=localStorage.getItem(ke);if(t)try{const a=JSON.parse(t);Array.isArray(a)&&o(a)}catch(a){console.error("Failed to parse cached events",a)}}},ae=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),mainFeature:(e==null?void 0:e.mainFeature)||"",mainUpcomingEvent:(e==null?void 0:e.mainUpcomingEvent)||"",eventRecaps:(e==null?void 0:e.eventRecaps)||"",volunteerHours:(e==null?void 0:e.volunteerHours)||"",donationNeeds:(e==null?void 0:e.donationNeeds)||"",other:(e==null?void 0:e.other)||""}),ne=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),headline:(e==null?void 0:e.headline)||"",summary:(e==null?void 0:e.summary)||"",keyDetails:(e==null?void 0:e.keyDetails)||"",outlets:(e==null?void 0:e.outlets)||"",link:(e==null?void 0:e.link)||"",notes:(e==null?void 0:e.notes)||""}),le=(e,t)=>{let a={};if(e&&([e.week1,e.week2,e.week3,e.week4].forEach((l,c)=>{a=p(p({},a),be(l,c))}),e.entries)){let l={};if(typeof e.entries=="string")try{l=JSON.parse(e.entries||"{}")}catch(c){l=C(e.entries)}else l=e.entries;Object.keys(l||{}).forEach(c=>{a[c]||(a[c]=l[c])})}const n=A.reduce((l,c)=>(l[c.id]=a[c.id]||"",l),{});return{month:t+1,completed:!!(e!=null&&e.completed),entries:n}},xe=e=>{localStorage.setItem(Je,JSON.stringify(e))},he=e=>{localStorage.setItem(We,JSON.stringify(e))},me=e=>{localStorage.setItem(et,JSON.stringify(e))},je=e=>{localStorage.setItem(i,JSON.stringify(e))},Q=async()=>{if(T)try{const e=await fetch(`${T}?action=newsletter_list`);if(!e.ok)throw new Error(`Newsletter load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const h=parseInt(c.month,10);return!Number.isNaN(h)&&h>=1&&h<=12&&(l[h-1]=ae(c,h-1)),l},{});z(n),xe(n)}catch(e){console.error("Failed to load newsletter data",e);const t=localStorage.getItem(Je);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&z(a)}catch(a){console.error("Failed to parse cached newsletter data",a)}}},oe=async()=>{if(T)try{const e=await fetch(`${T}?action=posting_list`);if(!e.ok)throw new Error(`Posting load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const h=parseInt(c.month,10);return!Number.isNaN(h)&&h>=1&&h<=12&&(l[h-1]=le(c,h-1)),l},{});d(n),he(n)}catch(e){console.error("Failed to load posting schedule",e);const t=localStorage.getItem(We);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&d(a)}catch(a){console.error("Failed to parse cached posting schedule",a)}}},U=async()=>{if(T)try{const e=await fetch(`${T}?action=press_release_list`);if(!e.ok)throw new Error(`Press release load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const h=parseInt(c.month,10);return!Number.isNaN(h)&&h>=1&&h<=12&&(l[h-1]=ne(c,h-1)),l},{});ie(n),me(n)}catch(e){console.error("Failed to load press release data",e);const t=localStorage.getItem(et);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&ie(a)}catch(a){console.error("Failed to parse cached press release data",a)}}},Ce=async()=>{if(T)try{const e=await fetch(`${T}?action=bookings_list`);if(!e.ok)throw new Error(`Bookings load failed: ${e.status}`);const t=await e.json(),a=Array.isArray(t.entries)?t.entries:[],n=Number.isFinite(t.count)?t.count:a.length;Te(a),Ve(n),je(a)}catch(e){console.error("Failed to load bookings data",e);const t=localStorage.getItem(i);if(t)try{const a=JSON.parse(t);Array.isArray(a)&&(Te(a),Ve(a.length))}catch(a){console.error("Failed to parse cached bookings data",a)}}},Ie=async(e,t)=>{if(!T)return;const a=ae(t,e);try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"newsletter_upsert",entry:a})})}catch(n){console.error("Failed to save newsletter entry",n)}},ze=async(e,t)=>{if(!T)return;const a=le(t,e),n={month:a.month,completed:a.completed,week1:G(y[0],a.entries),week2:G(y[1],a.entries),week3:G(y[2],a.entries),week4:G(y[3],a.entries),entries:K(a.entries)};try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"posting_upsert",entry:n})})}catch(l){console.error("Failed to save posting schedule",l)}},ut=async(e,t)=>{if(!T)return;const a=ne(t,e);try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"press_release_upsert",entry:a})})}catch(n){console.error("Failed to save press release entry",n)}},Gt=async e=>{if(T)try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"bookings_update",entry:e})})}catch(t){console.error("Failed to save booking update",t)}},pt=(e,t,a)=>{z(n=>{const l=b(p({},ae(n[e],e)),{[t]:a}),c=b(p({},n),{[e]:l});return xe(c),Ie(e,l),c})},qt=(e,t,a)=>{d(n=>{const l=le(n[e],e),c=b(p({},l),{entries:b(p({},l.entries),{[t]:a})}),h=b(p({},n),{[e]:c});return he(h),ze(e,c),h})},Xt=(e,t,a)=>{ie(n=>{const l=b(p({},ne(n[e],e)),{[t]:a}),c=b(p({},n),{[e]:l});return me(c),ut(e,l),c})},gt=e=>{z(t=>{const a=ae(t[e],e),n=b(p({},a),{published:!a.published}),l=b(p({},t),{[e]:n});return xe(l),Ie(e,n),l})},Zt=e=>{ie(t=>{const a=ne(t[e],e),n=b(p({},a),{published:!a.published}),l=b(p({},t),{[e]:n});return me(l),ut(e,n),l})},es=e=>{d(t=>{const a=le(t[e],e),n=b(p({},a),{completed:!a.completed}),l=b(p({},t),{[e]:n});return he(l),ze(e,n),l})},tt=(e,t,a)=>{Te(n=>{const l=n.map(h=>h.rowIndex!==e?h:b(p({},h),{[t]:a}));je(l);const c=l.find(h=>h.rowIndex===e);return c&&Gt({rowIndex:c.rowIndex,photoPermission:!!c.photoPermission,link:c.link||"",posted:!!c.posted}),l})},Se=e=>{localStorage.setItem(ke,JSON.stringify(e))},ts=(e,t)=>{if(!e||!t)return;const a=JSON.parse(localStorage.getItem(fe)||"{}");a[e]=t,localStorage.setItem(fe,JSON.stringify(a))},ss=e=>{const t=JSON.parse(localStorage.getItem(fe)||"{}");t[e]&&(delete t[e],localStorage.setItem(fe,JSON.stringify(t)))},Ee=async e=>{if(!T)return;const t=b(p({},e),{checklist:typeof e.checklist=="string"?e.checklist:JSON.stringify(e.checklist||{}),planningChecklist:typeof e.planningChecklist=="string"?e.planningChecklist:JSON.stringify(e.planningChecklist||{}),planningNotes:e.planningNotes||""});try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"upsert",event:t})})}catch(a){console.error("Failed to save event to Sheets",a)}},as=async e=>{const t=s.filter(a=>a.id!==e);if(o(t),Se(t),E(null),ss(e),!!T)try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"delete",id:e})})}catch(a){console.error("Failed to delete event from Sheets",a)}};Be(()=>{ce(),Q(),oe(),U(),Ce()},[]);const bt=e=>{if(!e)return null;const n=new Date(e)-new Date;return Math.ceil(n/(1e3*60*60*24))},Is=(e,t)=>!t||t===0?0:Math.round(e/t*100),xt=e=>{const t=k.filter(n=>!n.optional);if(!t.length)return 0;const a=t.filter(n=>e==null?void 0:e[n.id]).length;return Math.round(a/t.length*100)},ht=e=>{const t=Object.values(e||{}).filter(a=>a&&a.done).length;return N.length?Math.round(t/N.length*100):0},os=e=>e>=90?"text-emerald-600":e>=70?"text-stone-600":"text-stone-700",rs=e=>e>=90?"On track":e>=70?"Slightly behind":"Needs attention",He=e=>{const t=k.filter(n=>!n.optional);return`${t.filter(n=>e==null?void 0:e[n.id]).length}/${t.length}`},vt=e=>`${Object.values(e||{}).filter(a=>a&&a.done).length}/${N.length}`,ns=e=>A.filter(t=>((e==null?void 0:e[t.id])||"").trim()).length,st=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},at=e=>{if(!e)return"";if(/^\d{2}:\d{2}$/.test(e))return e;const t=e.match(/^(\d{1,2}):(\d{2}):\d{2}$/);if(t)return`${t[1].padStart(2,"0")}:${t[2]}`;const a=e.match(/^(\d{1,2}):(\d{2})\s*([AaPp][Mm])$/);if(a){let n=parseInt(a[1],10);const l=a[2],c=a[3].toLowerCase()==="pm";return c&&n<12&&(n+=12),!c&&n===12&&(n=0),`${String(n).padStart(2,"0")}:${l}`}return""},ft=e=>{if(!e)return"";const t=at(e);if(!t)return e;const[a,n]=t.split(":"),l=parseInt(a,10),c=l>=12?"PM":"AM";return`${l%12===0?12:l%12}:${n}${c}`},ls=e=>{if(!e)return"";const t=st(e);if(!t)return e;const[a,n,l]=t.split("-").map(Number);return new Date(a,n-1,l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},ue=new Date().getMonth(),De=F[ue],ve=De&&De.published?(ue+1)%12:ue,ee=F[ve]||ae(null,ve),Ye=u[ue],Re=Ye&&Ye.completed?(ue+1)%12:ue,ds=le(u[Re],Re),Nt=ns(ds.entries),Ke=se[ue],$e=Ke&&Ke.published?(ue+1)%12:ue,Ae=se[$e]||ne(null,$e),is=e=>{const t=e.target.files[0];if(t){const a=new FileReader;a.onloadend=()=>{j(b(p({},x),{flyerImage:a.result}))},a.readAsDataURL(t)}},cs=()=>{const e=b(p({},x),{id:Date.now(),createdAt:new Date().toISOString()}),t=[...s,e];o(t),Se(t),e.flyerImage&&ts(e.id,e.flyerImage),Ee(e),w(!1),j({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""})},ms=(e,t)=>{let a=null;const n=s.map(l=>l.id===e?(a=b(p({},l),{checklist:b(p({},l.checklist),{[t]:!l.checklist[t]})}),a):l);o(n),Se(n),r&&r.id===e&&a&&E(a),a&&Ee(a)},us=(e,t)=>{let a=null;const n=s.map(l=>{if(l.id===e){const c=l.planningChecklist||{},h=c[t]||{done:!1,note:""},re=b(p({},c),{[t]:b(p({},h),{done:!h.done})});return a=b(p({},l),{planningChecklist:re}),a}return l});o(n),Se(n),r&&r.id===e&&a&&E(a),a&&Ee(a)},ps=(e,t,a)=>{let n=null;const l=s.map(c=>{if(c.id===e){const h=c.planningChecklist||{},re=h[t]||{done:!1,note:""},m=b(p({},h),{[t]:b(p({},re),{note:a})});return n=b(p({},c),{planningChecklist:m}),n}return c});o(l),Se(l),r&&r.id===e&&n&&E(n),n&&Ee(n)},q=(e,t,a)=>{let n=null;const l=s.map(c=>c.id===e?(n=b(p({},c),{[t]:a}),n):c);o(l),Se(l),r&&r.id===e&&n&&E(n),n&&Ee(n)};if(r){const e=bt(r.date),t=xt(r.checklist),a=ht(r.planningChecklist),n=os(t),l=rs(t),c=e!==null&&e<0;return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("button",{onClick:()=>E(null),className:"mb-6 text-amber-700 hover:text-amber-800 font-medium"},"\u2190 Back to Dashboard"),React.createElement("div",{className:"bg-white rounded-lg shadow-lg border border-stone-200 overflow-hidden",onTouchStart:m=>{W.current=m.touches[0].clientX},onTouchEnd:m=>{if(W.current===null)return;const v=m.changedTouches[0].clientX-W.current;Math.abs(v)>60&&V(v<0?"planning":"marketing"),W.current=null}},r.flyerImage&&React.createElement("div",{className:"w-full h-64 bg-gray-100"},React.createElement("img",{src:r.flyerImage,alt:r.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-8"},React.createElement("div",{className:"mb-6 space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:r.name,onChange:m=>q(r.id,"name",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-2xl font-light text-stone-900",placeholder:"Event name"})),React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-stone-700"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(ct,{size:18}),r.isTBD?React.createElement("span",null,"TBD"):React.createElement(React.Fragment,null,React.createElement("input",{type:"date",value:st(r.date),onChange:m=>q(r.id,"date",m.target.value),className:"px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"}),r.time&&React.createElement("span",{className:"text-sm text-stone-700"},"\xB7 ",ft(r.time)))),e!==null&&!c&&React.createElement("div",{className:"flex items-center gap-2"},React.createElement(Ts,{size:18}),React.createElement("span",null,e," days away")))),React.createElement("div",{className:"mb-6 flex w-full rounded-full border border-stone-200 bg-stone-50 p-1 text-xs font-medium"},React.createElement("button",{onClick:()=>V("marketing"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${J==="marketing"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Marketing"),React.createElement("button",{onClick:()=>V("planning"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${J==="planning"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Event Planning")),J==="marketing"&&React.createElement(React.Fragment,null,!c&&React.createElement("div",{className:"mb-8 p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Marketing Progress"),React.createElement("span",{className:`text-sm font-medium ${n}`},l)),React.createElement("div",{className:"flex items-center gap-4 mb-2"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(t,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},t,"%")),React.createElement("div",{className:"text-sm text-stone-700"},He(r.checklist)," marketing tasks"),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-200"},React.createElement("p",{className:"text-sm text-stone-800 mb-3"},"You're ",e>14?`${e} days out`:e>7?"two weeks out":"one week out"," and have completed ",He(r.checklist)," marketing tasks (",t,"%). Attendance is ",r.currentRSVPs||0," of ",r.targetAttendance||0,"."))),React.createElement("div",{className:"mb-8"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Marketing Checklist"),React.createElement("span",{className:"text-sm text-stone-600 font-medium"},He(r.checklist)," complete")),React.createElement("div",{className:"space-y-2"},k.map(m=>React.createElement("label",{key:m.id,className:"flex items-start sm:items-center gap-3 p-3 hover:bg-stone-50 rounded-md cursor-pointer transition-colors"},React.createElement("input",{type:"checkbox",checked:r.checklist[m.id]||!1,onChange:()=>ms(r.id,m.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`flex-1 ${r.checklist[m.id]?"line-through text-gray-400":"text-stone-800"} ${m.special?"text-sm italic":""}`},m.label))))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Event Details"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:at(r.time)||"",onChange:m=>q(r.id,"time",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:r.goals||"",onChange:m=>q(r.id,"goals",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:r.outcomes||"",onChange:m=>q(r.id,"outcomes",m.target.value),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Budget & Promotion"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:r.advertising||"",onChange:m=>q(r.id,"advertising",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:r.volunteers||"",onChange:m=>q(r.id,"volunteers",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:r.totalSpent||"",onChange:m=>q(r.id,"totalSpent",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:r.totalEarned||"",onChange:m=>q(r.id,"totalEarned",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})))),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:r.currentRSVPs,onChange:m=>q(r.id,"currentRSVPs",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Update attendance count"})),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Notes"),React.createElement("textarea",{value:r.notes,onChange:m=>q(r.id,"notes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Ongoing thoughts and planning notes..."})),React.createElement("div",{className:"border-t border-stone-200 pt-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Post-Event Reflection"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Actual Attendance"),React.createElement("input",{type:"number",value:r.postEventAttendance,onChange:m=>q(r.id,"postEventAttendance",m.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Final attendance count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Reflection Notes"),React.createElement("textarea",{value:r.postEventNotes,onChange:m=>q(r.id,"postEventNotes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What worked well? What would you change? Key takeaways..."})))),React.createElement("div",{className:"mt-8 flex justify-end"},React.createElement("button",{onClick:()=>as(r.id),className:"px-4 py-2 border border-stone-300 text-stone-700 rounded-md hover:bg-stone-100 transition-colors"},"Delete Event"))),J==="planning"&&React.createElement("div",{className:"mb-8 space-y-6"},React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Planning Notes"),React.createElement("textarea",{value:r.planningNotes||"",onChange:m=>q(r.id,"planningNotes",m.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"General info, reminders, or planning thoughts..."})),React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6 cursor-pointer hover:border-amber-300 transition-colors",onClick:()=>H(!0)},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h3",{className:"text-sm font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Showing ",g[ve])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:m=>{m.stopPropagation(),H(!0)}},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},ee.mainFeature||ee.mainUpcomingEvent||ee.eventRecaps||ee.volunteerHours||ee.donationNeeds||ee.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},De&&De.published?`Published - previewing ${g[ve]}`:`Draft - ${g[ve]}`)),React.createElement("div",{className:"p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Event Planning Progress"),React.createElement("span",{className:"text-sm font-medium text-stone-700"},a,"%")),React.createElement("div",{className:"flex items-center gap-4 mb-4"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(a,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},a,"%")),React.createElement("div",{className:"text-sm text-stone-700 mb-4"},vt(r.planningChecklist)," planning tasks"),React.createElement("div",{className:"space-y-3"},N.map(m=>{const v=(r.planningChecklist||{})[m.id]||{done:!1,note:""};return React.createElement("div",{key:m.id,className:"flex flex-col sm:flex-row sm:items-center gap-3 rounded-md bg-white p-3 border border-stone-200"},React.createElement("label",{className:"flex items-center gap-3"},React.createElement("input",{type:"checkbox",checked:v.done||!1,onChange:()=>us(r.id,m.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`text-sm ${v.done?"line-through text-gray-400":"text-stone-800"}`},m.label)),React.createElement("input",{type:"text",value:v.note||"",onChange:$=>ps(r.id,m.id,$.target.value),className:"flex-1 px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"Notes"}))})))),ge&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>H(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>_((P+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},g[P]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>_((P+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(yt=F[P])!=null&&yt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>gt(P)},(wt=F[P])!=null&&wt.published?React.createElement(React.Fragment,null,React.createElement(Ze,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},D.map(m=>{var v;return React.createElement("div",{key:m.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},m.label),React.createElement("textarea",{value:((v=F[P])==null?void 0:v[m.id])||"",onChange:$=>pt(P,m.id,$.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${m.label.toLowerCase()}...`}))})))))))))}return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8"},React.createElement("div",null,React.createElement("h1",{className:"text-4xl font-light text-stone-900 mb-2"},"North Star House"),React.createElement("p",{className:"text-stone-700"},"Event Management")),React.createElement("button",{onClick:()=>w(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] transition-all shadow-md w-full md:w-auto"},React.createElement(Os,{size:20}),"New Event")),L&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 sm:p-6 z-50"},React.createElement("div",{className:"bg-gradient-to-br from-white to-stone-50 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 sm:p-8 border border-stone-200"},React.createElement("h2",{className:"text-2xl font-light text-stone-900 mb-6"},"Create New Event"),React.createElement("div",{className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:x.name,onChange:e=>j(b(p({},x),{name:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event name"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Date"),React.createElement("input",{type:"date",value:x.date,onChange:e=>j(b(p({},x),{date:e.target.value,isTBD:!1})),disabled:x.isTBD,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent disabled:bg-gray-100 bg-white"}),React.createElement("label",{className:"flex items-center gap-2 mt-2"},React.createElement("input",{type:"checkbox",checked:x.isTBD,onChange:e=>j(b(p({},x),{isTBD:e.target.checked,date:""})),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:"text-sm text-stone-700"},"Date TBD"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:x.time,onChange:e=>j(b(p({},x),{time:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:x.goals,onChange:e=>j(b(p({},x),{goals:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:x.outcomes,onChange:e=>j(b(p({},x),{outcomes:e.target.value})),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:x.advertising,onChange:e=>j(b(p({},x),{advertising:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:x.totalSpent,onChange:e=>j(b(p({},x),{totalSpent:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:x.totalEarned,onChange:e=>j(b(p({},x),{totalEarned:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:x.volunteers,onChange:e=>j(b(p({},x),{volunteers:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Target Attendance"),React.createElement("input",{type:"number",value:x.targetAttendance,onChange:e=>j(b(p({},x),{targetAttendance:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Expected number of attendees"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:x.currentRSVPs,onChange:e=>j(b(p({},x),{currentRSVPs:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Current count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Flyer / Event Image"),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("label",{className:"flex items-center gap-2 px-4 py-2 border border-stone-200 rounded-md cursor-pointer hover:bg-stone-50 transition-colors"},React.createElement(Ps,{size:18,className:"text-stone-600"}),React.createElement("span",{className:"text-sm text-stone-800"},"Upload Image"),React.createElement("input",{type:"file",accept:"image/*",onChange:is,className:"hidden"})),x.flyerImage&&React.createElement("img",{src:x.flyerImage,alt:"Preview",className:"h-16 w-16 object-cover rounded-md border border-stone-200 shadow-sm"}))),React.createElement("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4"},React.createElement("button",{onClick:cs,disabled:!x.name,className:"flex-1 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-md"},"Create Event"),React.createElement("button",{onClick:()=>w(!1),className:"px-6 py-3 border border-stone-300 text-stone-800 rounded-md hover:bg-stone-50 transition-colors"},"Cancel"))))),s.length===0?React.createElement("div",{className:"text-center py-16 bg-white rounded-lg border border-stone-200 shadow-sm"},React.createElement(ct,{size:48,className:"mx-auto text-stone-300 mb-4"}),React.createElement("p",{className:"text-stone-700 mb-2"},"No events yet"),React.createElement("p",{className:"text-sm text-stone-500"},"Create your first event to get started")):React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5"},s.map(e=>{const t=bt(e.date),a=xt(e.checklist),n=t!==null&&t<0,l=ht(e.planningChecklist);return React.createElement("div",{key:e.id,onClick:()=>E(e),className:"bg-white rounded-lg shadow-md border border-stone-200 overflow-hidden cursor-pointer hover:shadow-lg hover:border-amber-400 transition-all"},e.flyerImage&&React.createElement("div",{className:"w-full h-40 bg-gradient-to-br from-stone-100 to-amber-100"},React.createElement("img",{src:e.flyerImage,alt:e.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-5"},React.createElement("h3",{className:"text-lg font-medium text-stone-900 mb-2"},e.name),React.createElement("div",{className:"flex items-center justify-between text-sm text-stone-700 mb-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(ct,{size:14}),React.createElement("span",null,e.isTBD?"TBD":`${ls(e.date)}${e.time?` \xB7 ${ft(e.time)}`:""}`)),t!==null&&!n&&React.createElement("span",{className:"text-xs text-stone-500"},t," days")),!n&&React.createElement("div",{className:"mt-3 space-y-2 text-xs text-stone-600"},(e.targetAttendance||e.currentRSVPs)&&React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Goal / Current"),React.createElement("span",{className:"font-medium text-stone-800"},e.targetAttendance||0," / ",e.currentRSVPs||0)),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Marketing progress"),React.createElement("span",{className:"font-medium text-stone-800"},a,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(a,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},He(e.checklist)," tasks"),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Event planning progress"),React.createElement("span",{className:"font-medium text-stone-800"},l,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(l,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},vt(e.planningChecklist)," tasks")),n&&React.createElement("div",{className:"text-xs text-stone-500"},"Past event")))})),React.createElement("div",{className:"mt-10 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",g[ve])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>H(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},ee.mainFeature||ee.mainUpcomingEvent||ee.eventRecaps||ee.volunteerHours||ee.donationNeeds||ee.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},De&&De.published?`Published - previewing ${g[ve]}`:`Draft - ${g[ve]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Goal: 1 per month - Current focus: ",g[$e])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>we(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Ae.headline||Ae.summary||Ae.keyDetails||Ae.outlets||Ae.link||Ae.notes||"Outline the monthly press release."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Ke&&Ke.published?`Sent - previewing ${g[$e]}`:`Draft - ${g[$e]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",g[Re])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>M(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Nt>0?`${Nt}/${A.length} prompts filled.`:"Add what you posted this month."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Ye&&Ye.completed?`Completed - previewing ${g[Re]}`:`In progress - ${g[Re]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Events Booked"),React.createElement("p",{className:"text-xs text-stone-500"},Fe," event",Fe===1?"":"s"," booked")),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>Me(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},"Review photo permissions, links, and socials status."))),ge&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>H(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>_((P+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},g[P]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>_((P+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(kt=F[P])!=null&&kt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>gt(P)},(Ct=F[P])!=null&&Ct.published?React.createElement(React.Fragment,null,React.createElement(Ze,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},D.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=F[P])==null?void 0:t[e.id])||"",onChange:a=>pt(P,e.id,a.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),Oe&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Plan month-by-month press releases.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>we(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Qe((Z+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},g[Z]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Qe((Z+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(St=se[Z])!=null&&St.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>Zt(Z)},(Et=se[Z])!=null&&Et.published?React.createElement(React.Fragment,null,React.createElement(Ze,{size:16}),"Sent"):"Mark as Sent")),React.createElement("div",{className:"space-y-4"},f.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=se[Z])==null?void 0:t[e.id])||"",onChange:a=>Xt(Z,e.id,a.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),O&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Track what you actually posted each week.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>M(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((Y+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},g[Y]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((Y+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(Dt=u[Y])!=null&&Dt.completed?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>es(Y)},(At=u[Y])!=null&&At.completed?React.createElement(React.Fragment,null,React.createElement(Ze,{size:16}),"Completed"):"Mark as Complete")),y.map(e=>React.createElement("div",{key:e.week,className:"space-y-4"},React.createElement("h3",{className:"text-sm font-semibold text-stone-900"},e.week),React.createElement("div",{className:"space-y-3"},e.items.map(t=>{var a,n;return React.createElement("div",{key:t.id,className:"flex flex-col gap-2 rounded-md border border-stone-200 p-3"},React.createElement("div",{className:"text-sm font-medium text-stone-800"},t.day," - ",t.prompt),React.createElement("textarea",{value:((n=(a=u[Y])==null?void 0:a.entries)==null?void 0:n[t.id])||"",onChange:l=>qt(Y,t.id,l.target.value),rows:2,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"What you posted or did..."}))}))))))),_e&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Events Booked"),React.createElement("p",{className:"text-xs text-stone-500"},"Manage photo permissions and social posting status.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Me(!1)},"Close")),React.createElement("div",{className:"p-6"},Ue.length===0?React.createElement("div",{className:"text-sm text-stone-600"},"No bookings found."):React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"min-w-[720px] w-full text-sm"},React.createElement("thead",null,React.createElement("tr",{className:"text-left text-stone-500 border-b border-stone-200"},React.createElement("th",{className:"py-2 pr-3 font-medium"},"Name"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Type"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Photo Permission"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Link / Photographer"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Posted to Socials"))),React.createElement("tbody",{className:"text-stone-800"},Ue.map(e=>React.createElement("tr",{key:e.rowIndex,className:"border-b border-stone-100"},React.createElement("td",{className:"py-3 pr-3 align-top"},e.name||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},e.type||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.photoPermission,onChange:t=>tt(e.rowIndex,"photoPermission",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Permission granted")),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("input",{type:"text",value:e.link||"",onChange:t=>tt(e.rowIndex,"link",t.target.value),placeholder:"Add link or photographer",className:"w-full px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"})),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.posted,onChange:t=>tt(e.rowIndex,"posted",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Posted")))))))))))};var Bs=Kt;const Fs=({metrics:s,majorTodos:o,onAddTodo:r,onToggleTodo:E,onDeleteTodo:L,onOpenHoneybook:w,onOpenVoicemails:te,unreadHoneybook:de,unreadVoicemails:J})=>{const[V,W]=S(""),F=()=>{const u=V.trim();u&&(r(u),W(""))},z=u=>{u.key==="Enter"&&F()},ge=o.filter(u=>!u.done),H=o.filter(u=>u.done),P={"Events booked":"https://northstarhouse.github.io/north-star-bookings-log/",Volunteers:"https://northstarhouse.github.io/Volunteer-Database/","Donation total":"https://northstarhouse.github.io/donation-database/",Sponsors:"https://northstarhouse.github.io/donation-database/"},_={"Donation total":"Goal: $75,000","Events booked":"Goal: 45",Sponsors:"Goal: 15"};return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"flex flex-col gap-4"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold mb-4"},React.createElement(Ht,{size:28}),React.createElement("span",{className:"text-sm uppercase tracking-[0.25em] font-semibold"},"Mission Control")),React.createElement("div",{className:"flex gap-2 mb-4"},React.createElement("input",{type:"text",value:V,onChange:u=>W(u.target.value),onKeyDown:z,placeholder:"Add a major focus item...",className:"flex-1 rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold placeholder:text-stone-400"}),React.createElement("button",{onClick:F,disabled:!V.trim(),className:"bg-gold text-white rounded-xl px-4 py-2.5 text-sm font-medium transition hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1.5"},React.createElement(Cs,{size:16}),"Add")),React.createElement("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1"},ge.length===0&&H.length===0&&React.createElement("p",{className:"text-stone-400 text-sm text-center py-4"},"No items yet. Add your first major focus above."),ge.map(u=>React.createElement("div",{key:u.id,className:"flex items-center gap-3 group bg-white rounded-xl border border-stone-100 px-4 py-3 transition hover:border-gold/30"},React.createElement("button",{onClick:()=>E(u.id),className:"w-5 h-5 rounded-md border-2 border-stone-300 flex-shrink-0 transition hover:border-gold flex items-center justify-center","aria-label":"Mark complete"}),React.createElement("span",{className:"text-sm text-ink flex-1"},u.text),React.createElement("button",{onClick:()=>L(u.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(_t,{size:14})))),H.length>0&&React.createElement("div",{className:"pt-2 border-t border-stone-100 mt-3"},React.createElement("p",{className:"text-[10px] uppercase tracking-wide text-stone-400 mb-2"},"Completed"),H.map(u=>React.createElement("div",{key:u.id,className:"flex items-center gap-3 group rounded-xl px-4 py-2.5 transition"},React.createElement("button",{onClick:()=>E(u.id),className:"w-5 h-5 rounded-md bg-gold/20 border-2 border-gold/40 flex-shrink-0 flex items-center justify-center text-gold","aria-label":"Mark incomplete"},React.createElement(Ss,{size:12})),React.createElement("span",{className:"text-sm text-stone-400 line-through flex-1"},u.text,u.completedAt&&React.createElement("span",{className:"ml-2 text-[10px] text-stone-300 no-underline inline-block",style:{textDecoration:"none"}},ws(u.completedAt))),React.createElement("button",{onClick:()=>L(u.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(_t,{size:14}))))))),React.createElement("div",{className:"glass rounded-2xl p-4 card-shadow"},React.createElement("div",{className:"flex flex-wrap gap-2"},[{label:"In-Kind Donation Form",href:"https://drive.google.com/file/d/1cNGysqW__wS2IEKDaNzG1MPo-5JCE-ay/view"},{label:"Reimbursement Form",href:"https://drive.google.com/file/d/1Vkfh6Z5eM1RPUtw6j8mQjqKM71-YFPrW/view?usp=drive_link"},{label:"Board Submission Form",href:"https://drive.google.com/file/d/1_-AcaquXeK-O1x9AOubbQNCwoLWzu3f_/view?usp=drive_link"},{label:"Incident & Injury Form",href:"https://drive.google.com/file/d/1UNzWO6b_-YbKd_rYUxC5GkA2dRQVfcg-/view?usp=drive_link"},{label:"Brick Form",href:"https://drive.google.com/drive/folders/1m7RLU9lwPS_0N-qqwP2aNJaz6fp6UXQt?dmr=1&ec=wgc-drive-%5Bmodule%5D-goto"},{label:"Thank You Notes",href:"https://drive.google.com/drive/folders/1Mi8nNZzNWx1fz7CQ11XiW8SHPqQnBAgR?usp=sharing"}].map(u=>React.createElement("a",{key:u.label,href:u.href,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})),u.label))))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Donation total",value:zt(s==null?void 0:s.donationsTotal)},{label:"Events booked",value:it(s==null?void 0:s.eventsCount)},{label:"Sponsors",value:it(s==null?void 0:s.sponsorsCount)},{label:"Volunteers",value:it(s==null?void 0:s.volunteersCount)}].map(u=>P[u.label]?React.createElement("a",{key:u.label,href:P[u.label],className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":`${u.label} details`},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},u.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},u.value),_[u.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},_[u.label]):null):React.createElement("div",{key:u.label,className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow relative"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},u.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},u.value),_[u.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},_[u.label]):null)),React.createElement("div",{className:"col-span-2 grid grid-cols-2 gap-3 mt-1"},React.createElement("button",{onClick:te,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink relative"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})),"Voicemails",J&&React.createElement("span",{className:"w-2 h-2 rounded-full bg-gold flex-shrink-0"})),React.createElement("button",{onClick:w,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink relative"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})),"Honeybook Messages",de&&React.createElement("span",{className:"w-2 h-2 rounded-full bg-gold flex-shrink-0"})),[{label:"Event Planning",href:"https://northstarhouse.github.io/nsh-events-committee/"},{label:"Archives",href:"https://northstarhouse.github.io/north-star-archives/"}].map(u=>React.createElement("a",{key:u.label,href:u.href,className:"inline-flex items-center gap-1.5 rounded-lg border border-stone-200 bg-white/60 px-3 py-1.5 text-xs font-medium text-ink/80 transition hover:border-gold/40 hover:bg-white hover:text-ink"},React.createElement("svg",{className:"w-3 h-3 text-gold/70 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 17L17 7M17 7H7M17 7v10"})),u.label))))))};const Ms=()=>{const[s,o]=S("dashboard"),[r,E]=S(!0),L=Ns(),[w,te]=S({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[de,J]=S({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[V,W]=S(()=>Xe(lt)||[]),[F,z]=S([]),[ge,H]=S(null),[P,_]=S(null),[u,d]=S(null),[O,M]=S(!1),[Y,ye]=S({honeybook:null,voicemails:null}),[se,ie]=S({honeybook:!1,voicemails:!1}),Oe=dt.reduce((i,g)=>(i[g.key]={label:g.label,key:g.sheet},i),{}),we=Jt(new Set),Z=i=>{W(i),Pe(lt,i)},Qe=i=>{const g={id:ys(),text:i,done:!1,createdAt:new Date().toISOString(),completedAt:""},D=[...V,g];Z(D),I.saveMajorTodo(g)},Ue=i=>{const g=V.map(D=>{if(D.id!==i)return D;const f=b(p({},D),{done:!D.done,completedAt:D.done?"":new Date().toISOString()});return I.saveMajorTodo(f),f});Z(g)},Te=i=>{we.current.add(i);const g=V.filter(D=>D.id!==i);Z(g),I.deleteMajorTodo(i)};Be(()=>{T()},[]);const Fe=()=>{try{const i=localStorage.getItem(Lt);return i?JSON.parse(i):{}}catch(i){return{}}},Ve=i=>{try{localStorage.setItem(Lt,JSON.stringify(i))}catch(g){console.warn("Failed to persist last seen timestamps:",g)}},_e=(i,g)=>{const D=Fe(),f=b(p({},D),{[i]:g||new Date().toISOString()});Ve(f),ie(y=>b(p({},y),{[i]:!1}))},Me=async()=>{if(I.isConfigured())try{const i=[Rt,$t].join(","),g=await fetch(`${X}?action=getSheetLastUpdated&ids=${encodeURIComponent(i)}`);if(!g.ok)throw new Error("Failed to fetch sheet updates");const D=await g.json();if(!D.success||!D.updated)return;const f=D.updated[Rt]||null,y=D.updated[$t]||null;ye({honeybook:f,voicemails:y});const A=Fe(),B=f&&(!A.honeybook||new Date(f)>new Date(A.honeybook)),R=y&&(!A.voicemails||new Date(y)>new Date(A.voicemails));ie({honeybook:!!B,voicemails:!!R})}catch(i){console.warn("Failed to check sheet updates:",i)}},T=async({useCache:i=!0}={})=>{var y;if(!mt){E(!1);return}E(!0);const g=i?Xe(Mt):null,D=i?Xe(jt):null,f=i?Xe(nt):null;g&&te(g),D&&J(D),f&&z(f);try{const A=await Promise.allSettled([I.fetchMetrics(),I.fetchSectionSnapshots(),I.fetchMajorTodos()]),[B,R,K]=A;B.status==="fulfilled"&&B.value&&(te(B.value),Pe(Mt,B.value)),R.status==="fulfilled"&&R.value&&(J(R.value),Pe(jt,R.value)),K.status==="fulfilled"&&((y=K.value)!=null&&y.length)&&W(G=>{const be={};G.forEach(k=>{be[k.id]=k});const C=K.value.filter(k=>!we.current.has(k.id)).map(k=>{const N=be[k.id];return N&&N.done!==k.done?N:k});return G.forEach(k=>{!K.value.find(N=>N.id===k.id)&&!we.current.has(k.id)&&C.push(k)}),Pe(lt,C),C})}catch(A){console.error("Failed to load data:",A)}E(!1),setTimeout(async()=>{try{const A=await I.fetchQuarterlyUpdates();A.length&&(z(A),Pe(nt,A))}catch(A){console.error("Failed to load quarterly updates:",A)}},0)};Be(()=>{if(s!=="dashboard")return;Me();const i=setInterval(Me,3600*1e3);return()=>clearInterval(i)},[s]);const ke=async i=>{const y=i,{focusArea:g,quarter:D}=y,f=Ft(y,["focusArea","quarter"]);await I.submitReviewUpdate(i),z(A=>{const B=A.findIndex(G=>G.focusArea===g&&G.quarter===D),R=B>=0?b(p({},A[B]),{payload:b(p({},A[B].payload||{}),{review:f})}):{focusArea:g,quarter:D,submittedDate:"",payload:{review:f}},K=B>=0?A.map((G,be)=>be===B?R:G):[...A,R];return Pe(nt,K),K})},fe=(i,g)=>{const f=F.filter(R=>R.focusArea===i&&R.quarter===g).sort((R,K)=>new Date(K.submittedDate||K.createdAt)-new Date(R.submittedDate||R.createdAt))[0],y=(f==null?void 0:f.payload)||{},A=y.year||String(new Date().getFullYear()),B=y.submittedDate||(f==null?void 0:f.submittedDate)||new Date().toISOString().slice(0,10);H({focusArea:i,quarter:g,year:A,submittedDate:B,primaryFocus:y.primaryFocus||"",goals:y.goals&&y.goals.length?y.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:y.wins||"",challenges:y.challenges||{},supportNeeded:y.supportNeeded||"",supportTypes:y.supportTypes||{},decisionsNeeded:y.decisionsNeeded||"",nextQuarterFocus:y.nextQuarterFocus||"",nextPriorities:y.nextPriorities||["","",""],finalTallyOverview:y.finalTallyOverview||""}),o("quarterly"),window.scrollTo(0,0)},Je=(i,g,D,f)=>{if(g!=="Q1")return;const y=f.year||String(new Date().getFullYear()),A=f.submittedDate||(D==null?void 0:D.submittedDate)||new Date().toISOString().slice(0,10);_({areaLabel:i,quarter:g}),d({focusArea:i,quarter:g,year:y,submittedDate:A,primaryFocus:f.primaryFocus||"",goals:f.goals&&f.goals.length?f.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:f.wins||"",challenges:f.challenges||{},supportNeeded:f.supportNeeded||"",supportTypes:f.supportTypes||{},decisionsNeeded:f.decisionsNeeded||"",nextQuarterFocus:f.nextQuarterFocus||"",nextPriorities:f.nextPriorities||["","",""],finalTallyOverview:f.finalTallyOverview||"",uploadedFiles:f.uploadedFiles||[]})},We=async()=>{if(u){M(!0);try{await I.submitQuarterlyUpdate(b(p({},u),{primaryOnly:!0})),await T({useCache:!1}),_(null),d(null)}catch(i){console.error("Failed to save inline quarterly update:",i),alert("Failed to save. Please try again.")}M(!1)}},et=async()=>{await T({useCache:!1}),H(null),o("dashboard")};return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full border border-gold/40 bg-white text-gold flex items-center justify-center shadow-sm"},React.createElement(Ht,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"Haley\u2019s Star Command"),React.createElement("div",{className:"text-xs text-steel"}))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"})),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>o("dashboard"),className:`tab-button text-sm min-w-[200px] ${s==="dashboard"?"active":""}`},"2026 Snapshot"),React.createElement("button",{onClick:()=>o("marketing"),className:`tab-button text-sm min-w-[200px] ${s==="marketing"?"active":""}`},"Marketing"),React.createElement("select",{value:dt.some(i=>i.key===s)?s:"",onChange:i=>{const g=i.target.value;g&&o(g)},className:"tab-button tab-select text-sm bg-white min-w-[220px]"},React.createElement("option",{value:""},"Operational Areas"),dt.map(i=>React.createElement("option",{key:i.key,value:i.key},i.label))))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},L&&React.createElement("div",{className:"max-w-4xl mx-auto mb-6 rounded-2xl border border-amber-200 bg-amber-50 px-5 py-4 text-sm text-amber-800"},L),r?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading Haley\u2019s Organized Chaos..."):React.createElement(React.Fragment,null,s==="dashboard"&&React.createElement(Fs,{metrics:w,majorTodos:V,onAddTodo:Qe,onToggleTodo:Ue,onDeleteTodo:Te,onOpenHoneybook:()=>{_e("honeybook",Y.honeybook),o("honeybook"),window.scrollTo(0,0)},onOpenVoicemails:()=>{_e("voicemails",Y.voicemails),o("voicemails"),window.scrollTo(0,0)},unreadHoneybook:se.honeybook,unreadVoicemails:se.voicemails}),s==="marketing"&&React.createElement(Kt,null),s==="honeybook"&&React.createElement(Ds,{onBack:()=>o("dashboard")}),s==="voicemails"&&React.createElement(As,{onBack:()=>o("dashboard")}),["construction","grounds","interiors","docents","fund","events","marketing-ops","venue"].includes(s)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},Oe[s].label),React.createElement("div",{className:"flex items-center gap-2"})),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const i=de[Oe[s].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(i==null?void 0:i.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},i!=null&&i.budget?zt(i.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(i==null?void 0:i.volunteers)||"N/A")))})())),(()=>{const i=Oe[s].label,g=[["Q1","Q2"],["Q3","Q4"]],D={Q1:"Jan 1 - Mar 31",Q2:"Apr 1 - Jun 30",Q3:"Jul 1 - Sep 30",Q4:"Oct 1 - Dec 31"},f={Q1:"Due: March 30th",Q2:"Due: June 30th",Q3:"Due: September 30th",Q4:"Due: December 31st"},y={capacity:"Capacity or volunteer limitations",budget:"Budget or funding constraints",scheduling:"Scheduling or timing issues",coordination:"Cross-area coordination gaps",external:"External factors",other:"Other"},A={staff:"Staff or volunteer help",marketing:"Marketing or communications",board:"Board guidance or decision",funding:"Funding or fundraising support",facilities:"Facilities or logistics",other:"Other"},B=C=>{switch(C){case"Q2":return"Q1";case"Q3":return"Q2";case"Q4":return"Q3";default:return null}},R=C=>F.filter(N=>N.focusArea===i&&N.quarter===C).sort((N,x)=>new Date(x.submittedDate||x.createdAt)-new Date(N.submittedDate||N.createdAt))[0],K=C=>{const k=Q=>String(Q||"").trim().toLowerCase()==="none noted",N=R(C),x=(N==null?void 0:N.payload)||{},j=B(C),ce=j?R(j):null,ae=(ce==null?void 0:ce.payload)||{},ne=(ae.nextPriorities||[]).map(Q=>({goal:Q||"",status:"",summary:""})).filter(Q=>String(Q.goal||"").trim()&&!k(Q.goal)),le=x.goals&&x.goals.length?x.goals:ne.length?ne:[{},{},{}],xe=x.primaryFocus||(k(ae.nextQuarterFocus)?"":ae.nextQuarterFocus),he=(P==null?void 0:P.areaLabel)===i&&(P==null?void 0:P.quarter)===C,me=x.submittedDate||(N==null?void 0:N.submittedDate)||"",je=C==="Q1";return React.createElement("div",{key:`primary-${C}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xl font-display text-ink"},`${C} Primary Focus and Goals`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},D[C])),he?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("textarea",{value:(u==null?void 0:u.primaryFocus)||"",onChange:Q=>d(oe=>b(p({},oe),{primaryFocus:Q.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((u==null?void 0:u.goals)||[]).map((Q,oe)=>React.createElement("div",{key:oe},React.createElement("input",{type:"text",value:Q.goal,onChange:U=>d(Ce=>b(p({},Ce),{goals:Ce.goals.map((Ie,ze)=>ze===oe?b(p({},Ie),{goal:U.target.value}):Ie)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${oe+1}`}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{_(null),d(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:O},"Cancel"),React.createElement("button",{type:"button",onClick:We,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:O},O?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("div",{className:"whitespace-pre-line"},xe||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"space-y-1"},le.map((Q,oe)=>React.createElement("div",{key:oe,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Vt,{size:12})),React.createElement("div",null,React.createElement("span",null,Q.goal||"-"))))))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,me?Bt(me):"00-00-0000"),je&&React.createElement("button",{type:"button",onClick:()=>Je(i,C,N,x),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},G=C=>{const k=R(C),N=(k==null?void 0:k.payload)||{},x=N.submittedDate||(k==null?void 0:k.submittedDate)||"",j=N.challenges||{},ce=N.supportTypes||{},ae=N.challengesChecked||"",ne=N.supportTypesChecked||"",le=Object.keys(y).filter(U=>j[U]).map(U=>U==="other"&&j.otherText?`Other: ${j.otherText}`:y[U]),xe=Object.keys(A).filter(U=>ce[U]).map(U=>U==="other"&&ce.otherText?`Other: ${ce.otherText}`:A[U]),he=ae||(le.length?le.join(", "):""),me=ne||(xe.length?xe.join(", "):""),Q=(N.nextPriorities||[]).filter(U=>String(U||"").trim()),oe=!!(N.wins||j.details||he||N.supportNeeded||me||N.nextQuarterFocus||Q.length||N.decisionsNeeded);return React.createElement("div",{key:`overview-${C}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-lg font-display text-ink"},`${C} Quarterly Reflection`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},D[C])),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},f[C]))),!k||!oe?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No submission yet."):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",{className:"whitespace-pre-line"},N.wins||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",{className:"whitespace-pre-line"},j.details||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges (checked)"),React.createElement("div",null,he||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",{className:"whitespace-pre-line"},N.supportNeeded||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support types"),React.createElement("div",null,me||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next quarter focus area and goals"),React.createElement("div",{className:"whitespace-pre-line"},N.nextQuarterFocus||"None noted"),React.createElement("div",{className:"mt-2 space-y-1"},Q.length?Q.map((U,Ce)=>React.createElement("div",{key:Ce,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Vt,{size:12})),React.createElement("div",null,U||"-"))):React.createElement("div",null,"None noted"))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Other notes"),React.createElement("div",{className:"whitespace-pre-line"},N.decisionsNeeded||"None noted"))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,x?Bt(x):"00-00-0000"),React.createElement("button",{type:"button",onClick:()=>fe(i,C),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},be=C=>{var x;const k=R(C),N=((x=k==null?void 0:k.payload)==null?void 0:x.review)||null;return React.createElement(Es,{key:`review-${C}`,areaLabel:i,quarter:C,review:N,onSave:ke})};return React.createElement("div",{className:"mt-6 space-y-6"},g.map(C=>React.createElement("div",{key:C.join("-"),className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(k=>K(k))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(k=>G(k))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(k=>be(k))))))})()))))},js=ReactDOM.createRoot(document.getElementById("root"));js.render(React.createElement(Ms,null));})();
