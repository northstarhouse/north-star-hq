(()=>{var yt=Object.defineProperty,wt=Object.defineProperties;var Nt=Object.getOwnPropertyDescriptors;var xe=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var _e=(e,t,o)=>t in e?yt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,D=(e,t)=>{for(var o in t||(t={}))ze.call(t,o)&&_e(e,o,t[o]);if(xe)for(var o of xe(t))Je.call(t,o)&&_e(e,o,t[o]);return e},F=(e,t)=>wt(e,Nt(t));var He=(e,t)=>{var o={};for(var c in e)ze.call(e,c)&&t.indexOf(c)<0&&(o[c]=e[c]);if(e!=null&&xe)for(var c of xe(e))t.indexOf(c)<0&&Je.call(e,c)&&(o[c]=e[c]);return o};const{useState:g,useEffect:be,useMemo:fe}=React,Xe="nsh-strategy-cache-v1",Ye="nsh-strategy-metrics-cache-v1",qe="nsh-strategy-sections-cache-v1",De="nsh-strategy-quarterly-cache-v1",Fe="nsh-strategy-vision-cache-v1",he="nsh-strategy-focus-goals-cache-v1",kt=300*1e3,Ee=()=>{try{const e=localStorage.getItem(Xe);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},re=e=>{try{localStorage.setItem(Xe,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},Qe=!0,j="https://script.google.com/macros/s/AKfycbwceVcGLuTCKp_GjlzYERa1OyhUcQQw6jnKhG2cmn4_AgSZjPEE8CWaO698S-lEtlk1/exec",We=j,et=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],Ie=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}],X=["Not started","On track","At risk","Behind","Complete"],Ct=["Pending","Reviewed","Needs info"],tt=Array.from({length:11},(e,t)=>t*10),Pe=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"We will have a clear set of documented programs and services that reinforce the House's role as a cultural historical gathering center and are well-organized, financially sustainable, and have clearly communicated teams of staff/volunteers that run each of the programs/services.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"A smooth-running organization that ensures the success of the Conservancy.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"},{id:"3",title:"Complete house restoration and grounds plan",focusArea:"House and Grounds Development",description:"Finish the first floor renovation, restore the second floor with a volunteer crew, install fire suppression, and clarify the grounds plan.",owner:"Facilities Lead",coChampions:"Volunteer Crew Lead, Board Liaison",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"First floor renovated, second floor restored, fire suppression installed, grounds plan approved.",threeYearVision:"Complete the first floor renovation. The 2nd floor of the house will be restored by a clearly-led and well-organized volunteer crew. A fire suppression system will be installed. Plans for the rest of the grounds will have been clarified.",annualGoals:"Confirm scope, recruit volunteer crew, secure fire suppression bids, draft grounds plan options.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"},{id:"4",title:"Staff and organize fund development plan",focusArea:"Fund Development",description:"Build staffing, systems, and campaign execution to accelerate fundraising.",owner:"Development Director",coChampions:"Board Treasurer, Capital Campaign Chair",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"Fund development staffing in place, $1M raised toward capital campaign.",threeYearVision:"Over the next three years we will have successfully staffed and organized our fund development plans and raised $1M of the $2M capital campaign.",annualGoals:"Hire development lead, finalize campaign plan, raise initial $250k.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"}],St=[{id:"fg-1",focusArea:"Fund Development",goalTopic:"Annual goal",annualGoals:"Document the Conservancy\u2019s fund development plan.",annualGoalsItems:[],goalDetails:"",goalLead:"",futureGoals:"",startDate:"",dueDate:"",goalChampions:"Jeff, Haley",goalTeamMembers:"",progress:"Not Started",category:""}],x={isConfigured:()=>Qe&&j&&j.length>0,postJson:async(e,t)=>{const o=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!o.ok)throw new Error("Request failed");return o.json()},fetchAll:async()=>{if(!Qe){const e=Ee();return(e==null?void 0:e.objects)||[]}if(!x.isConfigured())return console.log("Google Sheets not configured, using sample data"),Pe;try{const e=await fetch(`${j}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),Pe}},create:async e=>{if(!x.isConfigured())return console.log("Google Sheets not configured, saving locally only"),F(D({},e),{id:Date.now().toString()});try{return(await x.postJson(j,{action:"create",object:e})).result||F(D({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),F(D({},e),{id:Date.now().toString()})}},update:async e=>{if(!x.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await x.postJson(j,{action:"update",object:e}),e}catch(t){return console.error("Error updating from Google Sheets:",t),e}},delete:async e=>{if(!x.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await x.postJson(j,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadFile:async({filename:e,mimeType:t,data:o})=>{if(!We)throw new Error("Drive upload not configured");const c={action:"uploadImage",filename:e,mimeType:t,data:o},u=await x.postJson(We,c);if(!u.success)throw new Error(u.error||"Upload failed");return u.result},fetchMetrics:async()=>{if(!x.isConfigured())return null;try{const e=await fetch(`${j}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}},submitQuarterlyUpdate:async e=>{if(!x.isConfigured())throw new Error("Google Sheets not configured");const t=await x.postJson(j,{action:"submitQuarterlyUpdate",form:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},submitReviewUpdate:async e=>{if(!x.isConfigured())throw new Error("Google Sheets not configured");const t=await x.postJson(j,{action:"submitReviewUpdate",review:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},fetchVisionStatements:async()=>{if(!x.isConfigured())return[];try{const e=await fetch(`${j}?action=getVisionStatements`);if(!e.ok)throw new Error("Failed to fetch vision statements");return(await e.json()).vision||[]}catch(e){return console.error("Error fetching vision statements:",e),[]}},updateVisionStatement:async e=>{if(!x.isConfigured())throw new Error("Google Sheets not configured");const t=await x.postJson(j,{action:"updateVisionStatement",vision:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},fetchFocusAreaGoals:async()=>{if(!x.isConfigured())return[];try{const e=await fetch(`${j}?action=getFocusAreaGoals`);if(!e.ok)throw new Error("Failed to fetch focus area goals");return(await e.json()).goals||[]}catch(e){return console.error("Error fetching focus area goals:",e),[]}},updateFocusAreaGoal:async e=>{if(!x.isConfigured())throw new Error("Google Sheets not configured");const t=await x.postJson(j,{action:"updateFocusAreaGoal",goal:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},deleteFocusAreaGoal:async e=>{if(!x.isConfigured())throw new Error("Google Sheets not configured");const t=await x.postJson(j,{action:"deleteFocusAreaGoal",id:e});if(!t.success)throw new Error(t.error||"Delete failed");return t.result},fetchQuarterlyUpdates:async()=>{if(!x.isConfigured())return[];try{const e=await fetch(`${j}?action=getQuarterlyUpdates`);if(!e.ok)throw new Error("Failed to fetch quarterly updates");return(await e.json()).updates||[]}catch(e){return console.error("Error fetching quarterly updates:",e),[]}},fetchSectionSnapshots:async()=>{if(!x.isConfigured())return null;try{const e=await fetch(`${j}?action=getSectionSnapshots`);if(!e.ok)throw new Error("Failed to fetch section snapshots");return(await e.json()).sections||null}catch(e){return console.error("Error fetching section snapshots:",e),null}}},oe=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read cache:",t),null}},J=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(o){console.warn("Failed to write cache:",o)}},st=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,ne=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}},Ze=e=>{if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const o=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0"),u=String(t.getFullYear());return`${o}-${c}-${u}`};const Te=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(Number(e)||0),at=e=>{if(e==null)return"N/A";const t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t)},ye=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},At=(e,t=3)=>{const o=[];for(String(e||"").split(`
`).map(u=>u.trim()).filter(Boolean).forEach(u=>{const n=u.split("|").map(w=>w.trim()),[r="",h="",l=""]=n;o.push({action:r,owner:h,deadline:l})});o.length<t;)o.push({action:"",owner:"",deadline:""});return o.slice(0,t)},Ke=e=>e.map(t=>[t.action,t.owner,t.deadline].map(o=>o.trim()).join(" | ")).filter(t=>t.replace(/\|/g,"").trim()!=="").join(`
`),q=e=>F(D({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),Dt=e=>e.slice().sort((t,o)=>new Date(o.date)-new Date(t.date)),Ft=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-gold text-white border-gold";default:return"bg-stone-100 text-stone-600 border-stone-200"}},It=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},rt=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const le=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"}));const ot=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Tt=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),Ot=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${Ft(e)}`},e);const Et=({update:e,onReviewSave:t})=>{const[o,c]=g(e.reviewStatus||"Pending"),[u,n]=g(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},ne(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${It(o)}`},o)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-gold"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:o,onChange:r=>c(r.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},Ct.map(r=>React.createElement("option",{key:r,value:r},r))),React.createElement("input",{type:"text",value:u,onChange:r=>n(r.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>t(e.id,o,u),className:"px-4 py-2 bg-gold text-white rounded-lg text-sm"},"Save review"))))},Qt=({initiative:e,onSubmit:t})=>{const[o,c]=g(""),[u,n]=g(""),[r,h]=g(""),[l,w]=g(""),[m,T]=g(""),[E,Q]=g(e.progress||0),[L,M]=g("");return React.createElement("form",{onSubmit:N=>{N.preventDefault();const a={id:st(),date:new Date().toISOString(),author:o,summary:u,details:r,blockers:l,nextSteps:m,progress:Number(E)||0,links:L,reviewStatus:"Pending",reviewNotes:""};t(a),c(""),n(""),h(""),w(""),T(""),Q(e.progress||0),M("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:o,onChange:N=>c(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:u,onChange:N=>n(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:r,onChange:N=>h(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:l,onChange:N=>w(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:m,onChange:N=>T(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:E,onChange:N=>Q(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},tt.map(N=>React.createElement("option",{key:N,value:N},N,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:L,onChange:N=>M(N.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},Pt=({initiative:e,onSave:t,onCancel:o,isSaving:c})=>{const[u,n]=g(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||X[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),r=(l,w)=>{n(m=>F(D({},m),{[l]:w}))};return React.createElement("form",{onSubmit:l=>{l.preventDefault();const w=F(D(D({},e),u),{progress:Number(u.progress)||0,updates:(e==null?void 0:e.updates)||[]});t(w)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:u.title,onChange:l=>r("title",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:u.focusArea,onChange:l=>r("focusArea",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),et.map(l=>React.createElement("option",{key:l,value:l},l)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:u.owner,onChange:l=>r("owner",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:u.description,onChange:l=>r("description",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:u.coChampions,onChange:l=>r("coChampions",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:u.status,onChange:l=>r("status",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},X.map(l=>React.createElement("option",{key:l,value:l},l)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:u.progress,onChange:l=>r("progress",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},tt.map(l=>React.createElement("option",{key:l,value:l},l,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:u.targetDate,onChange:l=>r("targetDate",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:u.successMetrics,onChange:l=>r("successMetrics",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:u.threeYearVision,onChange:l=>r("threeYearVision",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:u.annualGoals,onChange:l=>r("annualGoals",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:u.notes,onChange:l=>r("notes",l.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:o,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:c,className:"px-5 py-2 bg-gold text-white rounded-lg"},c?"Saving...":"Save initiative")))};const jt=({areaLabel:e,quarter:t,review:o,onSave:c})=>{const u=a=>({statusAfterReview:(a==null?void 0:a.statusAfterReview)||"",actionsRows:At(a==null?void 0:a.actionsAssigned),crossAreaImpacts:(a==null?void 0:a.crossAreaImpacts)||"",areasImpacted:(a==null?void 0:a.areasImpacted)||"",coordinationNeeded:(a==null?void 0:a.coordinationNeeded)||"",priorityConfirmation:(a==null?void 0:a.priorityConfirmation)||"",escalationFlag:(a==null?void 0:a.escalationFlag)||"",reviewCompletedOn:ye(a==null?void 0:a.reviewCompletedOn),nextCheckInDate:ye(a==null?void 0:a.nextCheckInDate)}),[n,r]=g(()=>u(o)),[h,l]=g(!1),[w,m]=g(!1);be(()=>{r(u(o))},[o,e,t]),be(()=>{m(!1)},[e,t]);const T=(a,S)=>{r(I=>F(D({},I),{[a]:S}))},E=(a,S,I)=>{r($=>{const Z=$.actionsRows.map((p,ee)=>ee===a?F(D({},p),{[S]:I}):p);return F(D({},$),{actionsRows:Z})})},Q=async()=>{l(!0);const a=n.crossAreaImpacts==="Affects another area",S={focusArea:e,quarter:t,statusAfterReview:n.statusAfterReview,actionsAssigned:Ke(n.actionsRows),crossAreaImpacts:n.crossAreaImpacts,areasImpacted:a?n.areasImpacted:"",coordinationNeeded:a?n.coordinationNeeded:"",priorityConfirmation:n.priorityConfirmation,escalationFlag:n.escalationFlag,reviewCompletedOn:n.reviewCompletedOn,nextCheckInDate:n.nextCheckInDate};try{await c(S)}catch(I){console.error("Failed to save review:",I),alert("Failed to save review. Please try again.")}l(!1)},L=["On track","Minor adjustments needed","Off track - intervention required"],M=["None","Affects another area"],H=["Approved","Adjusted","Replaced"],N=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!w){const S=[{label:"Status After Review",value:n.statusAfterReview},{label:"Actions Assigned",value:Ke(n.actionsRows)},{label:"Cross-Area Impacts",value:n.crossAreaImpacts},{label:"Area(s) impacted",value:n.areasImpacted},{label:"Coordination needed",value:n.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:n.priorityConfirmation},{label:"Escalation Flag",value:n.escalationFlag},{label:"Review completed on",value:n.reviewCompletedOn},{label:"Next check-in date",value:n.nextCheckInDate}].filter(I=>I.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>m(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),S.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},S.map(I=>React.createElement("div",{key:I.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},I.label),React.createElement("div",{className:"whitespace-pre-wrap"},I.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>m(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},L.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-status`,value:a,checked:n.statusAfterReview===a,onChange:S=>T("statusAfterReview",S.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},n.actionsRows.map((a,S)=>React.createElement("div",{key:S,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:a.action,onChange:I=>E(S,"action",I.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.owner,onChange:I=>E(S,"owner",I.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.deadline,onChange:I=>E(S,"deadline",I.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},M.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-impact`,value:a,checked:n.crossAreaImpacts===a,onChange:S=>T("crossAreaImpacts",S.target.value),className:"accent-clay"}),React.createElement("span",null,a)))),n.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:n.areasImpacted,onChange:a=>T("areasImpacted",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:n.coordinationNeeded,onChange:a=>T("coordinationNeeded",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},H.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-priority`,value:a,checked:n.priorityConfirmation===a,onChange:S=>T("priorityConfirmation",S.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},N.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-escalation`,value:a,checked:n.escalationFlag===a,onChange:S=>T("escalationFlag",S.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:n.reviewCompletedOn,onChange:a=>T("reviewCompletedOn",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:n.nextCheckInDate,onChange:a=>T("nextCheckInDate",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:Q,disabled:h,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},h?"Saving...":"Save review")))},Rt=({focusArea:e,vision:t,onSave:o,isSaving:c,hideLabel:u=!1,containerClass:n="",forceEditing:r,onEditToggle:h,hideEditButton:l=!1})=>{const[w,m]=g(!1),[T,E]=g(t||""),Q=typeof r=="boolean"?r:w;be(()=>{Q||E(t||"")},[t,Q]);const L=()=>{o(e,T),typeof r=="boolean"?h==null||h(!1):m(!1)};return React.createElement("div",{className:`bg-white rounded-2xl p-5 border border-stone-100 card-shadow ${n}`.trim()},React.createElement("div",{className:"flex items-start justify-between gap-3"},!u&&React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"flex items-center gap-2 text-xs"},Q?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",onClick:()=>{typeof r=="boolean"?h==null||h(!1):m(!1),E(t||"")},className:"px-2 py-1 border border-stone-200 rounded-lg",disabled:c},"Cancel"),React.createElement("button",{type:"button",onClick:L,className:"px-2 py-1 bg-gold text-white rounded-lg",disabled:c},c?"Saving...":"Save")):!l&&React.createElement("button",{type:"button",onClick:()=>{typeof r=="boolean"?h==null||h(!0):m(!0)},className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"))),Q?React.createElement("textarea",{value:T,onChange:M=>E(M.target.value),className:"w-full mt-3 px-3 py-2 border border-stone-200 rounded-lg text-sm min-h-[120px]",placeholder:"Describe what success looks like in three years."}):React.createElement("div",{className:"text-sm text-stone-700 mt-2 space-y-1"},t?String(t).split(`
`).map(M=>M.trim()).filter(Boolean).map((M,H)=>React.createElement("div",{key:`${e}-vision-${H}`,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("span",{className:"whitespace-pre-wrap"},M))):React.createElement("span",null,"Add a three-year vision for this focus area.")))},Oe=({focusArea:e,initialGoal:t,presetCategory:o,onSave:c,onCancel:u,isSaving:n})=>{const[r,h]=g(()=>({id:(t==null?void 0:t.id)||"",focusArea:e,goalTopic:"Annual goal",annualGoals:(t==null?void 0:t.annualGoals)||"",startDate:(t==null?void 0:t.startDate)||"",dueDate:(t==null?void 0:t.dueDate)||"",progress:(t==null?void 0:t.progress)||X[0],category:(t==null?void 0:t.category)||o||"Annual goals",goalDetails:(t==null?void 0:t.goalDetails)||"",goalLead:(t==null?void 0:t.goalLead)||"",futureGoals:(t==null?void 0:t.futureGoals)||""})),l=(m,T)=>{h(E=>F(D({},E),{[m]:T}))};return React.createElement("form",{onSubmit:m=>{m.preventDefault(),c(F(D({},r),{goalTopic:"Annual goal",annualGoalsItems:[]}))},className:"mt-4 bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goal"),React.createElement("input",{type:"text",value:r.annualGoals,onChange:m=>l("annualGoals",m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:r.goalLead,onChange:m=>l("goalLead",m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("textarea",{value:r.goalDetails,onChange:m=>l("goalDetails",m.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[60px]",placeholder:"Add details, notes, or key steps."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Start date"),React.createElement("input",{type:"date",value:ye(r.startDate),onChange:m=>l("startDate",m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Due date"),React.createElement("input",{type:"date",value:ye(r.dueDate),onChange:m=>l("dueDate",m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:r.progress,onChange:m=>l("progress",m.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},X.map(m=>React.createElement("option",{key:m,value:m},m))))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:u,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:n},"Cancel"),React.createElement("button",{type:"submit",className:"px-4 py-2 bg-gold text-white rounded-lg text-sm",disabled:n},n?"Saving...":"Save goal")))},Mt=({focusArea:e,goals:t,vision:o,onSaveVision:c,isSavingVision:u,onSaveGoal:n,onDeleteGoal:r,isSaving:h,hideTitle:l})=>{const[w,m]=g(null),[T,E]=g(!1),[Q,L]=g("Annual goals"),[M,H]=g(!1),N=fe(()=>t.filter(p=>!p.category||p.category==="Annual goals"||p.category==="Goals"),[t]),a=fe(()=>t.filter(p=>p.category==="Future Goals"),[t]),S=p=>{E(!1),m(p),L(p.category||"Annual goals")},I=p=>{m(null),E(!0),L(p)},$=p=>{n(p),m(null),E(!1)},Z=p=>{const ee=p==="annual"?N:a;if(ee.length){S(ee[0]);return}I(p==="annual"?"Annual goals":"Future Goals")};return React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},!l&&React.createElement("div",{className:"font-display text-xl text-ink"},e),React.createElement("div",{className:"mt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Annual goals")),N.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No annual goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},N.map(p=>React.createElement("div",{key:p.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},p.annualGoals||"Untitled goal")),p.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},p.goalDetails))),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",{className:"space-x-2"},p.startDate?React.createElement("span",null,`Start: ${ne(p.startDate)}`):null,p.dueDate?React.createElement("span",null,`Due: ${ne(p.dueDate)}`):null),React.createElement("div",{className:"text-stone-600"},p.progress||X[0])),(w==null?void 0:w.id)===p.id&&React.createElement(Oe,{focusArea:e,initialGoal:w,presetCategory:Q,onSave:$,onCancel:()=>{E(!1),m(null)},isSaving:h})))),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>Z("annual"),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Future goals")),a.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No future goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},a.map(p=>React.createElement("div",{key:p.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},p.annualGoals||"Untitled goal")),p.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},p.goalDetails))),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",{className:"space-x-2"},p.startDate?React.createElement("span",null,`Start: ${ne(p.startDate)}`):null,p.dueDate?React.createElement("span",null,`Due: ${ne(p.dueDate)}`):null),React.createElement("div",{className:"text-stone-600"},p.progress||X[0])),(w==null?void 0:w.id)===p.id&&React.createElement(Oe,{focusArea:e,initialGoal:w,presetCategory:Q,onSave:$,onCancel:()=>{E(!1),m(null)},isSaving:h})))),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>Z("future"),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Three-year vision")),React.createElement("div",{className:"mt-3"},React.createElement(Rt,{focusArea:e,vision:o||"",onSave:c,isSaving:u,hideLabel:!0,hideEditButton:!0,forceEditing:M,onEditToggle:H,containerClass:"bg-stone-50 border border-stone-100 rounded-xl p-4 shadow-none"})),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>H(!0),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("select",{value:Q,onChange:p=>L(p.target.value),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs bg-white"},React.createElement("option",{value:"Annual goals"},"Annual goals"),React.createElement("option",{value:"Future Goals"},"Future goals")),React.createElement("button",{type:"button",onClick:()=>I(Q),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Add goal")),T&&!w&&React.createElement(Oe,{focusArea:e,initialGoal:w,presetCategory:Q,onSave:$,onCancel:()=>{E(!1),m(null)},isSaving:h}))};const Gt=({initiatives:e,metrics:t})=>{const o=e.length?Math.round(e.reduce((r,h)=>r+(Number(h.progress)||0),0)/e.length):0,c=et.map(r=>({focusArea:r,count:e.filter(h=>h.focusArea===r).length})),u={Volunteers:"https://northstarhouse.github.io/Volunteer-Database/","Donation total":"https://northstarhouse.github.io/donation-database/",Sponsors:"https://northstarhouse.github.io/donation-database/"},n={"Donation total":"Goal: $75,000","Events booked":"Goal: 45",Sponsors:"Goal: 15"};return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold"},React.createElement(rt,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"Mission and vision")),React.createElement("h1",{className:"font-display text-xl md:text-2xl text-ink mt-4"},"Mission: To revitalize North Star House as a cultural gathering place that connects people of all ages through the arts, theater, literature, history, and music\u2014fostering creativity, learning, and community for generations to come."),React.createElement("p",{className:"text-stone-600 mt-2 text-xs md:text-sm"},"Vision: [Add your vision statement here]")),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:Te(t==null?void 0:t.volunteersCount)},{label:"Events booked",value:Te(t==null?void 0:t.eventsCount)},{label:"Donation total",value:at(t==null?void 0:t.donationsTotal)},{label:"Sponsors",value:Te(t==null?void 0:t.sponsorsCount)}].map(r=>u[r.label]?React.createElement("a",{key:r.label,href:u[r.label],className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":`${r.label} details`},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},r.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},r.value),n[r.label]?React.createElement("div",{className:"absolute bottom-4 right-5 text-[10px] uppercase tracking-wide text-steel"},n[r.label]):null):React.createElement("div",{key:r.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow relative"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},r.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},r.value),n[r.label]?React.createElement("div",{className:"absolute bottom-4 right-5 text-[10px] uppercase tracking-wide text-steel"},n[r.label]):null)))))};const Ut=({initiative:e,onBack:t,onEdit:o,onSubmitUpdate:c,onReviewUpdate:u})=>{const n=Dt(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:t,className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(ot,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(Ot,{status:e.status}),React.createElement("button",{onClick:o,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(Tt,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(Qt,{initiative:e,onSubmit:r=>c(e,r)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},n.length," updates")),n.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},n.map(r=>React.createElement(Et,{key:r.id,update:r,onReviewSave:(h,l,w)=>u(e,h,l,w)})))))},Vt=()=>{const[e,t]=g([]),[o,c]=g("dashboard"),[u,n]=g(null),[r,h]=g(null),[l,w]=g(!0),[m,T]=g(!1),[E,Q]=g(!1),[L,M]=g({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[H,N]=g([]),[a,S]=g(!1),[I,$]=g([]),[Z,p]=g(!1),[ee,je]=g(null),[nt,Re]=g(!1),[de,Me]=g(null),Ge={Construction:"House and Grounds Development",Grounds:"House and Grounds Development",Interiors:"House and Grounds Development",Fundraising:"Fund Development",Marketing:"Organizational Development",Venue:"Fund Development",Docents:"Programs and Events",Events:"Programs and Events"},[lt,Ue]=g({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[Ve,we]=g([]),[$t,Ne]=g(null),[K,ke]=g(null),[Y,te]=g(null),[Ce,Le]=g(!1),ie=Ie.reduce((s,d)=>(s[d.key]={label:d.label,key:d.sheet},s),{}),Se=fe(()=>e.find(s=>s.id===u)||null,[e,u]),ce=fe(()=>e.find(s=>s.id===r)||null,[e,r]);be(()=>{Ae()},[]);const Ae=async({useCache:s=!0}={})=>{var b,P;if(!Qe){const G=Ee();t(((G==null?void 0:G.objects)||[]).map(q)),Q(!1),$(St),w(!1);return}const d=s?Ee():null,f=d&&Date.now()-d.updatedAt<kt,i=s?oe(Ye):null,v=s?oe(qe):null,C=s?oe(De):null,k=s?oe(Fe):null,O=s?oe(he):null;(b=d==null?void 0:d.objects)!=null&&b.length?(t(d.objects.map(q)),Q(x.isConfigured()),w(!1)):w(!0),i&&M(i),v&&Ue(v),C&&we(C),k&&N(k),O&&$(O);try{const _=(await x.fetchAll()||[]).map(q);t(_),Q(x.isConfigured()),re(_)}catch(G){console.error("Failed to load data:",G),(P=d==null?void 0:d.objects)!=null&&P.length||t(Pe.map(q))}w(!1);const V=await x.fetchMetrics();V&&(M(V),J(Ye,V));const B=await x.fetchSectionSnapshots();B&&(Ue(B),J(qe,B));const W=await x.fetchQuarterlyUpdates();W.length&&(we(W),J(De,W));const y=await x.fetchVisionStatements();y.length&&(N(y),J(Fe,y));const A=await x.fetchFocusAreaGoals();A.length&&($(A),J(he,A))},Bt=s=>{n(s),c("detail"),window.scrollTo(0,0)},_t=()=>{h(null),c("add"),window.scrollTo(0,0)},dt=s=>{h(s.id),c("edit"),window.scrollTo(0,0)},it=async s=>{T(!0);try{if(ce){const d=await x.update(F(D({},s),{updates:s.updates||[]}));t(f=>{const i=f.map(v=>v.id===d.id?q(d):v);return re(i),i}),n(d.id),c("detail")}else{const d=await x.create(F(D({},s),{id:s.id||st(),updates:s.updates||[]}));t(f=>{const i=[...f,q(d)];return re(i),i}),n(d.id),c("detail")}}catch(d){console.error("Failed to save initiative:",d),alert("Failed to save. Please try again.")}T(!1)},ct=async(s,d)=>{const f=[d,...s.updates||[]],i=F(D({},s),{updates:f,progress:d.progress,lastUpdateAt:d.date});try{await x.update(i),t(v=>{const C=v.map(k=>k.id===s.id?q(i):k);return re(C),C})}catch(v){console.error("Failed to submit update:",v),alert("Failed to submit update. Please try again.")}},ut=async(s,d,f,i)=>{const v=(s.updates||[]).map(k=>k.id===d?F(D({},k),{reviewStatus:f,reviewNotes:i}):k),C=F(D({},s),{updates:v});try{await x.update(C),t(k=>{const O=k.map(V=>V.id===s.id?q(C):V);return re(O),O})}catch(k){console.error("Failed to save review:",k),alert("Failed to save review. Please try again.")}},zt=s=>{Ne({focusArea:s}),c("quarterly"),n(null),je(null),window.scrollTo(0,0)},pt=async s=>{const v=s,{focusArea:d,quarter:f}=v,i=He(v,["focusArea","quarter"]);await x.submitReviewUpdate(s),we(C=>{const k=C.findIndex(B=>B.focusArea===d&&B.quarter===f),O=k>=0?F(D({},C[k]),{payload:F(D({},C[k].payload||{}),{review:i})}):{focusArea:d,quarter:f,submittedDate:"",payload:{review:i}},V=k>=0?C.map((B,W)=>W===k?O:B):[...C,O];return J(De,V),V})},mt=(s,d)=>{const i=Ve.filter(O=>O.focusArea===s&&O.quarter===d).sort((O,V)=>new Date(V.submittedDate||V.createdAt)-new Date(O.submittedDate||O.createdAt))[0],v=(i==null?void 0:i.payload)||{},C=v.year||String(new Date().getFullYear()),k=v.submittedDate||(i==null?void 0:i.submittedDate)||new Date().toISOString().slice(0,10);Ne({focusArea:s,quarter:d,year:C,submittedDate:k,primaryFocus:v.primaryFocus||"",goals:v.goals&&v.goals.length?v.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:v.wins||"",challenges:v.challenges||{},supportNeeded:v.supportNeeded||"",supportTypes:v.supportTypes||{},decisionsNeeded:v.decisionsNeeded||"",nextQuarterFocus:v.nextQuarterFocus||"",nextPriorities:v.nextPriorities||["","",""],finalTallyOverview:v.finalTallyOverview||""}),c("quarterly"),window.scrollTo(0,0)},gt=(s,d,f,i)=>{if(d!=="Q1")return;const v=i.year||String(new Date().getFullYear()),C=i.submittedDate||(f==null?void 0:f.submittedDate)||new Date().toISOString().slice(0,10);ke({areaLabel:s,quarter:d}),te({focusArea:s,quarter:d,year:v,submittedDate:C,primaryFocus:i.primaryFocus||"",goals:i.goals&&i.goals.length?i.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:i.wins||"",challenges:i.challenges||{},supportNeeded:i.supportNeeded||"",supportTypes:i.supportTypes||{},decisionsNeeded:i.decisionsNeeded||"",nextQuarterFocus:i.nextQuarterFocus||"",nextPriorities:i.nextPriorities||["","",""],finalTallyOverview:i.finalTallyOverview||"",uploadedFiles:i.uploadedFiles||[]})},vt=async()=>{if(Y){Le(!0);try{await x.submitQuarterlyUpdate(F(D({},Y),{primaryOnly:!0})),await Ae({useCache:!1}),ke(null),te(null)}catch(s){console.error("Failed to save inline quarterly update:",s),alert("Failed to save. Please try again.")}Le(!1)}},Jt=async()=>{await Ae({useCache:!1}),Ne(null),c("dashboard")},Ht=s=>{const d=Ge[s]||s;Me(d),Re(!0)},Yt=async(s,d)=>{S(!0);try{const f=await x.updateVisionStatement({focusArea:s,threeYearVision:d});N(i=>{const v=i.findIndex(k=>k.focusArea===s),C=v>=0?i.map((k,O)=>O===v?f:k):[...i,f];return J(Fe,C),C})}catch(f){console.error("Failed to save vision statement:",f),alert("Failed to save. Please try again.")}S(!1)},xt=async s=>{p(!0);try{const d=await x.updateFocusAreaGoal(s);$(f=>{const i=f.findIndex(C=>C.id===d.id),v=i>=0?f.map((C,k)=>k===i?d:C):[...f,d];return J(he,v),v})}catch(d){console.error("Failed to save focus goal:",d),alert("Failed to save. Please try again.")}p(!1)},ht=async s=>{p(!0);try{await x.deleteFocusAreaGoal(s),$(d=>{const f=d.filter(i=>i.id!==s);return J(he,f),f})}catch(d){console.error("Failed to delete focus goal:",d),alert("Failed to delete. Please try again.")}p(!1)},bt=o==="detail"&&Se;return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full border border-gold/40 bg-white text-gold flex items-center justify-center shadow-sm"},React.createElement(rt,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"Haley's Ops & Orbit"),React.createElement("div",{className:"text-xs text-steel"},"Progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"})),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>{c("dashboard"),n(null),je(null)},className:`tab-button text-sm min-w-[200px] ${o==="dashboard"?"active":""}`},"2026 Snapshot"),React.createElement("select",{value:Ie.some(s=>s.key===o)?o:"",onChange:s=>{const d=s.target.value;d&&(c(d),n(null))},className:"tab-button tab-select text-sm bg-white min-w-[220px]"},React.createElement("option",{value:""},"Operational Areas"),Ie.map(s=>React.createElement("option",{key:s.key,value:s.key},s.label))))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},l?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading Haley\u2019s Organized Chaos..."):React.createElement(React.Fragment,null,o==="dashboard"&&React.createElement(Gt,{initiatives:e,metrics:L}),["construction","grounds","interiors","docents","fund","events","marketing","venue"].includes(o)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},ie[o].label),React.createElement("div",{className:"flex items-center gap-2"})),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const s=lt[ie[o].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(s==null?void 0:s.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},s!=null&&s.budget?at(s.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(s==null?void 0:s.volunteers)||"N/A")))})())),nt&&de===Ge[ie[o].label]&&React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"font-display text-2xl text-ink"},de),React.createElement("button",{type:"button",onClick:()=>{Re(!1),Me(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},"Close")),React.createElement("div",{className:"mt-4"},React.createElement(Mt,{focusArea:de,goals:I.filter(s=>s.focusArea===de),onSaveGoal:xt,onDeleteGoal:ht,isSaving:Z,hideTitle:!0}))),(()=>{const s=ie[o].label,d=[["Q1","Q2"],["Q3","Q4"]],f={Q1:"Jan 1 - Mar 31",Q2:"Apr 1 - Jun 30",Q3:"Jul 1 - Sep 30",Q4:"Oct 1 - Dec 31"},i={Q1:"Due: March 30th",Q2:"Due: June 30th",Q3:"Due: September 30th",Q4:"Due: December 31st"},v={capacity:"Capacity or volunteer limitations",budget:"Budget or funding constraints",scheduling:"Scheduling or timing issues",coordination:"Cross-area coordination gaps",external:"External factors",other:"Other"},C={staff:"Staff or volunteer help",marketing:"Marketing or communications",board:"Board guidance or decision",funding:"Funding or fundraising support",facilities:"Facilities or logistics",other:"Other"},k=y=>{switch(y){case"Q2":return"Q1";case"Q3":return"Q2";case"Q4":return"Q3";default:return null}},O=y=>Ve.filter(b=>b.focusArea===s&&b.quarter===y).sort((b,P)=>new Date(P.submittedDate||P.createdAt)-new Date(b.submittedDate||b.createdAt))[0],V=y=>{const A=R=>String(R||"").trim().toLowerCase()==="none noted",b=O(y),P=(b==null?void 0:b.payload)||{},G=k(y),_=G?O(G):null,se=(_==null?void 0:_.payload)||{},ue=(se.nextPriorities||[]).map(R=>({goal:R||"",status:"",summary:""})).filter(R=>String(R.goal||"").trim()&&!A(R.goal)),pe=P.goals&&P.goals.length?P.goals:ue.length?ue:[{},{},{}],me=P.primaryFocus||(A(se.nextQuarterFocus)?"":se.nextQuarterFocus),ge=(K==null?void 0:K.areaLabel)===s&&(K==null?void 0:K.quarter)===y,ae=P.submittedDate||(b==null?void 0:b.submittedDate)||"",$e=y==="Q1";return React.createElement("div",{key:`primary-${y}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xl font-display text-ink"},`${y} Primary Focus and Goals`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},f[y])),ge?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("textarea",{value:(Y==null?void 0:Y.primaryFocus)||"",onChange:R=>te(z=>F(D({},z),{primaryFocus:R.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((Y==null?void 0:Y.goals)||[]).map((R,z)=>React.createElement("div",{key:z},React.createElement("input",{type:"text",value:R.goal,onChange:U=>te(ve=>F(D({},ve),{goals:ve.goals.map((Be,ft)=>ft===z?F(D({},Be),{goal:U.target.value}):Be)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${z+1}`}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{ke(null),te(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:Ce},"Cancel"),React.createElement("button",{type:"button",onClick:vt,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:Ce},Ce?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("div",{className:"whitespace-pre-line"},me||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"space-y-1"},pe.map((R,z)=>React.createElement("div",{key:z,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",null,React.createElement("span",null,R.goal||"-"))))))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,ae?Ze(ae):"00-00-0000"),$e&&React.createElement("button",{type:"button",onClick:()=>gt(s,y,b,P),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},B=y=>{const A=O(y),b=(A==null?void 0:A.payload)||{},P=b.submittedDate||(A==null?void 0:A.submittedDate)||"",G=b.challenges||{},_=b.supportTypes||{},se=b.challengesChecked||"",ue=b.supportTypesChecked||"",pe=Object.keys(v).filter(U=>G[U]).map(U=>U==="other"&&G.otherText?`Other: ${G.otherText}`:v[U]),me=Object.keys(C).filter(U=>_[U]).map(U=>U==="other"&&_.otherText?`Other: ${_.otherText}`:C[U]),ge=se||(pe.length?pe.join(", "):""),ae=ue||(me.length?me.join(", "):""),R=(b.nextPriorities||[]).filter(U=>String(U||"").trim()),z=!!(b.wins||G.details||ge||b.supportNeeded||ae||b.nextQuarterFocus||R.length||b.decisionsNeeded);return React.createElement("div",{key:`overview-${y}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-lg font-display text-ink"},`${y} Quarterly Reflection`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},f[y])),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},i[y]))),!A||!z?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No submission yet."):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",{className:"whitespace-pre-line"},b.wins||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",{className:"whitespace-pre-line"},G.details||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges (checked)"),React.createElement("div",null,ge||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",{className:"whitespace-pre-line"},b.supportNeeded||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support types"),React.createElement("div",null,ae||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next quarter focus area and goals"),React.createElement("div",{className:"whitespace-pre-line"},b.nextQuarterFocus||"None noted"),React.createElement("div",{className:"mt-2 space-y-1"},R.length?R.map((U,ve)=>React.createElement("div",{key:ve,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",null,U||"-"))):React.createElement("div",null,"None noted"))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Other notes"),React.createElement("div",{className:"whitespace-pre-line"},b.decisionsNeeded||"None noted"))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,P?Ze(P):"00-00-0000"),React.createElement("button",{type:"button",onClick:()=>mt(s,y),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},W=y=>{var P;const A=O(y),b=((P=A==null?void 0:A.payload)==null?void 0:P.review)||null;return React.createElement(jt,{key:`review-${y}`,areaLabel:s,quarter:y,review:b,onSave:pt})};return React.createElement("div",{className:"mt-6 space-y-6"},d.map(y=>React.createElement("div",{key:y.join("-"),className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},y.map(A=>V(A))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},y.map(A=>B(A))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},y.map(A=>W(A))))))})()),bt&&React.createElement(Ut,{initiative:Se,onBack:()=>c("list"),onEdit:()=>dt(Se),onSubmitUpdate:ct,onReviewUpdate:ut}),(o==="add"||o==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>c(ce?"detail":"list"),className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(ot,{size:18})," Cancel"),React.createElement(Pt,{initiative:ce,onSave:it,onCancel:()=>c(ce?"detail":"list"),isSaving:m})))))},Lt=ReactDOM.createRoot(document.getElementById("root"));Lt.render(React.createElement(Vt,null));})();
