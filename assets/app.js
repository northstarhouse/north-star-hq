(()=>{var ps=Object.defineProperty,gs=Object.defineProperties;var bs=Object.getOwnPropertyDescriptors;var Ke=Object.getOwnPropertySymbols;var Ot=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable;var Pt=(s,o,r)=>o in s?ps(s,o,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[o]=r,p=(s,o)=>{for(var r in o||(o={}))Ot.call(o,r)&&Pt(s,r,o[r]);if(Ke)for(var r of Ke(o))Tt.call(o,r)&&Pt(s,r,o[r]);return s},g=(s,o)=>gs(s,bs(o));var Ft=(s,o)=>{var r={};for(var E in s)Ot.call(s,E)&&o.indexOf(E)<0&&(r[E]=s[E]);if(s!=null&&Ke)for(var E of Ke(s))o.indexOf(E)<0&&Tt.call(s,E)&&(r[E]=s[E]);return r};const{useState:S,useEffect:Le,useMemo:$s,useRef:xs}=React,Mt="nsh-strategy-metrics-cache-v1",jt="nsh-strategy-sections-cache-v1",rt="nsh-strategy-quarterly-cache-v1",nt="nsh-strategy-major-todos-v1",ct=!0,X="https://script.google.com/macros/s/AKfycbydaZEpixA_RWAQ42HPsrFe6gCrf5bDYhWbj7COlNwmq-tQOOJaBiivRQfahnGq3WIDeQ/exec",It=X,vs="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/edit?gid=0#gid=0",hs="https://docs.google.com/spreadsheets/d/1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M/preview",fs="https://docs.google.com/spreadsheets/d/e/2PACX-1vSTge4UtsTFma1Y4ppSeC5nVORQiTtVLXXysbHUNdf3sOBb372QR9YG3Q9AfUNbGFD3K2Y0FeP4V5P2/pubhtml?gid=0&single=true&widget=false&headers=false&chrome=false",Rt="1l-FsSLYELMM5pMwWS92UgKlwPmsrCmNEe7kmrEaQB6M",$t="1kqVXngOaf_X1lrB6Nbi5U_3NJ4_P_fGMqxhyqdfuDT0",Lt="nsh-sheet-last-seen-v1",Jt=s=>/^https:\/\/script\.google\.com\/macros\/s\/[^/]+\/exec$/i.test(String(s||"").trim()),Ns=()=>{if(!ct)return"";if(!X)return"Google Sheets URL is missing.";const s=String(X).trim();return s.includes("/macros/library/")?"Google Sheets URL is a library link. Use the Web App /exec URL instead.":Jt(s)?"":"Google Sheets URL must be the Web App /exec link."};const lt=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing-ops",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}];const Ls=Array.from({length:11},(s,o)=>o*10),j={isConfigured:()=>ct&&Jt(X),postJson:async(s,o)=>{const r=await fetch(s,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(o)});if(!r.ok){const E=await r.text();throw new Error(`Request failed (${r.status}). ${E||"No response body."}`)}return r.json()},uploadFile:async({filename:s,mimeType:o,data:r})=>{if(!It)throw new Error("Drive upload not configured");const E={action:"uploadImage",filename:s,mimeType:o,data:r},B=await j.postJson(It,E);if(!B.success)throw new Error(B.error||"Upload failed");return B.result},fetchMetrics:async()=>{if(!j.isConfigured())return null;try{const s=await fetch(`${X}?action=getMetrics`);if(!s.ok)throw new Error("Failed to fetch metrics");return(await s.json()).metrics||null}catch(s){return console.error("Error fetching metrics:",s),null}},submitQuarterlyUpdate:async s=>{if(!j.isConfigured())throw new Error("Google Sheets not configured");const o=await j.postJson(X,{action:"submitQuarterlyUpdate",form:s});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},submitReviewUpdate:async s=>{if(!j.isConfigured())throw new Error("Google Sheets not configured");const o=await j.postJson(X,{action:"submitReviewUpdate",review:s});if(!o.success)throw new Error(o.error||"Submission failed");return o.result},fetchQuarterlyUpdates:async()=>{if(!j.isConfigured())return[];try{const s=await fetch(`${X}?action=getQuarterlyUpdates`);if(!s.ok)throw new Error("Failed to fetch quarterly updates");return(await s.json()).updates||[]}catch(s){return console.error("Error fetching quarterly updates:",s),[]}},fetchSectionSnapshots:async()=>{if(!j.isConfigured())return null;try{const s=await fetch(`${X}?action=getSectionSnapshots`);if(!s.ok)throw new Error("Failed to fetch section snapshots");return(await s.json()).sections||null}catch(s){return console.error("Error fetching section snapshots:",s),null}},fetchMajorTodos:async()=>{if(!j.isConfigured())return[];try{const s=await fetch(`${X}?action=getMajorTodos`);if(!s.ok)throw new Error("Failed to fetch major todos");return(await s.json()).todos||[]}catch(s){return console.error("Error fetching major todos:",s),[]}},saveMajorTodo:async s=>{if(!j.isConfigured())return s;try{const o=await j.postJson(X,{action:"saveMajorTodo",todo:s});if(!o.success)throw new Error(o.error||"Save failed");return o.result}catch(o){return console.error("Error saving major todo:",o),s}},deleteMajorTodo:async s=>{if(!j.isConfigured())return{deleted:!0};try{const o=await j.postJson(X,{action:"deleteMajorTodo",id:s});if(!o.success)throw new Error(o.error||"Delete failed");return o.result}catch(o){return console.error("Error deleting major todo:",o),{deleted:!1}}}},qe=s=>{try{const o=localStorage.getItem(s);return o?JSON.parse(o):null}catch(o){return console.warn("Failed to read cache:",o),null}},Fe=(s,o)=>{try{localStorage.setItem(s,JSON.stringify(o))}catch(r){console.warn("Failed to write cache:",r)}},ys=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,ws=s=>{if(!s)return"N/A";try{return new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(o){return s}},Bt=s=>{if(!s)return"";const o=new Date(s);if(Number.isNaN(o.getTime()))return s;const r=String(o.getMonth()+1).padStart(2,"0"),E=String(o.getDate()).padStart(2,"0"),B=String(o.getFullYear());return`${r}-${E}-${B}`};const dt=s=>s==null?"N/A":new Intl.NumberFormat("en-US").format(Number(s)||0),Wt=s=>{if(s==null)return"N/A";const o=Number(s)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(o)},Qt=s=>{if(!s)return"";const o=new Date(s);return Number.isNaN(o.getTime())?"":o.toISOString().slice(0,10)},ks=(s,o=3)=>{const r=[];for(String(s||"").split(`
`).map(B=>B.trim()).filter(Boolean).forEach(B=>{const N=B.split("|").map(_=>_.trim()),[ee="",ce="",W=""]=N;r.push({action:ee,owner:ce,deadline:W})});r.length<o;)r.push({action:"",owner:"",deadline:""});return r.slice(0,o)},Ut=s=>s.map(o=>[o.action,o.owner,o.deadline].map(r=>r.trim()).join(" | ")).filter(o=>o.replace(/\|/g,"").trim()!=="").join(`
`);const Ht=({size:s=24})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const Vt=({size:s=22})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"})),Cs=({size:s=24})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 5v14"}),React.createElement("path",{d:"M5 12h14"}));const zt=({size:s=20})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Ss=({size:s=20})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M20 6L9 17l-5-5"})),_t=({size:s=16})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M3 6h18"}),React.createElement("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),React.createElement("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"}));const Es=({areaLabel:s,quarter:o,review:r,onSave:E})=>{const B=d=>({statusAfterReview:(d==null?void 0:d.statusAfterReview)||"",actionsRows:ks(d==null?void 0:d.actionsAssigned),crossAreaImpacts:(d==null?void 0:d.crossAreaImpacts)||"",areasImpacted:(d==null?void 0:d.areasImpacted)||"",coordinationNeeded:(d==null?void 0:d.coordinationNeeded)||"",priorityConfirmation:(d==null?void 0:d.priorityConfirmation)||"",escalationFlag:(d==null?void 0:d.escalationFlag)||"",reviewCompletedOn:Qt(d==null?void 0:d.reviewCompletedOn),nextCheckInDate:Qt(d==null?void 0:d.nextCheckInDate)}),[N,ee]=S(()=>B(r)),[ce,W]=S(!1),[_,H]=S(!1);Le(()=>{ee(B(r))},[r,s,o]),Le(()=>{H(!1)},[s,o]);const F=(d,O)=>{ee(M=>g(p({},M),{[d]:O}))},z=(d,O,M)=>{ee(G=>{const ye=G.actionsRows.map((te,me)=>me===d?g(p({},te),{[O]:M}):te);return g(p({},G),{actionsRows:ye})})},be=async()=>{W(!0);const d=N.crossAreaImpacts==="Affects another area",O={focusArea:s,quarter:o,statusAfterReview:N.statusAfterReview,actionsAssigned:Ut(N.actionsRows),crossAreaImpacts:N.crossAreaImpacts,areasImpacted:d?N.areasImpacted:"",coordinationNeeded:d?N.coordinationNeeded:"",priorityConfirmation:N.priorityConfirmation,escalationFlag:N.escalationFlag,reviewCompletedOn:N.reviewCompletedOn,nextCheckInDate:N.nextCheckInDate};try{await E(O)}catch(M){console.error("Failed to save review:",M),alert("Failed to save review. Please try again.")}W(!1)},Y=["On track","Minor adjustments needed","Off track - intervention required"],P=["None","Affects another area"],J=["Approved","Adjusted","Replaced"],m=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!_){const O=[{label:"Status After Review",value:N.statusAfterReview},{label:"Actions Assigned",value:Ut(N.actionsRows)},{label:"Cross-Area Impacts",value:N.crossAreaImpacts},{label:"Area(s) impacted",value:N.areasImpacted},{label:"Coordination needed",value:N.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:N.priorityConfirmation},{label:"Escalation Flag",value:N.escalationFlag},{label:"Review completed on",value:N.reviewCompletedOn},{label:"Next check-in date",value:N.nextCheckInDate}].filter(M=>M.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>H(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),O.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},O.map(M=>React.createElement("div",{key:M.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},M.label),React.createElement("div",{className:"whitespace-pre-wrap"},M.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},o," review"),React.createElement("button",{type:"button",onClick:()=>H(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},Y.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-status`,value:d,checked:N.statusAfterReview===d,onChange:O=>F("statusAfterReview",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},N.actionsRows.map((d,O)=>React.createElement("div",{key:O,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:d.action,onChange:M=>z(O,"action",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:d.owner,onChange:M=>z(O,"owner",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:d.deadline,onChange:M=>z(O,"deadline",M.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},P.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-impact`,value:d,checked:N.crossAreaImpacts===d,onChange:O=>F("crossAreaImpacts",O.target.value),className:"accent-clay"}),React.createElement("span",null,d)))),N.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:N.areasImpacted,onChange:d=>F("areasImpacted",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:N.coordinationNeeded,onChange:d=>F("coordinationNeeded",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},J.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-priority`,value:d,checked:N.priorityConfirmation===d,onChange:O=>F("priorityConfirmation",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},m.map(d=>React.createElement("label",{key:d,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${s}-${o}-escalation`,value:d,checked:N.escalationFlag===d,onChange:O=>F("escalationFlag",O.target.value),className:"accent-clay"}),React.createElement("span",null,d))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:N.reviewCompletedOn,onChange:d=>F("reviewCompletedOn",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:N.nextCheckInDate,onChange:d=>F("nextCheckInDate",d.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:be,disabled:ce,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},ce?"Saving...":"Save review")))};const Ds=({onBack:s})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Honeybook Messages"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live Google Sheet with a cleaner workspace.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:s,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(zt,{size:16}),"Back to Dashboard")),React.createElement("a",{href:vs,target:"_blank",rel:"noreferrer",className:"px-4 py-2 rounded-xl bg-gold text-white text-sm shadow hover:opacity-90 transition"},"Open in Google Sheets"))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Honeybook Messages",src:hs,className:"w-full h-full border-0 bg-white"}))))),As=({onBack:s})=>React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-[0.3em] text-steel"},"Voicemails"),React.createElement("h2",{className:"font-display text-3xl text-ink"},"Voicemail Log"),React.createElement("p",{className:"text-sm text-stone-500 mt-2"},"Live sheet in a calmer layout.")),React.createElement("div",{className:"flex flex-wrap items-center gap-2"},React.createElement("button",{onClick:s,className:"px-4 py-2 rounded-xl border border-stone-200 text-sm text-ink bg-white hover:border-gold/60 transition"},React.createElement("span",{className:"inline-flex items-center gap-2"},React.createElement(zt,{size:16}),"Back to Dashboard")))),React.createElement("div",{className:"grid grid-cols-1 gap-6"},React.createElement("div",{className:"glass rounded-3xl border border-stone-100 card-shadow overflow-hidden"},React.createElement("div",{className:"flex items-center justify-between px-5 py-4 border-b border-stone-100 bg-white/80"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Live sheet"),React.createElement("div",{className:"text-sm text-stone-500"},"Updates as you edit the spreadsheet.")),React.createElement("span",{className:"text-[10px] uppercase tracking-wide text-steel bg-stone-100 px-3 py-1 rounded-full"},"Public")),React.createElement("div",{className:"h-[72vh] md:h-[84vh]"},React.createElement("iframe",{title:"Voicemails",src:fs,className:"w-full h-full border-0 bg-white"}))))),it=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),React.createElement("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),React.createElement("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),React.createElement("line",{x1:"3",y1:"10",x2:"21",y2:"10"})),Ps=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),React.createElement("polyline",{points:"17 8 12 3 7 8"}),React.createElement("line",{x1:"12",y1:"3",x2:"12",y2:"15"})),Os=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),React.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),Ts=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("polyline",{points:"12 6 12 12 16 14"})),Xe=({size:s=24,className:o=""})=>React.createElement("svg",{width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:o},React.createElement("circle",{cx:"12",cy:"12",r:"10"}),React.createElement("path",{d:"M9 12l2 2 4-4"})),Yt=()=>{var yt,wt,kt,Ct,St,Et,Dt,At;const[s,o]=S([]),[r,E]=S(null),[B,N]=S(!1),[ee,ce]=S(null),[W,_]=S("marketing"),H=xs(null),[F,z]=S({}),[be,Y]=S(!1),[P,J]=S(new Date().getMonth()),[m,d]=S({}),[O,M]=S(!1),[G,ye]=S(new Date().getMonth()),[te,me]=S({}),[Me,we]=S(!1),[ne,Be]=S(new Date().getMonth()),[Qe,ke]=S([]),[Ue,je]=S(0),[Ve,Ce]=S(!1),T="https://script.google.com/macros/s/AKfycbzcuMhZ1h15zP7IgYhyCBChgkx_mbe23G6756V2_lHNT1grfgKR-AuZxbHt3t806h8-/exec",Se="nsh-events-cache-v1",he="nsh-event-flyers-v1",_e="nsh-newsletter-cache-v1",Ze="nsh-posting-schedule-v1",i="nsh-press-release-cache-v1",w="nsh-bookings-cache-v1",b=["January","February","March","April","May","June","July","August","September","October","November","December"],h=[{id:"mainFeature",label:"Main Feature"},{id:"mainUpcomingEvent",label:"Main Upcoming Event"},{id:"eventRecaps",label:"Event Recaps / Blogs"},{id:"volunteerHours",label:"Volunteer Monthly Hours"},{id:"donationNeeds",label:"Donation Needs"},{id:"other",label:"Other"}],D=[{id:"headline",label:"Headline"},{id:"summary",label:"Summary / Angle"},{id:"keyDetails",label:"Key Details"},{id:"outlets",label:"Target Outlets"},{id:"link",label:"Link"},{id:"notes",label:"Notes"}],k=[{week:"First Week",items:[{id:"w1-mon",day:"Monday",prompt:"Wedding posting + scheduling for the month"},{id:"w1-tue",day:"Tuesday",prompt:"Testimonial or small history"},{id:"w1-wed",day:"Wednesday",prompt:"OPEN"},{id:"w1-thu",day:"Thursday",prompt:"Monthly email send out"},{id:"w1-fri",day:"Friday",prompt:"Volunteer outreach - events"},{id:"w1-other",day:"Other",prompt:"Other"}]},{week:"Second Week",items:[{id:"w2-mon",day:"Monday",prompt:"Sponsor spotlight"},{id:"w2-tue",day:"Tuesday",prompt:"Upcoming event / tours"},{id:"w2-thu",day:"Thursday",prompt:"Planning update"},{id:"w2-fri",day:"Friday",prompt:"Volunteer outreach - restoration"},{id:"w2-other",day:"Other",prompt:"Other"}]},{week:"Third Week",items:[{id:"w3-mon",day:"Monday",prompt:"Upcoming event or wedding"},{id:"w3-tue",day:"Tuesday",prompt:"OPEN"},{id:"w3-thu",day:"Thursday",prompt:"History update"},{id:"w3-fri",day:"Friday",prompt:"Volunteer outreach - garden"},{id:"w3-other",day:"Other",prompt:"Other"}]},{week:"Fourth Week",items:[{id:"w4-mon",day:"Monday",prompt:"OPEN"},{id:"w4-tue",day:"Tuesday",prompt:"Restoration video"},{id:"w4-thu",day:"Thursday",prompt:"Development / board update"},{id:"w4-fri",day:"Friday",prompt:"Volunteer outreach - docents"},{id:"w4-other",day:"Other",prompt:"Other"}]}],I=k.flatMap(e=>e.items),R=I.reduce((e,t)=>(e[`${t.day} - ${t.prompt}`]=t.id,e),{}),K=k.map(e=>e.items.reduce((t,a)=>(t[`${a.day} - ${a.prompt}`]=a.id,t),{})),se=e=>{const t=[];return k.forEach(a=>{const n=a.items.map(l=>{const c=((e==null?void 0:e[l.id])||"").trim();return c?`${l.day} - ${l.prompt}: ${c}`:null}).filter(Boolean);n.length&&t.push(a.week,...n,"")}),t.join(`
`).trim()},ae=(e,t)=>e.items.map(n=>{const l=((t==null?void 0:t[n.id])||"").trim();return l?`${n.day} - ${n.prompt}: ${l}`:null}).filter(Boolean).join(`
`).trim(),C=(e,t)=>{if(!e)return{};const a=String(e).split(`
`),n=K[t]||{};return a.reduce((l,c)=>{const x=c.trim();if(!x)return l;const re=x.indexOf(":");if(re===-1)return l;const u=x.slice(0,re).trim(),v=x.slice(re+1).trim(),L=n[u];return L&&(l[L]=v),l},{})},A=e=>e?String(e).split(`
`).reduce((a,n)=>{var v;const l=n.trim();if(!l||/week$/i.test(l))return a;if(l.includes("|")){const L=l.split("|"),Ne=(v=L[0])==null?void 0:v.trim();if(Ne&&I.some(ge=>ge.id===Ne)){const ge=L.slice(2).join("|").trim();return a[Ne]=ge,a}}const c=l.indexOf(":");if(c===-1)return a;const x=l.slice(0,c).trim(),re=l.slice(c+1).trim(),u=R[x];return u&&(a[u]=re),a},{}):{},f=[{id:"press-release",label:"Create Press Release"},{id:"flyer",label:"Create Flyer"},{id:"website",label:"Make Event Page on Website"},{id:"email",label:"Send Email Blast"},{id:"yubanet",label:"YubaNet (Press Release Only - if worthy)",special:!0,optional:!0},{id:"go-nv",label:"Go Nevada County Calendar"},{id:"arts",label:"Arts Council Calendar"},{id:"chamber",label:"Grass Valley Chamber Newsletter (2 weeks prior)",special:!0,optional:!0},{id:"kvmr",label:"KVMR Calendar"},{id:"fb-event",label:"Facebook Event Page"},{id:"fb-nsh",label:"NSH Facebook Page"},{id:"ig-nsh",label:"NSH Instagram Page"},{id:"nv-peeps",label:"Nevada County Peeps"},{id:"gv-peeps",label:"Grass Valley Peeps"},{id:"lake-wildwood",label:"Lake Wildwood Page"},{id:"nextdoor",label:"NextDoor"},{id:"union-cal",label:"Union Event Calendar"},{id:"union-ad",label:"Union Advertisement ($270 - rare)",special:!0,optional:!0},{id:"other",label:"Other",optional:!0}],Q=[{id:"event-type",label:"Event type"},{id:"budget-confirmed",label:"Budget confirmed"},{id:"layout-finalized",label:"Layout finalized"},{id:"av-needs",label:"AV needs"},{id:"power-checked",label:"Power checked"},{id:"rentals-ordered",label:"Rentals ordered"},{id:"food-plan",label:"Food plan"},{id:"alcohol-license",label:"Alcohol license (if applicable)"},{id:"volunteer-roles",label:"Volunteer roles assigned"},{id:"staff-lead",label:"Staff lead assigned"},{id:"checkin-ready",label:"Check-in system ready"},{id:"program-ready",label:"Program / agenda printed or shared"},{id:"signage-ready",label:"Signage ready"}],[y,$]=S({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""}),fe=async()=>{if(T)try{const e=await fetch(`${T}?action=list`);if(!e.ok)throw new Error(`Sheets load failed: ${e.status}`);const t=await e.json(),a=Array.isArray(t.events)?t.events:[],n=JSON.parse(localStorage.getItem(he)||"{}"),l=localStorage.getItem(Se),c=l?JSON.parse(l):[],x=Array.isArray(c)?c.reduce((v,L)=>(L&&L.id&&(v[L.id]=L),v),{}):{},u=a.map(v=>{const L=x[v.id],Ne=typeof v.checklist=="string"?JSON.parse(v.checklist||"{}"):v.checklist||{},ge=typeof v.planningChecklist=="string"?JSON.parse(v.planningChecklist||"{}"):v.planningChecklist||{},$e=L&&L.planningChecklist?L.planningChecklist:null,at=Object.keys(ge||{}).length===0&&$e?$e:ge,ot=v.planningNotes||L&&L.planningNotes||"",Ge=g(p({},v),{date:tt(v.date),time:st(v.time),checklist:Ne,planningChecklist:at,planningNotes:ot,flyerImage:n[v.id]||null});return $e&&Object.keys(ge||{}).length===0&&Pe(Ge),Ge}).filter(v=>{if(!v)return!1;const L=String(v.name||"").trim().length>0,Ne=String(v.date||"").trim().length>0,ge=String(v.createdAt||"").trim().length>0,$e=String(v.targetAttendance||"").trim().length>0||String(v.currentRSVPs||"").trim().length>0,at=String(v.notes||"").trim().length>0||String(v.planningNotes||"").trim().length>0,ot=v.checklist&&Object.keys(v.checklist).length>0,Ge=v.planningChecklist&&Object.keys(v.planningChecklist).length>0;return L||Ne||ge||$e||at||ot||Ge});o(u),localStorage.setItem(Se,JSON.stringify(u))}catch(e){console.error("Failed to load events from Sheets",e);const t=localStorage.getItem(Se);if(t)try{const a=JSON.parse(t);Array.isArray(a)&&o(a)}catch(a){console.error("Failed to parse cached events",a)}}},le=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),mainFeature:(e==null?void 0:e.mainFeature)||"",mainUpcomingEvent:(e==null?void 0:e.mainUpcomingEvent)||"",eventRecaps:(e==null?void 0:e.eventRecaps)||"",volunteerHours:(e==null?void 0:e.volunteerHours)||"",donationNeeds:(e==null?void 0:e.donationNeeds)||"",other:(e==null?void 0:e.other)||""}),de=(e,t)=>({month:t+1,published:!!(e!=null&&e.published),headline:(e==null?void 0:e.headline)||"",summary:(e==null?void 0:e.summary)||"",keyDetails:(e==null?void 0:e.keyDetails)||"",outlets:(e==null?void 0:e.outlets)||"",link:(e==null?void 0:e.link)||"",notes:(e==null?void 0:e.notes)||""}),ie=(e,t)=>{let a={};if(e&&([e.week1,e.week2,e.week3,e.week4].forEach((l,c)=>{a=p(p({},a),C(l,c))}),e.entries)){let l={};if(typeof e.entries=="string")try{l=JSON.parse(e.entries||"{}")}catch(c){l=A(e.entries)}else l=e.entries;Object.keys(l||{}).forEach(c=>{a[c]||(a[c]=l[c])})}const n=I.reduce((l,c)=>(l[c.id]=a[c.id]||"",l),{});return{month:t+1,completed:!!(e!=null&&e.completed),entries:n}},xe=e=>{localStorage.setItem(_e,JSON.stringify(e))},ue=e=>{localStorage.setItem(Ze,JSON.stringify(e))},Ee=e=>{localStorage.setItem(i,JSON.stringify(e))},U=e=>{localStorage.setItem(w,JSON.stringify(e))},oe=async()=>{if(T)try{const e=await fetch(`${T}?action=newsletter_list`);if(!e.ok)throw new Error(`Newsletter load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const x=parseInt(c.month,10);return!Number.isNaN(x)&&x>=1&&x<=12&&(l[x-1]=le(c,x-1)),l},{});z(n),xe(n)}catch(e){console.error("Failed to load newsletter data",e);const t=localStorage.getItem(_e);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&z(a)}catch(a){console.error("Failed to parse cached newsletter data",a)}}},V=async()=>{if(T)try{const e=await fetch(`${T}?action=posting_list`);if(!e.ok)throw new Error(`Posting load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const x=parseInt(c.month,10);return!Number.isNaN(x)&&x>=1&&x<=12&&(l[x-1]=ie(c,x-1)),l},{});d(n),ue(n)}catch(e){console.error("Failed to load posting schedule",e);const t=localStorage.getItem(Ze);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&d(a)}catch(a){console.error("Failed to parse cached posting schedule",a)}}},De=async()=>{if(T)try{const e=await fetch(`${T}?action=press_release_list`);if(!e.ok)throw new Error(`Press release load failed: ${e.status}`);const t=await e.json(),n=(Array.isArray(t.entries)?t.entries:[]).reduce((l,c)=>{const x=parseInt(c.month,10);return!Number.isNaN(x)&&x>=1&&x<=12&&(l[x-1]=de(c,x-1)),l},{});me(n),Ee(n)}catch(e){console.error("Failed to load press release data",e);const t=localStorage.getItem(i);if(t)try{const a=JSON.parse(t);a&&typeof a=="object"&&me(a)}catch(a){console.error("Failed to parse cached press release data",a)}}},Je=async()=>{if(T)try{const e=await fetch(`${T}?action=bookings_list`);if(!e.ok)throw new Error(`Bookings load failed: ${e.status}`);const t=await e.json(),a=Array.isArray(t.entries)?t.entries:[],n=Number.isFinite(t.count)?t.count:a.length;ke(a),je(n),U(a)}catch(e){console.error("Failed to load bookings data",e);const t=localStorage.getItem(w);if(t)try{const a=JSON.parse(t);Array.isArray(a)&&(ke(a),je(a.length))}catch(a){console.error("Failed to parse cached bookings data",a)}}},We=async(e,t)=>{if(!T)return;const a=le(t,e);try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"newsletter_upsert",entry:a})})}catch(n){console.error("Failed to save newsletter entry",n)}},mt=async(e,t)=>{if(!T)return;const a=ie(t,e),n={month:a.month,completed:a.completed,week1:ae(k[0],a.entries),week2:ae(k[1],a.entries),week3:ae(k[2],a.entries),week4:ae(k[3],a.entries),entries:se(a.entries)};try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"posting_upsert",entry:n})})}catch(l){console.error("Failed to save posting schedule",l)}},ut=async(e,t)=>{if(!T)return;const a=de(t,e);try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"press_release_upsert",entry:a})})}catch(n){console.error("Failed to save press release entry",n)}},Gt=async e=>{if(T)try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"bookings_update",entry:e})})}catch(t){console.error("Failed to save booking update",t)}},pt=(e,t,a)=>{z(n=>{const l=g(p({},le(n[e],e)),{[t]:a}),c=g(p({},n),{[e]:l});return xe(c),We(e,l),c})},Kt=(e,t,a)=>{d(n=>{const l=ie(n[e],e),c=g(p({},l),{entries:g(p({},l.entries),{[t]:a})}),x=g(p({},n),{[e]:c});return ue(x),mt(e,c),x})},qt=(e,t,a)=>{me(n=>{const l=g(p({},de(n[e],e)),{[t]:a}),c=g(p({},n),{[e]:l});return Ee(c),ut(e,l),c})},gt=e=>{z(t=>{const a=le(t[e],e),n=g(p({},a),{published:!a.published}),l=g(p({},t),{[e]:n});return xe(l),We(e,n),l})},Xt=e=>{me(t=>{const a=de(t[e],e),n=g(p({},a),{published:!a.published}),l=g(p({},t),{[e]:n});return Ee(l),ut(e,n),l})},Zt=e=>{d(t=>{const a=ie(t[e],e),n=g(p({},a),{completed:!a.completed}),l=g(p({},t),{[e]:n});return ue(l),mt(e,n),l})},et=(e,t,a)=>{ke(n=>{const l=n.map(x=>x.rowIndex!==e?x:g(p({},x),{[t]:a}));U(l);const c=l.find(x=>x.rowIndex===e);return c&&Gt({rowIndex:c.rowIndex,photoPermission:!!c.photoPermission,link:c.link||"",posted:!!c.posted}),l})},Ae=e=>{localStorage.setItem(Se,JSON.stringify(e))},es=(e,t)=>{if(!e||!t)return;const a=JSON.parse(localStorage.getItem(he)||"{}");a[e]=t,localStorage.setItem(he,JSON.stringify(a))},ts=e=>{const t=JSON.parse(localStorage.getItem(he)||"{}");t[e]&&(delete t[e],localStorage.setItem(he,JSON.stringify(t)))},Pe=async e=>{if(!T)return;const t=g(p({},e),{checklist:typeof e.checklist=="string"?e.checklist:JSON.stringify(e.checklist||{}),planningChecklist:typeof e.planningChecklist=="string"?e.planningChecklist:JSON.stringify(e.planningChecklist||{}),planningNotes:e.planningNotes||""});try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"upsert",event:t})})}catch(a){console.error("Failed to save event to Sheets",a)}},ss=async e=>{const t=s.filter(a=>a.id!==e);if(o(t),Ae(t),E(null),ts(e),!!T)try{await fetch(T,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({action:"delete",id:e})})}catch(a){console.error("Failed to delete event from Sheets",a)}};Le(()=>{fe(),oe(),V(),De(),Je()},[]);const bt=e=>{if(!e)return null;const n=new Date(e)-new Date;return Math.ceil(n/(1e3*60*60*24))},Is=(e,t)=>!t||t===0?0:Math.round(e/t*100),xt=e=>{const t=f.filter(n=>!n.optional);if(!t.length)return 0;const a=t.filter(n=>e==null?void 0:e[n.id]).length;return Math.round(a/t.length*100)},vt=e=>{const t=Object.values(e||{}).filter(a=>a&&a.done).length;return Q.length?Math.round(t/Q.length*100):0},as=e=>e>=90?"text-emerald-600":e>=70?"text-stone-600":"text-stone-700",os=e=>e>=90?"On track":e>=70?"Slightly behind":"Needs attention",He=e=>{const t=f.filter(n=>!n.optional);return`${t.filter(n=>e==null?void 0:e[n.id]).length}/${t.length}`},ht=e=>`${Object.values(e||{}).filter(a=>a&&a.done).length}/${Q.length}`,rs=e=>I.filter(t=>((e==null?void 0:e[t.id])||"").trim()).length,tt=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},st=e=>{if(!e)return"";if(/^\d{2}:\d{2}$/.test(e))return e;const t=e.match(/^(\d{1,2}):(\d{2}):\d{2}$/);if(t)return`${t[1].padStart(2,"0")}:${t[2]}`;const a=e.match(/^(\d{1,2}):(\d{2})\s*([AaPp][Mm])$/);if(a){let n=parseInt(a[1],10);const l=a[2],c=a[3].toLowerCase()==="pm";return c&&n<12&&(n+=12),!c&&n===12&&(n=0),`${String(n).padStart(2,"0")}:${l}`}return""},ft=e=>{if(!e)return"";const t=st(e);if(!t)return e;const[a,n]=t.split(":"),l=parseInt(a,10),c=l>=12?"PM":"AM";return`${l%12===0?12:l%12}:${n}${c}`},ns=e=>{if(!e)return"";const t=tt(e);if(!t)return e;const[a,n,l]=t.split("-").map(Number);return new Date(a,n-1,l).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},pe=new Date().getMonth(),Oe=F[pe],ve=Oe&&Oe.published?(pe+1)%12:pe,Z=F[ve]||le(null,ve),ze=m[pe],Ie=ze&&ze.completed?(pe+1)%12:pe,ls=ie(m[Ie],Ie),Nt=rs(ls.entries),Ye=te[pe],Re=Ye&&Ye.published?(pe+1)%12:pe,Te=te[Re]||de(null,Re),ds=e=>{const t=e.target.files[0];if(t){const a=new FileReader;a.onloadend=()=>{$(g(p({},y),{flyerImage:a.result}))},a.readAsDataURL(t)}},is=()=>{const e=g(p({},y),{id:Date.now(),createdAt:new Date().toISOString()}),t=[...s,e];o(t),Ae(t),e.flyerImage&&es(e.id,e.flyerImage),Pe(e),N(!1),$({name:"",date:"",time:"",isTBD:!1,goals:"",outcomes:"",advertising:"",totalSpent:"",totalEarned:"",volunteers:"",targetAttendance:"",currentRSVPs:"",flyerImage:null,checklist:{},planningChecklist:{},planningNotes:"",notes:"",postEventAttendance:"",postEventNotes:""})},cs=(e,t)=>{let a=null;const n=s.map(l=>l.id===e?(a=g(p({},l),{checklist:g(p({},l.checklist),{[t]:!l.checklist[t]})}),a):l);o(n),Ae(n),r&&r.id===e&&a&&E(a),a&&Pe(a)},ms=(e,t)=>{let a=null;const n=s.map(l=>{if(l.id===e){const c=l.planningChecklist||{},x=c[t]||{done:!1,note:""},re=g(p({},c),{[t]:g(p({},x),{done:!x.done})});return a=g(p({},l),{planningChecklist:re}),a}return l});o(n),Ae(n),r&&r.id===e&&a&&E(a),a&&Pe(a)},us=(e,t,a)=>{let n=null;const l=s.map(c=>{if(c.id===e){const x=c.planningChecklist||{},re=x[t]||{done:!1,note:""},u=g(p({},x),{[t]:g(p({},re),{note:a})});return n=g(p({},c),{planningChecklist:u}),n}return c});o(l),Ae(l),r&&r.id===e&&n&&E(n),n&&Pe(n)},q=(e,t,a)=>{let n=null;const l=s.map(c=>c.id===e?(n=g(p({},c),{[t]:a}),n):c);o(l),Ae(l),r&&r.id===e&&n&&E(n),n&&Pe(n)};if(r){const e=bt(r.date),t=xt(r.checklist),a=vt(r.planningChecklist),n=as(t),l=os(t),c=e!==null&&e<0;return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-4xl mx-auto"},React.createElement("button",{onClick:()=>E(null),className:"mb-6 text-amber-700 hover:text-amber-800 font-medium"},"\u2190 Back to Dashboard"),React.createElement("div",{className:"bg-white rounded-lg shadow-lg border border-stone-200 overflow-hidden",onTouchStart:u=>{H.current=u.touches[0].clientX},onTouchEnd:u=>{if(H.current===null)return;const v=u.changedTouches[0].clientX-H.current;Math.abs(v)>60&&_(v<0?"planning":"marketing"),H.current=null}},r.flyerImage&&React.createElement("div",{className:"w-full h-64 bg-gray-100"},React.createElement("img",{src:r.flyerImage,alt:r.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-8"},React.createElement("div",{className:"mb-6 space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:r.name,onChange:u=>q(r.id,"name",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-2xl font-light text-stone-900",placeholder:"Event name"})),React.createElement("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-stone-700"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(it,{size:18}),r.isTBD?React.createElement("span",null,"TBD"):React.createElement(React.Fragment,null,React.createElement("input",{type:"date",value:tt(r.date),onChange:u=>q(r.id,"date",u.target.value),className:"px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"}),r.time&&React.createElement("span",{className:"text-sm text-stone-700"},"\xB7 ",ft(r.time)))),e!==null&&!c&&React.createElement("div",{className:"flex items-center gap-2"},React.createElement(Ts,{size:18}),React.createElement("span",null,e," days away")))),React.createElement("div",{className:"mb-6 flex w-full rounded-full border border-stone-200 bg-stone-50 p-1 text-xs font-medium"},React.createElement("button",{onClick:()=>_("marketing"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${W==="marketing"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Marketing"),React.createElement("button",{onClick:()=>_("planning"),className:`flex-1 rounded-full px-3 py-2 transition-colors ${W==="planning"?"bg-white text-stone-900 shadow-sm":"text-stone-600"}`},"Event Planning")),W==="marketing"&&React.createElement(React.Fragment,null,!c&&React.createElement("div",{className:"mb-8 p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Marketing Progress"),React.createElement("span",{className:`text-sm font-medium ${n}`},l)),React.createElement("div",{className:"flex items-center gap-4 mb-2"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(t,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},t,"%")),React.createElement("div",{className:"text-sm text-stone-700"},He(r.checklist)," marketing tasks"),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-200"},React.createElement("p",{className:"text-sm text-stone-800 mb-3"},"You're ",e>14?`${e} days out`:e>7?"two weeks out":"one week out"," and have completed ",He(r.checklist)," marketing tasks (",t,"%). Attendance is ",r.currentRSVPs||0," of ",r.targetAttendance||0,"."))),React.createElement("div",{className:"mb-8"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Marketing Checklist"),React.createElement("span",{className:"text-sm text-stone-600 font-medium"},He(r.checklist)," complete")),React.createElement("div",{className:"space-y-2"},f.map(u=>React.createElement("label",{key:u.id,className:"flex items-start sm:items-center gap-3 p-3 hover:bg-stone-50 rounded-md cursor-pointer transition-colors"},React.createElement("input",{type:"checkbox",checked:r.checklist[u.id]||!1,onChange:()=>cs(r.id,u.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`flex-1 ${r.checklist[u.id]?"line-through text-gray-400":"text-stone-800"} ${u.special?"text-sm italic":""}`},u.label))))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Event Details"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:st(r.time)||"",onChange:u=>q(r.id,"time",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:r.goals||"",onChange:u=>q(r.id,"goals",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:r.outcomes||"",onChange:u=>q(r.id,"outcomes",u.target.value),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})))),React.createElement("div",{className:"mb-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Budget & Promotion"),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:r.advertising||"",onChange:u=>q(r.id,"advertising",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:r.volunteers||"",onChange:u=>q(r.id,"volunteers",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:r.totalSpent||"",onChange:u=>q(r.id,"totalSpent",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:r.totalEarned||"",onChange:u=>q(r.id,"totalEarned",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})))),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:r.currentRSVPs,onChange:u=>q(r.id,"currentRSVPs",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Update attendance count"})),React.createElement("div",{className:"mb-8"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Notes"),React.createElement("textarea",{value:r.notes,onChange:u=>q(r.id,"notes",u.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Ongoing thoughts and planning notes..."})),React.createElement("div",{className:"border-t border-stone-200 pt-8"},React.createElement("h2",{className:"text-xl font-light text-stone-900 mb-4"},"Post-Event Reflection"),React.createElement("div",{className:"space-y-4"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Actual Attendance"),React.createElement("input",{type:"number",value:r.postEventAttendance,onChange:u=>q(r.id,"postEventAttendance",u.target.value),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Final attendance count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Reflection Notes"),React.createElement("textarea",{value:r.postEventNotes,onChange:u=>q(r.id,"postEventNotes",u.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What worked well? What would you change? Key takeaways..."})))),React.createElement("div",{className:"mt-8 flex justify-end"},React.createElement("button",{onClick:()=>ss(r.id),className:"px-4 py-2 border border-stone-300 text-stone-700 rounded-md hover:bg-stone-100 transition-colors"},"Delete Event"))),W==="planning"&&React.createElement("div",{className:"mb-8 space-y-6"},React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Planning Notes"),React.createElement("textarea",{value:r.planningNotes||"",onChange:u=>q(r.id,"planningNotes",u.target.value),rows:4,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"General info, reminders, or planning thoughts..."})),React.createElement("div",{className:"bg-white rounded-lg border border-stone-200 shadow-sm p-6 cursor-pointer hover:border-amber-300 transition-colors",onClick:()=>Y(!0)},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h3",{className:"text-sm font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Showing ",b[ve])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:u=>{u.stopPropagation(),Y(!0)}},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Z.mainFeature||Z.mainUpcomingEvent||Z.eventRecaps||Z.volunteerHours||Z.donationNeeds||Z.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Oe&&Oe.published?`Published - previewing ${b[ve]}`:`Draft - ${b[ve]}`)),React.createElement("div",{className:"p-6 bg-gradient-to-br from-stone-50 to-stone-100 rounded-lg border border-stone-200 shadow-sm"},React.createElement("div",{className:"flex justify-between items-center mb-3"},React.createElement("span",{className:"text-sm font-medium text-stone-900"},"Event Planning Progress"),React.createElement("span",{className:"text-sm font-medium text-stone-700"},a,"%")),React.createElement("div",{className:"flex items-center gap-4 mb-4"},React.createElement("div",{className:"flex-1 h-3 bg-white rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(a,100)}%`}})),React.createElement("span",{className:"text-lg font-light text-stone-900"},a,"%")),React.createElement("div",{className:"text-sm text-stone-700 mb-4"},ht(r.planningChecklist)," planning tasks"),React.createElement("div",{className:"space-y-3"},Q.map(u=>{const v=(r.planningChecklist||{})[u.id]||{done:!1,note:""};return React.createElement("div",{key:u.id,className:"flex flex-col sm:flex-row sm:items-center gap-3 rounded-md bg-white p-3 border border-stone-200"},React.createElement("label",{className:"flex items-center gap-3"},React.createElement("input",{type:"checkbox",checked:v.done||!1,onChange:()=>ms(r.id,u.id),className:"w-5 h-5 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:`text-sm ${v.done?"line-through text-gray-400":"text-stone-800"}`},u.label)),React.createElement("input",{type:"text",value:v.note||"",onChange:L=>us(r.id,u.id,L.target.value),className:"flex-1 px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"Notes"}))})))),be&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Y(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>J((P+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},b[P]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>J((P+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(yt=F[P])!=null&&yt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>gt(P)},(wt=F[P])!=null&&wt.published?React.createElement(React.Fragment,null,React.createElement(Xe,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},h.map(u=>{var v;return React.createElement("div",{key:u.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},u.label),React.createElement("textarea",{value:((v=F[P])==null?void 0:v[u.id])||"",onChange:L=>pt(P,u.id,L.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${u.label.toLowerCase()}...`}))})))))))))}return React.createElement("div",{className:"min-h-screen bg-gradient-to-br from-stone-50 via-stone-100 to-amber-50 p-4 sm:p-6"},React.createElement("div",{className:"max-w-6xl mx-auto"},React.createElement("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8"},React.createElement("div",null,React.createElement("h1",{className:"text-4xl font-light text-stone-900 mb-2"},"North Star House"),React.createElement("p",{className:"text-stone-700"},"Event Management")),React.createElement("button",{onClick:()=>N(!0),className:"flex items-center justify-center gap-2 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] transition-all shadow-md w-full md:w-auto"},React.createElement(Os,{size:20}),"New Event")),B&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 sm:p-6 z-50"},React.createElement("div",{className:"bg-gradient-to-br from-white to-stone-50 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto p-6 sm:p-8 border border-stone-200"},React.createElement("h2",{className:"text-2xl font-light text-stone-900 mb-6"},"Create New Event"),React.createElement("div",{className:"space-y-6"},React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Event Name"),React.createElement("input",{type:"text",value:y.name,onChange:e=>$(g(p({},y),{name:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event name"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Date"),React.createElement("input",{type:"date",value:y.date,onChange:e=>$(g(p({},y),{date:e.target.value,isTBD:!1})),disabled:y.isTBD,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent disabled:bg-gray-100 bg-white"}),React.createElement("label",{className:"flex items-center gap-2 mt-2"},React.createElement("input",{type:"checkbox",checked:y.isTBD,onChange:e=>$(g(p({},y),{isTBD:e.target.checked,date:""})),className:"w-4 h-4 text-amber-600 rounded focus:ring-amber-400"}),React.createElement("span",{className:"text-sm text-stone-700"},"Date TBD"))),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Time"),React.createElement("input",{type:"time",value:y.time,onChange:e=>$(g(p({},y),{time:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Event time"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Goals"),React.createElement("input",{type:"text",value:y.goals,onChange:e=>$(g(p({},y),{goals:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"What is this event aiming to achieve?"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Outcomes"),React.createElement("textarea",{value:y.outcomes,onChange:e=>$(g(p({},y),{outcomes:e.target.value})),rows:3,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Key outcomes or takeaways"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Advertising"),React.createElement("input",{type:"text",value:y.advertising,onChange:e=>$(g(p({},y),{advertising:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Channels, partners, or placements"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Spent"),React.createElement("input",{type:"number",value:y.totalSpent,onChange:e=>$(g(p({},y),{totalSpent:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Total Earned"),React.createElement("input",{type:"number",value:y.totalEarned,onChange:e=>$(g(p({},y),{totalEarned:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"0"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Volunteers"),React.createElement("input",{type:"text",value:y.volunteers,onChange:e=>$(g(p({},y),{volunteers:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Names or count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Target Attendance"),React.createElement("input",{type:"number",value:y.targetAttendance,onChange:e=>$(g(p({},y),{targetAttendance:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Expected number of attendees"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Current RSVPs / Tickets"),React.createElement("input",{type:"number",value:y.currentRSVPs,onChange:e=>$(g(p({},y),{currentRSVPs:e.target.value})),className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white",placeholder:"Current count"})),React.createElement("div",null,React.createElement("label",{className:"block text-sm font-medium text-stone-900 mb-2"},"Flyer / Event Image"),React.createElement("div",{className:"flex items-center gap-4"},React.createElement("label",{className:"flex items-center gap-2 px-4 py-2 border border-stone-200 rounded-md cursor-pointer hover:bg-stone-50 transition-colors"},React.createElement(Ps,{size:18,className:"text-stone-600"}),React.createElement("span",{className:"text-sm text-stone-800"},"Upload Image"),React.createElement("input",{type:"file",accept:"image/*",onChange:ds,className:"hidden"})),y.flyerImage&&React.createElement("img",{src:y.flyerImage,alt:"Preview",className:"h-16 w-16 object-cover rounded-md border border-stone-200 shadow-sm"}))),React.createElement("div",{className:"flex flex-col-reverse sm:flex-row gap-3 pt-4"},React.createElement("button",{onClick:is,disabled:!y.name,className:"flex-1 px-6 py-3 bg-[#886c44] text-white rounded-md hover:bg-[#755a38] disabled:bg-gray-300 disabled:cursor-not-allowed transition-all shadow-md"},"Create Event"),React.createElement("button",{onClick:()=>N(!1),className:"px-6 py-3 border border-stone-300 text-stone-800 rounded-md hover:bg-stone-50 transition-colors"},"Cancel"))))),s.length===0?React.createElement("div",{className:"text-center py-16 bg-white rounded-lg border border-stone-200 shadow-sm"},React.createElement(it,{size:48,className:"mx-auto text-stone-300 mb-4"}),React.createElement("p",{className:"text-stone-700 mb-2"},"No events yet"),React.createElement("p",{className:"text-sm text-stone-500"},"Create your first event to get started")):React.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5"},s.map(e=>{const t=bt(e.date),a=xt(e.checklist),n=t!==null&&t<0,l=vt(e.planningChecklist);return React.createElement("div",{key:e.id,onClick:()=>E(e),className:"bg-white rounded-lg shadow-md border border-stone-200 overflow-hidden cursor-pointer hover:shadow-lg hover:border-amber-400 transition-all"},e.flyerImage&&React.createElement("div",{className:"w-full h-40 bg-gradient-to-br from-stone-100 to-amber-100"},React.createElement("img",{src:e.flyerImage,alt:e.name,className:"w-full h-full object-cover"})),React.createElement("div",{className:"p-5"},React.createElement("h3",{className:"text-lg font-medium text-stone-900 mb-2"},e.name),React.createElement("div",{className:"flex items-center justify-between text-sm text-stone-700 mb-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement(it,{size:14}),React.createElement("span",null,e.isTBD?"TBD":`${ns(e.date)}${e.time?` \xB7 ${ft(e.time)}`:""}`)),t!==null&&!n&&React.createElement("span",{className:"text-xs text-stone-500"},t," days")),!n&&React.createElement("div",{className:"mt-3 space-y-2 text-xs text-stone-600"},(e.targetAttendance||e.currentRSVPs)&&React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Goal / Current"),React.createElement("span",{className:"font-medium text-stone-800"},e.targetAttendance||0," / ",e.currentRSVPs||0)),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Marketing progress"),React.createElement("span",{className:"font-medium text-stone-800"},a,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(a,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},He(e.checklist)," tasks"),React.createElement("div",{className:"flex items-center justify-between"},React.createElement("span",null,"Event planning progress"),React.createElement("span",{className:"font-medium text-stone-800"},l,"%")),React.createElement("div",{className:"h-2 bg-stone-100 rounded-full overflow-hidden shadow-inner"},React.createElement("div",{className:"h-full bg-gradient-to-r from-amber-400 via-amber-500 to-amber-400 transition-all duration-500",style:{width:`${Math.min(l,100)}%`}})),React.createElement("div",{className:"text-[11px] text-stone-500"},ht(e.planningChecklist)," tasks")),n&&React.createElement("div",{className:"text-xs text-stone-500"},"Past event")))})),React.createElement("div",{className:"mt-10 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",b[ve])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>Y(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Z.mainFeature||Z.mainUpcomingEvent||Z.eventRecaps||Z.volunteerHours||Z.donationNeeds||Z.other||"Add the monthly overview and details."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Oe&&Oe.published?`Published - previewing ${b[ve]}`:`Draft - ${b[ve]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Goal: 1 per month - Current focus: ",b[Re])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>we(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Te.headline||Te.summary||Te.keyDetails||Te.outlets||Te.link||Te.notes||"Outline the monthly press release."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},Ye&&Ye.published?`Sent - previewing ${b[Re]}`:`Draft - ${b[Re]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Current focus: ",b[Ie])),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>M(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},Nt>0?`${Nt}/${I.length} prompts filled.`:"Add what you posted this month."),React.createElement("div",{className:"mt-3 text-xs text-stone-500"},ze&&ze.completed?`Completed - previewing ${b[Ie]}`:`In progress - ${b[Ie]}`)),React.createElement("div",{className:"mt-6 bg-white rounded-lg border border-stone-200 shadow-sm p-6"},React.createElement("div",{className:"flex items-start justify-between gap-4 mb-2"},React.createElement("div",null,React.createElement("h2",{className:"text-lg font-medium text-stone-900"},"Events Booked"),React.createElement("p",{className:"text-xs text-stone-500"},Ue," event",Ue===1?"":"s"," booked")),React.createElement("button",{type:"button",className:"text-xs text-amber-700 font-medium",onClick:()=>Ce(!0)},"Open")),React.createElement("div",{className:"text-sm text-stone-700"},"Review photo permissions, links, and socials status."))),be&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Newsletter Content"),React.createElement("p",{className:"text-xs text-stone-500"},"Edit month-by-month content for the newsletter.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Y(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>J((P+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},b[P]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>J((P+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(kt=F[P])!=null&&kt.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>gt(P)},(Ct=F[P])!=null&&Ct.published?React.createElement(React.Fragment,null,React.createElement(Xe,{size:16}),"Published"):"Mark as Published")),React.createElement("div",{className:"space-y-4"},h.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=F[P])==null?void 0:t[e.id])||"",onChange:a=>pt(P,e.id,a.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),Me&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Press Releases"),React.createElement("p",{className:"text-xs text-stone-500"},"Plan month-by-month press releases.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>we(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Be((ne+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},b[ne]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>Be((ne+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(St=te[ne])!=null&&St.published?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>Xt(ne)},(Et=te[ne])!=null&&Et.published?React.createElement(React.Fragment,null,React.createElement(Xe,{size:16}),"Sent"):"Mark as Sent")),React.createElement("div",{className:"space-y-4"},D.map(e=>{var t;return React.createElement("div",{key:e.id,className:"flex flex-col sm:flex-row gap-3"},React.createElement("div",{className:"text-sm font-medium text-stone-900 sm:w-48 pt-2"},e.label),React.createElement("textarea",{value:((t=te[ne])==null?void 0:t[e.id])||"",onChange:a=>qt(ne,e.id,a.target.value),rows:3,className:"flex-1 px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:`Add ${e.label.toLowerCase()}...`}))}))))),O&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Monthly Posting Schedule"),React.createElement("p",{className:"text-xs text-stone-500"},"Track what you actually posted each week.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>M(!1)},"Close")),React.createElement("div",{className:"p-6 space-y-6"},React.createElement("div",{className:"flex flex-wrap items-center justify-between gap-3"},React.createElement("div",{className:"flex items-center gap-2"},React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((G+11)%12)},"Prev"),React.createElement("div",{className:"text-sm font-medium text-stone-900"},b[G]),React.createElement("button",{type:"button",className:"px-3 py-2 border border-stone-200 rounded-md text-sm text-stone-600 hover:bg-stone-50",onClick:()=>ye((G+1)%12)},"Next")),React.createElement("button",{type:"button",className:`px-3 py-2 rounded-md text-sm font-medium border inline-flex items-center gap-2 ${(Dt=m[G])!=null&&Dt.completed?"border-emerald-200 text-emerald-700 bg-emerald-50":"border-stone-200 text-stone-600 hover:bg-stone-50"}`,onClick:()=>Zt(G)},(At=m[G])!=null&&At.completed?React.createElement(React.Fragment,null,React.createElement(Xe,{size:16}),"Completed"):"Mark as Complete")),k.map(e=>React.createElement("div",{key:e.week,className:"space-y-4"},React.createElement("h3",{className:"text-sm font-semibold text-stone-900"},e.week),React.createElement("div",{className:"space-y-3"},e.items.map(t=>{var a,n;return React.createElement("div",{key:t.id,className:"flex flex-col gap-2 rounded-md border border-stone-200 p-3"},React.createElement("div",{className:"text-sm font-medium text-stone-800"},t.day," - ",t.prompt),React.createElement("textarea",{value:((n=(a=m[G])==null?void 0:a.entries)==null?void 0:n[t.id])||"",onChange:l=>Kt(G,t.id,l.target.value),rows:2,className:"w-full px-4 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm",placeholder:"What you posted or did..."}))}))))))),Ve&&React.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center p-4 z-50"},React.createElement("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full max-h-[90vh] overflow-y-auto border border-stone-200"},React.createElement("div",{className:"p-6 border-b border-stone-200 flex items-center justify-between"},React.createElement("div",null,React.createElement("h2",{className:"text-xl font-light text-stone-900"},"Events Booked"),React.createElement("p",{className:"text-xs text-stone-500"},"Manage photo permissions and social posting status.")),React.createElement("button",{type:"button",className:"text-sm text-stone-600 hover:text-stone-800",onClick:()=>Ce(!1)},"Close")),React.createElement("div",{className:"p-6"},Qe.length===0?React.createElement("div",{className:"text-sm text-stone-600"},"No bookings found."):React.createElement("div",{className:"overflow-x-auto"},React.createElement("table",{className:"min-w-[720px] w-full text-sm"},React.createElement("thead",null,React.createElement("tr",{className:"text-left text-stone-500 border-b border-stone-200"},React.createElement("th",{className:"py-2 pr-3 font-medium"},"Name"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Type"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Photo Permission"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Link / Photographer"),React.createElement("th",{className:"py-2 pr-3 font-medium"},"Posted to Socials"))),React.createElement("tbody",{className:"text-stone-800"},Qe.map(e=>React.createElement("tr",{key:e.rowIndex,className:"border-b border-stone-100"},React.createElement("td",{className:"py-3 pr-3 align-top"},e.name||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},e.type||"\u2014"),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.photoPermission,onChange:t=>et(e.rowIndex,"photoPermission",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Permission granted")),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("input",{type:"text",value:e.link||"",onChange:t=>et(e.rowIndex,"link",t.target.value),placeholder:"Add link or photographer",className:"w-full px-3 py-2 border border-stone-200 rounded-md focus:ring-2 focus:ring-amber-400 focus:border-transparent bg-white text-sm"})),React.createElement("td",{className:"py-3 pr-3 align-top"},React.createElement("label",{className:"inline-flex items-center gap-2 text-xs text-stone-600"},React.createElement("input",{type:"checkbox",checked:!!e.posted,onChange:t=>et(e.rowIndex,"posted",t.target.checked),className:"h-4 w-4 rounded border-stone-300 text-amber-600 focus:ring-amber-400"}),"Posted")))))))))))};var Bs=Yt;const Fs=({metrics:s,majorTodos:o,onAddTodo:r,onToggleTodo:E,onDeleteTodo:B,onOpenHoneybook:N,onOpenVoicemails:ee,unreadHoneybook:ce,unreadVoicemails:W})=>{const[_,H]=S(""),F=()=>{const m=_.trim();m&&(r(m),H(""))},z=m=>{m.key==="Enter"&&F()},be=o.filter(m=>!m.done),Y=o.filter(m=>m.done),P={"Events booked":"https://northstarhouse.github.io/north-star-bookings-log/",Volunteers:"https://northstarhouse.github.io/Volunteer-Database/","Donation total":"https://northstarhouse.github.io/donation-database/",Sponsors:"https://northstarhouse.github.io/donation-database/"},J={"Donation total":"Goal: $75,000","Events booked":"Goal: 45",Sponsors:"Goal: 15"};return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold mb-4"},React.createElement(Ht,{size:28}),React.createElement("span",{className:"text-sm uppercase tracking-[0.25em] font-semibold"},"Mission Control")),React.createElement("div",{className:"flex gap-2 mb-4"},React.createElement("input",{type:"text",value:_,onChange:m=>H(m.target.value),onKeyDown:z,placeholder:"Add a major focus item...",className:"flex-1 rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold placeholder:text-stone-400"}),React.createElement("button",{onClick:F,disabled:!_.trim(),className:"bg-gold text-white rounded-xl px-4 py-2.5 text-sm font-medium transition hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1.5"},React.createElement(Cs,{size:16}),"Add")),React.createElement("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1"},be.length===0&&Y.length===0&&React.createElement("p",{className:"text-stone-400 text-sm text-center py-4"},"No items yet. Add your first major focus above."),be.map(m=>React.createElement("div",{key:m.id,className:"flex items-center gap-3 group bg-white rounded-xl border border-stone-100 px-4 py-3 transition hover:border-gold/30"},React.createElement("button",{onClick:()=>E(m.id),className:"w-5 h-5 rounded-md border-2 border-stone-300 flex-shrink-0 transition hover:border-gold flex items-center justify-center","aria-label":"Mark complete"}),React.createElement("span",{className:"text-sm text-ink flex-1"},m.text),React.createElement("button",{onClick:()=>B(m.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(_t,{size:14})))),Y.length>0&&React.createElement("div",{className:"pt-2 border-t border-stone-100 mt-3"},React.createElement("p",{className:"text-[10px] uppercase tracking-wide text-stone-400 mb-2"},"Completed"),Y.map(m=>React.createElement("div",{key:m.id,className:"flex items-center gap-3 group rounded-xl px-4 py-2.5 transition"},React.createElement("button",{onClick:()=>E(m.id),className:"w-5 h-5 rounded-md bg-gold/20 border-2 border-gold/40 flex-shrink-0 flex items-center justify-center text-gold","aria-label":"Mark incomplete"},React.createElement(Ss,{size:12})),React.createElement("span",{className:"text-sm text-stone-400 line-through flex-1"},m.text,m.completedAt&&React.createElement("span",{className:"ml-2 text-[10px] text-stone-300 no-underline inline-block",style:{textDecoration:"none"}},ws(m.completedAt))),React.createElement("button",{onClick:()=>B(m.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(_t,{size:14}))))))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Donation total",value:Wt(s==null?void 0:s.donationsTotal)},{label:"Events booked",value:dt(s==null?void 0:s.eventsCount)},{label:"Sponsors",value:dt(s==null?void 0:s.sponsorsCount)},{label:"Volunteers",value:dt(s==null?void 0:s.volunteersCount)},{label:"Voicemails",value:"Voicemails"},{label:"Honeybook Messages",value:"Honeybook Messages"}].map(m=>m.label==="Voicemails"?React.createElement("button",{key:m.label,onClick:ee,className:"text-center bg-white rounded-2xl p-4 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":"Open Voicemails"},React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},m.value),React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},"Live sheet"),W&&React.createElement("div",{className:"absolute top-3 right-3 text-[10px] uppercase tracking-wide bg-gold text-white px-2 py-1 rounded-full"},"+1 New")):m.label==="Honeybook Messages"?React.createElement("button",{key:m.label,onClick:N,className:"text-center bg-white rounded-2xl p-4 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":"Open Honeybook Messages"},React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},m.value),React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},"Live sheet"),ce&&React.createElement("div",{className:"absolute top-3 right-3 text-[10px] uppercase tracking-wide bg-gold text-white px-2 py-1 rounded-full"},"+1 New")):P[m.label]?React.createElement("a",{key:m.label,href:P[m.label],className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":`${m.label} details`},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},m.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},m.value),J[m.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},J[m.label]):null):React.createElement("div",{key:m.label,className:"bg-white rounded-2xl p-4 border border-stone-100 card-shadow relative"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},m.label),React.createElement("div",{className:"font-display text-2xl text-ink mt-2"},m.value),J[m.label]?React.createElement("div",{className:"absolute bottom-3 right-4 text-[10px] uppercase tracking-wide text-steel"},J[m.label]):null)),React.createElement("div",{className:"col-span-2 grid grid-cols-2 gap-3 mt-1"},[{label:"Archives",href:"https://northstarhouse.github.io/north-star-archives/",icon:"\u{1F4DA}"},{label:"Event Planning",href:"https://northstarhouse.github.io/nsh-events-committee/",icon:"\u{1F4CB}"}].map(m=>React.createElement("a",{key:m.label,href:m.href,className:"flex items-center gap-2 bg-white/80 rounded-xl px-4 py-2.5 border border-stone-100 text-sm font-medium text-ink transition hover:-translate-y-0.5 hover:shadow-md hover:border-gold/30 focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60"},React.createElement("span",null,m.icon),React.createElement("span",null,m.label),React.createElement("svg",{className:"w-3.5 h-3.5 ml-auto text-steel",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},React.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 17L17 7M17 7H7M17 7v10"}))))))))};const Ms=()=>{const[s,o]=S("dashboard"),[r,E]=S(!0),B=Ns(),[N,ee]=S({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[ce,W]=S({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[_,H]=S(()=>qe(nt)||[]),[F,z]=S([]),[be,Y]=S(null),[P,J]=S(null),[m,d]=S(null),[O,M]=S(!1),[G,ye]=S({honeybook:null,voicemails:null}),[te,me]=S({honeybook:!1,voicemails:!1}),Me=lt.reduce((i,w)=>(i[w.key]={label:w.label,key:w.sheet},i),{}),we=i=>{H(i),Fe(nt,i)},ne=i=>{const w={id:ys(),text:i,done:!1,createdAt:new Date().toISOString(),completedAt:""},b=[..._,w];we(b),j.saveMajorTodo(w)},Be=i=>{const w=_.map(b=>{if(b.id!==i)return b;const h=g(p({},b),{done:!b.done,completedAt:b.done?"":new Date().toISOString()});return j.saveMajorTodo(h),h});we(w)},Qe=i=>{const w=_.filter(b=>b.id!==i);we(w),j.deleteMajorTodo(i)};Le(()=>{Ce()},[]);const ke=()=>{try{const i=localStorage.getItem(Lt);return i?JSON.parse(i):{}}catch(i){return{}}},Ue=i=>{try{localStorage.setItem(Lt,JSON.stringify(i))}catch(w){console.warn("Failed to persist last seen timestamps:",w)}},je=(i,w)=>{const b=ke(),h=g(p({},b),{[i]:w||new Date().toISOString()});Ue(h),me(D=>g(p({},D),{[i]:!1}))},Ve=async()=>{if(j.isConfigured())try{const i=[Rt,$t].join(","),w=await fetch(`${X}?action=getSheetLastUpdated&ids=${encodeURIComponent(i)}`);if(!w.ok)throw new Error("Failed to fetch sheet updates");const b=await w.json();if(!b.success||!b.updated)return;const h=b.updated[Rt]||null,D=b.updated[$t]||null;ye({honeybook:h,voicemails:D});const k=ke(),I=h&&(!k.honeybook||new Date(h)>new Date(k.honeybook)),R=D&&(!k.voicemails||new Date(D)>new Date(k.voicemails));me({honeybook:!!I,voicemails:!!R})}catch(i){console.warn("Failed to check sheet updates:",i)}},Ce=async({useCache:i=!0}={})=>{var D;if(!ct){E(!1);return}E(!0);const w=i?qe(Mt):null,b=i?qe(jt):null,h=i?qe(rt):null;w&&ee(w),b&&W(b),h&&z(h);try{const k=await Promise.allSettled([j.fetchMetrics(),j.fetchSectionSnapshots(),j.fetchMajorTodos()]),[I,R,K]=k;I.status==="fulfilled"&&I.value&&(ee(I.value),Fe(Mt,I.value)),R.status==="fulfilled"&&R.value&&(W(R.value),Fe(jt,R.value)),K.status==="fulfilled"&&((D=K.value)!=null&&D.length)&&H(se=>{const ae={};se.forEach(A=>{ae[A.id]=A});const C=K.value.map(A=>{const f=ae[A.id];return f&&f.done!==A.done?f:A});return se.forEach(A=>{K.value.find(f=>f.id===A.id)||C.push(A)}),Fe(nt,C),C})}catch(k){console.error("Failed to load data:",k)}E(!1),setTimeout(async()=>{try{const k=await j.fetchQuarterlyUpdates();k.length&&(z(k),Fe(rt,k))}catch(k){console.error("Failed to load quarterly updates:",k)}},0)};Le(()=>{if(s!=="dashboard")return;Ve();const i=setInterval(Ve,3600*1e3);return()=>clearInterval(i)},[s]);const T=async i=>{const D=i,{focusArea:w,quarter:b}=D,h=Ft(D,["focusArea","quarter"]);await j.submitReviewUpdate(i),z(k=>{const I=k.findIndex(se=>se.focusArea===w&&se.quarter===b),R=I>=0?g(p({},k[I]),{payload:g(p({},k[I].payload||{}),{review:h})}):{focusArea:w,quarter:b,submittedDate:"",payload:{review:h}},K=I>=0?k.map((se,ae)=>ae===I?R:se):[...k,R];return Fe(rt,K),K})},Se=(i,w)=>{const h=F.filter(R=>R.focusArea===i&&R.quarter===w).sort((R,K)=>new Date(K.submittedDate||K.createdAt)-new Date(R.submittedDate||R.createdAt))[0],D=(h==null?void 0:h.payload)||{},k=D.year||String(new Date().getFullYear()),I=D.submittedDate||(h==null?void 0:h.submittedDate)||new Date().toISOString().slice(0,10);Y({focusArea:i,quarter:w,year:k,submittedDate:I,primaryFocus:D.primaryFocus||"",goals:D.goals&&D.goals.length?D.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:D.wins||"",challenges:D.challenges||{},supportNeeded:D.supportNeeded||"",supportTypes:D.supportTypes||{},decisionsNeeded:D.decisionsNeeded||"",nextQuarterFocus:D.nextQuarterFocus||"",nextPriorities:D.nextPriorities||["","",""],finalTallyOverview:D.finalTallyOverview||""}),o("quarterly"),window.scrollTo(0,0)},he=(i,w,b,h)=>{if(w!=="Q1")return;const D=h.year||String(new Date().getFullYear()),k=h.submittedDate||(b==null?void 0:b.submittedDate)||new Date().toISOString().slice(0,10);J({areaLabel:i,quarter:w}),d({focusArea:i,quarter:w,year:D,submittedDate:k,primaryFocus:h.primaryFocus||"",goals:h.goals&&h.goals.length?h.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:h.wins||"",challenges:h.challenges||{},supportNeeded:h.supportNeeded||"",supportTypes:h.supportTypes||{},decisionsNeeded:h.decisionsNeeded||"",nextQuarterFocus:h.nextQuarterFocus||"",nextPriorities:h.nextPriorities||["","",""],finalTallyOverview:h.finalTallyOverview||"",uploadedFiles:h.uploadedFiles||[]})},_e=async()=>{if(m){M(!0);try{await j.submitQuarterlyUpdate(g(p({},m),{primaryOnly:!0})),await Ce({useCache:!1}),J(null),d(null)}catch(i){console.error("Failed to save inline quarterly update:",i),alert("Failed to save. Please try again.")}M(!1)}},Ze=async()=>{await Ce({useCache:!1}),Y(null),o("dashboard")};return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full border border-gold/40 bg-white text-gold flex items-center justify-center shadow-sm"},React.createElement(Ht,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"Haley\u2019s Star Command"),React.createElement("div",{className:"text-xs text-steel"}))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"})),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>o("dashboard"),className:`tab-button text-sm min-w-[200px] ${s==="dashboard"?"active":""}`},"2026 Snapshot"),React.createElement("button",{onClick:()=>o("marketing"),className:`tab-button text-sm min-w-[200px] ${s==="marketing"?"active":""}`},"Marketing"),React.createElement("select",{value:lt.some(i=>i.key===s)?s:"",onChange:i=>{const w=i.target.value;w&&o(w)},className:"tab-button tab-select text-sm bg-white min-w-[220px]"},React.createElement("option",{value:""},"Operational Areas"),lt.map(i=>React.createElement("option",{key:i.key,value:i.key},i.label))))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},B&&React.createElement("div",{className:"max-w-4xl mx-auto mb-6 rounded-2xl border border-amber-200 bg-amber-50 px-5 py-4 text-sm text-amber-800"},B),r?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading Haley\u2019s Organized Chaos..."):React.createElement(React.Fragment,null,s==="dashboard"&&React.createElement(Fs,{metrics:N,majorTodos:_,onAddTodo:ne,onToggleTodo:Be,onDeleteTodo:Qe,onOpenHoneybook:()=>{je("honeybook",G.honeybook),o("honeybook"),window.scrollTo(0,0)},onOpenVoicemails:()=>{je("voicemails",G.voicemails),o("voicemails"),window.scrollTo(0,0)},unreadHoneybook:te.honeybook,unreadVoicemails:te.voicemails}),s==="marketing"&&React.createElement(Yt,null),s==="honeybook"&&React.createElement(Ds,{onBack:()=>o("dashboard")}),s==="voicemails"&&React.createElement(As,{onBack:()=>o("dashboard")}),["construction","grounds","interiors","docents","fund","events","marketing-ops","venue"].includes(s)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},Me[s].label),React.createElement("div",{className:"flex items-center gap-2"})),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const i=ce[Me[s].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(i==null?void 0:i.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},i!=null&&i.budget?Wt(i.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(i==null?void 0:i.volunteers)||"N/A")))})())),(()=>{const i=Me[s].label,w=[["Q1","Q2"],["Q3","Q4"]],b={Q1:"Jan 1 - Mar 31",Q2:"Apr 1 - Jun 30",Q3:"Jul 1 - Sep 30",Q4:"Oct 1 - Dec 31"},h={Q1:"Due: March 30th",Q2:"Due: June 30th",Q3:"Due: September 30th",Q4:"Due: December 31st"},D={capacity:"Capacity or volunteer limitations",budget:"Budget or funding constraints",scheduling:"Scheduling or timing issues",coordination:"Cross-area coordination gaps",external:"External factors",other:"Other"},k={staff:"Staff or volunteer help",marketing:"Marketing or communications",board:"Board guidance or decision",funding:"Funding or fundraising support",facilities:"Facilities or logistics",other:"Other"},I=C=>{switch(C){case"Q2":return"Q1";case"Q3":return"Q2";case"Q4":return"Q3";default:return null}},R=C=>F.filter(f=>f.focusArea===i&&f.quarter===C).sort((f,Q)=>new Date(Q.submittedDate||Q.createdAt)-new Date(f.submittedDate||f.createdAt))[0],K=C=>{const A=U=>String(U||"").trim().toLowerCase()==="none noted",f=R(C),Q=(f==null?void 0:f.payload)||{},y=I(C),$=y?R(y):null,fe=($==null?void 0:$.payload)||{},le=(fe.nextPriorities||[]).map(U=>({goal:U||"",status:"",summary:""})).filter(U=>String(U.goal||"").trim()&&!A(U.goal)),de=Q.goals&&Q.goals.length?Q.goals:le.length?le:[{},{},{}],ie=Q.primaryFocus||(A(fe.nextQuarterFocus)?"":fe.nextQuarterFocus),xe=(P==null?void 0:P.areaLabel)===i&&(P==null?void 0:P.quarter)===C,ue=Q.submittedDate||(f==null?void 0:f.submittedDate)||"",Ee=C==="Q1";return React.createElement("div",{key:`primary-${C}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xl font-display text-ink"},`${C} Primary Focus and Goals`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},b[C])),xe?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("textarea",{value:(m==null?void 0:m.primaryFocus)||"",onChange:U=>d(oe=>g(p({},oe),{primaryFocus:U.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((m==null?void 0:m.goals)||[]).map((U,oe)=>React.createElement("div",{key:oe},React.createElement("input",{type:"text",value:U.goal,onChange:V=>d(De=>g(p({},De),{goals:De.goals.map((Je,We)=>We===oe?g(p({},Je),{goal:V.target.value}):Je)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${oe+1}`}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{J(null),d(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:O},"Cancel"),React.createElement("button",{type:"button",onClick:_e,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:O},O?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("div",{className:"whitespace-pre-line"},ie||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"space-y-1"},de.map((U,oe)=>React.createElement("div",{key:oe,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Vt,{size:12})),React.createElement("div",null,React.createElement("span",null,U.goal||"-"))))))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,ue?Bt(ue):"00-00-0000"),Ee&&React.createElement("button",{type:"button",onClick:()=>he(i,C,f,Q),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},se=C=>{const A=R(C),f=(A==null?void 0:A.payload)||{},Q=f.submittedDate||(A==null?void 0:A.submittedDate)||"",y=f.challenges||{},$=f.supportTypes||{},fe=f.challengesChecked||"",le=f.supportTypesChecked||"",de=Object.keys(D).filter(V=>y[V]).map(V=>V==="other"&&y.otherText?`Other: ${y.otherText}`:D[V]),ie=Object.keys(k).filter(V=>$[V]).map(V=>V==="other"&&$.otherText?`Other: ${$.otherText}`:k[V]),xe=fe||(de.length?de.join(", "):""),ue=le||(ie.length?ie.join(", "):""),U=(f.nextPriorities||[]).filter(V=>String(V||"").trim()),oe=!!(f.wins||y.details||xe||f.supportNeeded||ue||f.nextQuarterFocus||U.length||f.decisionsNeeded);return React.createElement("div",{key:`overview-${C}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-lg font-display text-ink"},`${C} Quarterly Reflection`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},b[C])),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},h[C]))),!A||!oe?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No submission yet."):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",{className:"whitespace-pre-line"},f.wins||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",{className:"whitespace-pre-line"},y.details||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges (checked)"),React.createElement("div",null,xe||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",{className:"whitespace-pre-line"},f.supportNeeded||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support types"),React.createElement("div",null,ue||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next quarter focus area and goals"),React.createElement("div",{className:"whitespace-pre-line"},f.nextQuarterFocus||"None noted"),React.createElement("div",{className:"mt-2 space-y-1"},U.length?U.map((V,De)=>React.createElement("div",{key:De,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(Vt,{size:12})),React.createElement("div",null,V||"-"))):React.createElement("div",null,"None noted"))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Other notes"),React.createElement("div",{className:"whitespace-pre-line"},f.decisionsNeeded||"None noted"))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,Q?Bt(Q):"00-00-0000"),React.createElement("button",{type:"button",onClick:()=>Se(i,C),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},ae=C=>{var Q;const A=R(C),f=((Q=A==null?void 0:A.payload)==null?void 0:Q.review)||null;return React.createElement(Es,{key:`review-${C}`,areaLabel:i,quarter:C,review:f,onSave:T})};return React.createElement("div",{className:"mt-6 space-y-6"},w.map(C=>React.createElement("div",{key:C.join("-"),className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(A=>K(A))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(A=>se(A))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},C.map(A=>ae(A))))))})()))))},js=ReactDOM.createRoot(document.getElementById("root"));js.render(React.createElement(Ms,null));})();
