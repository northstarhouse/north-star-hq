(()=>{var Dt=Object.defineProperty,Ft=Object.defineProperties;var Tt=Object.getOwnPropertyDescriptors;var he=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable;var He=(e,t,r)=>t in e?Dt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T=(e,t)=>{for(var r in t||(t={}))Ye.call(t,r)&&He(e,r,t[r]);if(he)for(var r of he(t))qe.call(t,r)&&He(e,r,t[r]);return e},O=(e,t)=>Ft(e,Tt(t));var Ke=(e,t)=>{var r={};for(var i in e)Ye.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&he)for(var i of he(e))t.indexOf(i)<0&&qe.call(e,i)&&(r[i]=e[i]);return r};const{useState:v,useEffect:fe,useMemo:ye}=React,rt="nsh-strategy-cache-v1",We="nsh-strategy-metrics-cache-v1",Ze="nsh-strategy-sections-cache-v1",Te="nsh-strategy-quarterly-cache-v1",Ie="nsh-strategy-vision-cache-v1",be="nsh-strategy-focus-goals-cache-v1",Xe="nsh-strategy-major-todos-v1",It=300*1e3,Pe=()=>{try{const e=localStorage.getItem(rt);if(!e)return null;const t=JSON.parse(e);return!t||!Array.isArray(t.objects)?null:t}catch(e){return console.warn("Failed to read cache:",e),null}},oe=e=>{try{localStorage.setItem(rt,JSON.stringify({objects:e,updatedAt:Date.now()}))}catch(t){console.warn("Failed to write cache:",t)}},je=!0,R="https://script.google.com/macros/s/AKfycbwceVcGLuTCKp_GjlzYERa1OyhUcQQw6jnKhG2cmn4_AgSZjPEE8CWaO698S-lEtlk1/exec",et=R,Ot=["Fund Development","House and Grounds Development","Programs and Events","Organizational Development"],Oe=[{key:"construction",label:"Construction",sheet:"Construction"},{key:"grounds",label:"Grounds",sheet:"Grounds"},{key:"interiors",label:"Interiors",sheet:"Interiors"},{key:"docents",label:"Docents",sheet:"Docents"},{key:"fund",label:"Fundraising",sheet:"Fundraising"},{key:"events",label:"Events",sheet:"Events"},{key:"marketing",label:"Marketing",sheet:"Marketing"},{key:"venue",label:"Venue",sheet:"Venue"}],ee=["Not started","On track","At risk","Behind","Complete"],Et=["Pending","Reviewed","Needs info"],ot=Array.from({length:11},(e,t)=>t*10),Re=[{id:"1",title:"Launch community listening series",focusArea:"Programs and Events",description:"Host quarterly listening sessions to guide program priorities and gather feedback.",owner:"Community Outreach Lead",coChampions:"Program Director, Board Liaison",status:"On track",progress:60,targetDate:"2026-03-31",successMetrics:"4 sessions held, 120 participants, report delivered to board",threeYearVision:"We will have a clear set of documented programs and services that reinforce the House's role as a cultural historical gathering center and are well-organized, financially sustainable, and have clearly communicated teams of staff/volunteers that run each of the programs/services.",annualGoals:"Host 4 sessions, publish summary report, build annual outreach playbook.",notes:"Align session topics with strategic planning themes.",lastUpdateAt:"2026-01-12T18:30:00.000Z",updates:[{id:"up-1",date:"2026-01-12T18:30:00.000Z",author:"Community Outreach Lead",summary:"Secured first three locations",details:"Libraries and partner agencies confirmed for January and February sessions.",blockers:"Waiting on translation support budget confirmation.",nextSteps:"Finalize outreach materials and RSVP form.",progress:60,links:"https://example.com/agenda",reviewStatus:"Pending",reviewNotes:""}],createdAt:"2025-11-15T12:00:00.000Z",updatedAt:"2026-01-12T18:30:00.000Z"},{id:"2",title:"Build leadership succession pipeline",focusArea:"Organizational Development",description:"Create leadership development plan and identify emerging leaders for key roles.",owner:"Executive Director",coChampions:"Board Chair, HR Committee",status:"At risk",progress:35,targetDate:"2026-09-30",successMetrics:"Pipeline matrix completed, two leaders in shadow roles",threeYearVision:"A smooth-running organization that ensures the success of the Conservancy.",annualGoals:"Finalize competencies, identify 2 shadow roles, launch mentoring cadence.",notes:"Need agreement on competencies and mentorship structure.",lastUpdateAt:"2025-12-18T17:05:00.000Z",updates:[{id:"up-2",date:"2025-12-18T17:05:00.000Z",author:"Executive Director",summary:"Drafted role competency framework",details:"Outlined core competencies for leadership roles; awaiting committee review.",blockers:"Committee schedule conflict in January.",nextSteps:"Hold workshop to finalize framework.",progress:35,links:"",reviewStatus:"Needs info",reviewNotes:"Please add timeline impact for delayed workshop."}],createdAt:"2025-10-01T09:00:00.000Z",updatedAt:"2025-12-18T17:05:00.000Z"},{id:"3",title:"Complete house restoration and grounds plan",focusArea:"House and Grounds Development",description:"Finish the first floor renovation, restore the second floor with a volunteer crew, install fire suppression, and clarify the grounds plan.",owner:"Facilities Lead",coChampions:"Volunteer Crew Lead, Board Liaison",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"First floor renovated, second floor restored, fire suppression installed, grounds plan approved.",threeYearVision:"Complete the first floor renovation. The 2nd floor of the house will be restored by a clearly-led and well-organized volunteer crew. A fire suppression system will be installed. Plans for the rest of the grounds will have been clarified.",annualGoals:"Confirm scope, recruit volunteer crew, secure fire suppression bids, draft grounds plan options.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"},{id:"4",title:"Staff and organize fund development plan",focusArea:"Fund Development",description:"Build staffing, systems, and campaign execution to accelerate fundraising.",owner:"Development Director",coChampions:"Board Treasurer, Capital Campaign Chair",status:"Not started",progress:0,targetDate:"2028-12-31",successMetrics:"Fund development staffing in place, $1M raised toward capital campaign.",threeYearVision:"Over the next three years we will have successfully staffed and organized our fund development plans and raised $1M of the $2M capital campaign.",annualGoals:"Hire development lead, finalize campaign plan, raise initial $250k.",notes:"",lastUpdateAt:"2026-01-15T12:00:00.000Z",updates:[],createdAt:"2026-01-01T12:00:00.000Z",updatedAt:"2026-01-15T12:00:00.000Z"}],Qt=[{id:"fg-1",focusArea:"Fund Development",goalTopic:"Annual goal",annualGoals:"Document the Conservancy\u2019s fund development plan.",annualGoalsItems:[],goalDetails:"",goalLead:"",futureGoals:"",startDate:"",dueDate:"",goalChampions:"Jeff, Haley",goalTeamMembers:"",progress:"Not Started",category:""}],h={isConfigured:()=>je&&R&&R.length>0,postJson:async(e,t)=>{const r=await fetch(e,{method:"POST",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify(t)});if(!r.ok)throw new Error("Request failed");return r.json()},fetchAll:async()=>{if(!je){const e=Pe();return(e==null?void 0:e.objects)||[]}if(!h.isConfigured())return console.log("Google Sheets not configured, using sample data"),Re;try{const e=await fetch(`${R}?action=getAll`);if(!e.ok)throw new Error("Failed to fetch data");return(await e.json()).objects||[]}catch(e){return console.error("Error fetching from Google Sheets:",e),Re}},create:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured, saving locally only"),O(T({},e),{id:Date.now().toString()});try{return(await h.postJson(R,{action:"create",object:e})).result||O(T({},e),{id:Date.now().toString()})}catch(t){return console.error("Error creating in Google Sheets:",t),O(T({},e),{id:Date.now().toString()})}},update:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured, saving locally only"),e;try{return await h.postJson(R,{action:"update",object:e}),e}catch(t){return console.error("Error updating from Google Sheets:",t),e}},delete:async e=>{if(!h.isConfigured())return console.log("Google Sheets not configured"),!0;try{return await h.postJson(R,{action:"delete",id:e}),!0}catch(t){return console.error("Error deleting from Google Sheets:",t),!1}},uploadFile:async({filename:e,mimeType:t,data:r})=>{if(!et)throw new Error("Drive upload not configured");const i={action:"uploadImage",filename:e,mimeType:t,data:r},u=await h.postJson(et,i);if(!u.success)throw new Error(u.error||"Upload failed");return u.result},fetchMetrics:async()=>{if(!h.isConfigured())return null;try{const e=await fetch(`${R}?action=getMetrics`);if(!e.ok)throw new Error("Failed to fetch metrics");return(await e.json()).metrics||null}catch(e){return console.error("Error fetching metrics:",e),null}},submitQuarterlyUpdate:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(R,{action:"submitQuarterlyUpdate",form:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},submitReviewUpdate:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(R,{action:"submitReviewUpdate",review:e});if(!t.success)throw new Error(t.error||"Submission failed");return t.result},fetchVisionStatements:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${R}?action=getVisionStatements`);if(!e.ok)throw new Error("Failed to fetch vision statements");return(await e.json()).vision||[]}catch(e){return console.error("Error fetching vision statements:",e),[]}},updateVisionStatement:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(R,{action:"updateVisionStatement",vision:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},fetchFocusAreaGoals:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${R}?action=getFocusAreaGoals`);if(!e.ok)throw new Error("Failed to fetch focus area goals");return(await e.json()).goals||[]}catch(e){return console.error("Error fetching focus area goals:",e),[]}},updateFocusAreaGoal:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(R,{action:"updateFocusAreaGoal",goal:e});if(!t.success)throw new Error(t.error||"Save failed");return t.result},deleteFocusAreaGoal:async e=>{if(!h.isConfigured())throw new Error("Google Sheets not configured");const t=await h.postJson(R,{action:"deleteFocusAreaGoal",id:e});if(!t.success)throw new Error(t.error||"Delete failed");return t.result},fetchQuarterlyUpdates:async()=>{if(!h.isConfigured())return[];try{const e=await fetch(`${R}?action=getQuarterlyUpdates`);if(!e.ok)throw new Error("Failed to fetch quarterly updates");return(await e.json()).updates||[]}catch(e){return console.error("Error fetching quarterly updates:",e),[]}},fetchSectionSnapshots:async()=>{if(!h.isConfigured())return null;try{const e=await fetch(`${R}?action=getSectionSnapshots`);if(!e.ok)throw new Error("Failed to fetch section snapshots");return(await e.json()).sections||null}catch(e){return console.error("Error fetching section snapshots:",e),null}}},X=e=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return console.warn("Failed to read cache:",t),null}},z=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.warn("Failed to write cache:",r)}},Me=()=>`${Date.now()}-${Math.random().toString(16).slice(2,6)}`,ne=e=>{if(!e)return"N/A";try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}},tt=e=>{if(!e)return"";const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const r=String(t.getMonth()+1).padStart(2,"0"),i=String(t.getDate()).padStart(2,"0"),u=String(t.getFullYear());return`${r}-${i}-${u}`};const Ee=e=>e==null?"N/A":new Intl.NumberFormat("en-US").format(Number(e)||0),nt=e=>{if(e==null)return"N/A";const t=Number(e)||0;return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumFractionDigits:0}).format(t)},we=e=>{if(!e)return"";const t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString().slice(0,10)},Pt=(e,t=3)=>{const r=[];for(String(e||"").split(`
`).map(u=>u.trim()).filter(Boolean).forEach(u=>{const l=u.split("|").map(f=>f.trim()),[d="",w="",o=""]=l;r.push({action:d,owner:w,deadline:o})});r.length<t;)r.push({action:"",owner:"",deadline:""});return r.slice(0,t)},st=e=>e.map(t=>[t.action,t.owner,t.deadline].map(r=>r.trim()).join(" | ")).filter(t=>t.replace(/\|/g,"").trim()!=="").join(`
`),q=e=>O(T({},e),{focusArea:e.focusArea||e.pillar||"",progress:Number(e.progress)||0,updates:Array.isArray(e.updates)?e.updates:[]}),jt=e=>e.slice().sort((t,r)=>new Date(r.date)-new Date(t.date)),Rt=e=>{switch(e){case"On track":return"bg-emerald-100 text-emerald-700 border-emerald-200";case"At risk":return"bg-amber-100 text-amber-700 border-amber-200";case"Behind":return"bg-rose-100 text-rose-700 border-rose-200";case"Complete":return"bg-gold text-white border-gold";default:return"bg-stone-100 text-stone-600 border-stone-200"}},Mt=e=>{switch(e){case"Reviewed":return"text-emerald-700";case"Needs info":return"text-rose-700";default:return"text-amber-700"}},lt=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 2l2.5 6 6 2.5-6 2.5-2.5 6-2.5-6L3.5 10.5 9.5 8z"}));const le=({size:e=22})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},React.createElement("path",{d:"M12 2.8l2.7 5.7 6.3.9-4.5 4.4 1.1 6.2L12 17.8 6.4 20l1.1-6.2-4.5-4.4 6.3-.9L12 2.8z"})),Lt=({size:e=24})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M12 5v14"}),React.createElement("path",{d:"M5 12h14"}));const dt=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M19 12H5"}),React.createElement("path",{d:"M11 5l-7 7 7 7"}));const Gt=({size:e=20})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M20 6L9 17l-5-5"})),at=({size:e=16})=>React.createElement("svg",{width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round"},React.createElement("path",{d:"M3 6h18"}),React.createElement("path",{d:"M8 6V4a2 2 0 012-2h4a2 2 0 012 2v2"}),React.createElement("path",{d:"M19 6l-1 14a2 2 0 01-2 2H8a2 2 0 01-2-2L5 6"})),Ut=({value:e})=>React.createElement("div",{className:"w-full bg-stone-100 rounded-full h-3 overflow-hidden"},React.createElement("div",{className:"h-full bg-clay transition-all",style:{width:`${Math.min(Math.max(e,0),100)}%`}})),Vt=({status:e})=>React.createElement("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold border ${Rt(e)}`},e);const $t=({update:e,onReviewSave:t})=>{const[r,i]=v(e.reviewStatus||"Pending"),[u,l]=v(e.reviewNotes||"");return React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},ne(e.date)),React.createElement("h4",{className:"font-display text-lg text-ink mt-1"},e.summary||"Update"),React.createElement("p",{className:"text-sm text-stone-600"},"Submitted by ",e.author||"Team member")),React.createElement("div",{className:`text-xs font-semibold ${Mt(r)}`},r)),e.details&&React.createElement("p",{className:"text-sm text-stone-700 mt-3 whitespace-pre-wrap"},e.details),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 text-xs text-stone-600 mt-4"},React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Blockers"),React.createElement("div",null,e.blockers||"None noted")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Next steps"),React.createElement("div",null,e.nextSteps||"No next steps yet")),React.createElement("div",null,React.createElement("div",{className:"uppercase tracking-wide text-steel"},"Progress"),React.createElement("div",null,typeof e.progress=="number"?`${Math.round(e.progress)}%`:"Not shared"))),e.links&&React.createElement("div",{className:"mt-3 text-xs text-gold"},React.createElement("a",{href:e.links,target:"_blank",rel:"noreferrer",className:"underline"},"View supporting link")),React.createElement("div",{className:"mt-4 pt-4 border-t border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champion review"),React.createElement("div",{className:"flex flex-col md:flex-row md:items-center gap-3 mt-2"},React.createElement("select",{value:r,onChange:d=>i(d.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg bg-white text-sm"},Et.map(d=>React.createElement("option",{key:d,value:d},d))),React.createElement("input",{type:"text",value:u,onChange:d=>l(d.target.value),placeholder:"Review notes",className:"flex-1 px-3 py-2 border border-stone-200 rounded-lg text-sm"}),React.createElement("button",{onClick:()=>t(e.id,r,u),className:"px-4 py-2 bg-gold text-white rounded-lg text-sm"},"Save review"))))},Bt=({initiative:e,onSubmit:t})=>{const[r,i]=v(""),[u,l]=v(""),[d,w]=v(""),[o,f]=v(""),[g,D]=v(""),[E,I]=v(e.progress||0),[p,L]=v("");return React.createElement("form",{onSubmit:k=>{k.preventDefault();const a={id:Me(),date:new Date().toISOString(),author:r,summary:u,details:d,blockers:o,nextSteps:g,progress:Number(E)||0,links:p,reviewStatus:"Pending",reviewNotes:""};t(a),i(""),l(""),w(""),f(""),D(""),I(e.progress||0),L("")},className:"bg-white rounded-2xl border border-stone-100 p-5 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h3",{className:"font-display text-xl"},"Submit progress update"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board members")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Your name"),React.createElement("input",{type:"text",value:r,onChange:k=>i(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Name or team",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Update headline"),React.createElement("input",{type:"text",value:u,onChange:k=>l(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Short summary",required:!0})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Details"),React.createElement("textarea",{value:d,onChange:k=>w(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]",placeholder:"What changed? What decisions were made?"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Blockers"),React.createElement("input",{type:"text",value:o,onChange:k=>f(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Risks or constraints"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next steps"),React.createElement("input",{type:"text",value:g,onChange:k=>D(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Immediate actions"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Updated progress"),React.createElement("select",{value:E,onChange:k=>I(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},ot.map(k=>React.createElement("option",{key:k,value:k},k,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Supporting link"),React.createElement("input",{type:"url",value:p,onChange:k=>L(k.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"https://"}))),React.createElement("div",{className:"mt-4 flex items-center justify-end"},React.createElement("button",{type:"submit",className:"px-5 py-2 bg-clay text-white rounded-lg"},"Submit update")))},_t=({initiative:e,onSave:t,onCancel:r,isSaving:i})=>{const[u,l]=v(()=>({title:(e==null?void 0:e.title)||"",focusArea:(e==null?void 0:e.focusArea)||"",description:(e==null?void 0:e.description)||"",owner:(e==null?void 0:e.owner)||"",coChampions:(e==null?void 0:e.coChampions)||"",status:(e==null?void 0:e.status)||ee[0],progress:(e==null?void 0:e.progress)||0,targetDate:(e==null?void 0:e.targetDate)||"",successMetrics:(e==null?void 0:e.successMetrics)||"",threeYearVision:(e==null?void 0:e.threeYearVision)||"",annualGoals:(e==null?void 0:e.annualGoals)||"",notes:(e==null?void 0:e.notes)||""})),d=(o,f)=>{l(g=>O(T({},g),{[o]:f}))};return React.createElement("form",{onSubmit:o=>{o.preventDefault();const f=O(T(T({},e),u),{progress:Number(u.progress)||0,updates:(e==null?void 0:e.updates)||[]});t(f)},className:"bg-white rounded-2xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("h2",{className:"font-display text-2xl"},e?"Edit initiative":"Add initiative"),React.createElement("span",{className:"text-xs text-steel"},"Visible to board leaders")),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-5"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Initiative title"),React.createElement("input",{type:"text",value:u.title,onChange:o=>d("title",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Focus area"),React.createElement("select",{value:u.focusArea,onChange:o=>d("focusArea",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},React.createElement("option",{value:""},"Select focus area"),Ot.map(o=>React.createElement("option",{key:o,value:o},o)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:u.owner,onChange:o=>d("owner",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Lead or team"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Description"),React.createElement("textarea",{value:u.description,onChange:o=>d("description",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[120px]"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("input",{type:"text",value:u.coChampions,onChange:o=>d("coChampions",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"Names or roles"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Status"),React.createElement("select",{value:u.status,onChange:o=>d("status",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},ee.map(o=>React.createElement("option",{key:o,value:o},o)))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:u.progress,onChange:o=>d("progress",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},ot.map(o=>React.createElement("option",{key:o,value:o},o,"%")))),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("input",{type:"date",value:u.targetDate,onChange:o=>d("targetDate",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("input",{type:"text",value:u.successMetrics,onChange:o=>d("successMetrics",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",placeholder:"What does success look like?"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("textarea",{value:u.threeYearVision,onChange:o=>d("threeYearVision",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Describe what success looks like in three years."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("textarea",{value:u.annualGoals,onChange:o=>d("annualGoals",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"List the annual goals that move this forward."})),React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("textarea",{value:u.notes,onChange:o=>d("notes",o.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]"}))),React.createElement("div",{className:"mt-6 flex items-center justify-end gap-3"},React.createElement("button",{type:"button",onClick:r,className:"px-4 py-2 border border-stone-200 rounded-lg"},"Cancel"),React.createElement("button",{type:"submit",disabled:i,className:"px-5 py-2 bg-gold text-white rounded-lg"},i?"Saving...":"Save initiative")))};const zt=({areaLabel:e,quarter:t,review:r,onSave:i})=>{const u=a=>({statusAfterReview:(a==null?void 0:a.statusAfterReview)||"",actionsRows:Pt(a==null?void 0:a.actionsAssigned),crossAreaImpacts:(a==null?void 0:a.crossAreaImpacts)||"",areasImpacted:(a==null?void 0:a.areasImpacted)||"",coordinationNeeded:(a==null?void 0:a.coordinationNeeded)||"",priorityConfirmation:(a==null?void 0:a.priorityConfirmation)||"",escalationFlag:(a==null?void 0:a.escalationFlag)||"",reviewCompletedOn:we(a==null?void 0:a.reviewCompletedOn),nextCheckInDate:we(a==null?void 0:a.nextCheckInDate)}),[l,d]=v(()=>u(r)),[w,o]=v(!1),[f,g]=v(!1);fe(()=>{d(u(r))},[r,e,t]),fe(()=>{g(!1)},[e,t]);const D=(a,A)=>{d(Q=>O(T({},Q),{[a]:A}))},E=(a,A,Q)=>{d($=>{const W=$.actionsRows.map((m,te)=>te===a?O(T({},m),{[A]:Q}):m);return O(T({},$),{actionsRows:W})})},I=async()=>{o(!0);const a=l.crossAreaImpacts==="Affects another area",A={focusArea:e,quarter:t,statusAfterReview:l.statusAfterReview,actionsAssigned:st(l.actionsRows),crossAreaImpacts:l.crossAreaImpacts,areasImpacted:a?l.areasImpacted:"",coordinationNeeded:a?l.coordinationNeeded:"",priorityConfirmation:l.priorityConfirmation,escalationFlag:l.escalationFlag,reviewCompletedOn:l.reviewCompletedOn,nextCheckInDate:l.nextCheckInDate};try{await i(A)}catch(Q){console.error("Failed to save review:",Q),alert("Failed to save review. Please try again.")}o(!1)},p=["On track","Minor adjustments needed","Off track - intervention required"],L=["None","Affects another area"],H=["Approved","Adjusted","Replaced"],k=["No escalation needed","Requires board attention","Requires budget review","Requires policy clarification"];if(!f){const A=[{label:"Status After Review",value:l.statusAfterReview},{label:"Actions Assigned",value:st(l.actionsRows)},{label:"Cross-Area Impacts",value:l.crossAreaImpacts},{label:"Area(s) impacted",value:l.areasImpacted},{label:"Coordination needed",value:l.coordinationNeeded},{label:"Priority Confirmation (Next Quarter)",value:l.priorityConfirmation},{label:"Escalation Flag",value:l.escalationFlag},{label:"Review completed on",value:l.reviewCompletedOn},{label:"Next check-in date",value:l.nextCheckInDate}].filter(Q=>Q.value);return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>g(!0),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Edit review")),A.length===0?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No review submitted yet."):React.createElement("div",{className:"mt-4 space-y-2 text-sm text-stone-700"},A.map(Q=>React.createElement("div",{key:Q.label},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},Q.label),React.createElement("div",{className:"whitespace-pre-wrap"},Q.value)))))}return React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-5 card-shadow quarter-card"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},t," review"),React.createElement("button",{type:"button",onClick:()=>g(!1),className:"px-3 py-1.5 border border-stone-200 rounded-lg text-xs text-ink"},"Close")),React.createElement("div",{className:"mt-3 space-y-5 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Status After Review"),React.createElement("div",{className:"mt-2 space-y-2"},p.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-status`,value:a,checked:l.statusAfterReview===a,onChange:A=>D("statusAfterReview",A.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Actions Assigned"),React.createElement("div",{className:"mt-2 grid grid-cols-3 gap-2 text-xs uppercase tracking-wide text-steel"},React.createElement("span",null,"Action"),React.createElement("span",null,"Owner"),React.createElement("span",null,"Deadline")),React.createElement("div",{className:"mt-2 space-y-2"},l.actionsRows.map((a,A)=>React.createElement("div",{key:A,className:"grid grid-cols-1 md:grid-cols-3 gap-2"},React.createElement("input",{type:"text",value:a.action,onChange:Q=>E(A,"action",Q.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.owner,onChange:Q=>E(A,"owner",Q.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}),React.createElement("input",{type:"text",value:a.deadline,onChange:Q=>E(A,"deadline",Q.target.value),className:"px-3 py-2 border border-stone-200 rounded-lg"}))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Cross-Area Impacts"),React.createElement("div",{className:"mt-2 space-y-2"},L.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-impact`,value:a,checked:l.crossAreaImpacts===a,onChange:A=>D("crossAreaImpacts",A.target.value),className:"accent-clay"}),React.createElement("span",null,a)))),l.crossAreaImpacts==="Affects another area"&&React.createElement("div",{className:"mt-3 grid grid-cols-1 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Area(s) impacted"),React.createElement("input",{type:"text",value:l.areasImpacted,onChange:a=>D("areasImpacted",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Coordination needed"),React.createElement("textarea",{value:l.coordinationNeeded,onChange:a=>D("coordinationNeeded",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg min-h-[90px]"})))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Priority Confirmation (Next Quarter)"),React.createElement("div",{className:"mt-2 space-y-2"},H.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-priority`,value:a,checked:l.priorityConfirmation===a,onChange:A=>D("priorityConfirmation",A.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Escalation Flag"),React.createElement("div",{className:"mt-2 space-y-2"},k.map(a=>React.createElement("label",{key:a,className:"flex items-center gap-2"},React.createElement("input",{type:"radio",name:`${e}-${t}-escalation`,value:a,checked:l.escalationFlag===a,onChange:A=>D("escalationFlag",A.target.value),className:"accent-clay"}),React.createElement("span",null,a))))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Review completed on"),React.createElement("input",{type:"date",value:l.reviewCompletedOn,onChange:a=>D("reviewCompletedOn",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Next check-in date"),React.createElement("input",{type:"date",value:l.nextCheckInDate,onChange:a=>D("nextCheckInDate",a.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})))),React.createElement("div",{className:"mt-5 flex items-center justify-end"},React.createElement("button",{type:"button",onClick:I,disabled:w,className:"px-4 py-2 bg-clay text-white rounded-lg text-sm"},w?"Saving...":"Save review")))},Jt=({focusArea:e,vision:t,onSave:r,isSaving:i,hideLabel:u=!1,containerClass:l="",forceEditing:d,onEditToggle:w,hideEditButton:o=!1})=>{const[f,g]=v(!1),[D,E]=v(t||""),I=typeof d=="boolean"?d:f;fe(()=>{I||E(t||"")},[t,I]);const p=()=>{r(e,D),typeof d=="boolean"?w==null||w(!1):g(!1)};return React.createElement("div",{className:`bg-white rounded-2xl p-5 border border-stone-100 card-shadow ${l}`.trim()},React.createElement("div",{className:"flex items-start justify-between gap-3"},!u&&React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e),React.createElement("div",{className:"flex items-center gap-2 text-xs"},I?React.createElement(React.Fragment,null,React.createElement("button",{type:"button",onClick:()=>{typeof d=="boolean"?w==null||w(!1):g(!1),E(t||"")},className:"px-2 py-1 border border-stone-200 rounded-lg",disabled:i},"Cancel"),React.createElement("button",{type:"button",onClick:p,className:"px-2 py-1 bg-gold text-white rounded-lg",disabled:i},i?"Saving...":"Save")):!o&&React.createElement("button",{type:"button",onClick:()=>{typeof d=="boolean"?w==null||w(!0):g(!0)},className:"px-2 py-1 border border-stone-200 rounded-lg"},"Edit"))),I?React.createElement("textarea",{value:D,onChange:L=>E(L.target.value),className:"w-full mt-3 px-3 py-2 border border-stone-200 rounded-lg text-sm min-h-[120px]",placeholder:"Describe what success looks like in three years."}):React.createElement("div",{className:"text-sm text-stone-700 mt-2 space-y-1"},t?String(t).split(`
`).map(L=>L.trim()).filter(Boolean).map((L,H)=>React.createElement("div",{key:`${e}-vision-${H}`,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("span",{className:"whitespace-pre-wrap"},L))):React.createElement("span",null,"Add a three-year vision for this focus area.")))},Qe=({focusArea:e,initialGoal:t,presetCategory:r,onSave:i,onCancel:u,isSaving:l})=>{const[d,w]=v(()=>({id:(t==null?void 0:t.id)||"",focusArea:e,goalTopic:"Annual goal",annualGoals:(t==null?void 0:t.annualGoals)||"",startDate:(t==null?void 0:t.startDate)||"",dueDate:(t==null?void 0:t.dueDate)||"",progress:(t==null?void 0:t.progress)||ee[0],category:(t==null?void 0:t.category)||r||"Annual goals",goalDetails:(t==null?void 0:t.goalDetails)||"",goalLead:(t==null?void 0:t.goalLead)||"",futureGoals:(t==null?void 0:t.futureGoals)||""})),o=(g,D)=>{w(E=>O(T({},E),{[g]:D}))};return React.createElement("form",{onSubmit:g=>{g.preventDefault(),i(O(T({},d),{goalTopic:"Annual goal",annualGoalsItems:[]}))},className:"mt-4 bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3"},React.createElement("div",{className:"md:col-span-2"},React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goal"),React.createElement("input",{type:"text",value:d.annualGoals,onChange:g=>o("annualGoals",g.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg",required:!0})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("input",{type:"text",value:d.goalLead,onChange:g=>o("goalLead",g.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",{className:"md:col-span-2"},React.createElement("textarea",{value:d.goalDetails,onChange:g=>o("goalDetails",g.target.value),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[60px]",placeholder:"Add details, notes, or key steps."})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Start date"),React.createElement("input",{type:"date",value:we(d.startDate),onChange:g=>o("startDate",g.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Due date"),React.createElement("input",{type:"date",value:we(d.dueDate),onChange:g=>o("dueDate",g.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg"})),React.createElement("div",null,React.createElement("label",{className:"text-xs uppercase tracking-wide text-steel"},"Progress"),React.createElement("select",{value:d.progress,onChange:g=>o("progress",g.target.value),className:"w-full mt-1 px-3 py-2 border border-stone-200 rounded-lg bg-white"},ee.map(g=>React.createElement("option",{key:g,value:g},g))))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:u,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm",disabled:l},"Cancel"),React.createElement("button",{type:"submit",className:"px-4 py-2 bg-gold text-white rounded-lg text-sm",disabled:l},l?"Saving...":"Save goal")))},Ht=({focusArea:e,goals:t,vision:r,onSaveVision:i,isSavingVision:u,onSaveGoal:l,onDeleteGoal:d,isSaving:w,hideTitle:o})=>{const[f,g]=v(null),[D,E]=v(!1),[I,p]=v("Annual goals"),[L,H]=v(!1),k=ye(()=>t.filter(m=>!m.category||m.category==="Annual goals"||m.category==="Goals"),[t]),a=ye(()=>t.filter(m=>m.category==="Future Goals"),[t]),A=m=>{E(!1),g(m),p(m.category||"Annual goals")},Q=m=>{g(null),E(!0),p(m)},$=m=>{l(m),g(null),E(!1)},W=m=>{const te=m==="annual"?k:a;if(te.length){A(te[0]);return}Q(m==="annual"?"Annual goals":"Future Goals")};return React.createElement("div",{className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow"},!o&&React.createElement("div",{className:"font-display text-xl text-ink"},e),React.createElement("div",{className:"mt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Annual goals")),k.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No annual goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},k.map(m=>React.createElement("div",{key:m.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},m.annualGoals||"Untitled goal")),m.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},m.goalDetails))),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",{className:"space-x-2"},m.startDate?React.createElement("span",null,`Start: ${ne(m.startDate)}`):null,m.dueDate?React.createElement("span",null,`Due: ${ne(m.dueDate)}`):null),React.createElement("div",{className:"text-stone-600"},m.progress||ee[0])),(f==null?void 0:f.id)===m.id&&React.createElement(Qe,{focusArea:e,initialGoal:f,presetCategory:I,onSave:$,onCancel:()=>{E(!1),g(null)},isSaving:w})))),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>W("annual"),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Future goals")),a.length===0?React.createElement("div",{className:"mt-3 text-sm text-stone-600"},"No future goals yet."):React.createElement("div",{className:"mt-3 space-y-3"},a.map(m=>React.createElement("div",{key:m.id,className:"border border-stone-100 rounded-xl p-3 bg-white"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",{className:"font-semibold text-ink"},m.annualGoals||"Untitled goal")),m.goalDetails&&React.createElement("div",{className:"text-xs text-stone-500 mt-2 whitespace-pre-wrap"},m.goalDetails))),React.createElement("div",{className:"mt-3 flex items-center justify-between text-xs text-stone-500"},React.createElement("div",{className:"space-x-2"},m.startDate?React.createElement("span",null,`Start: ${ne(m.startDate)}`):null,m.dueDate?React.createElement("span",null,`Due: ${ne(m.dueDate)}`):null),React.createElement("div",{className:"text-stone-600"},m.progress||ee[0])),(f==null?void 0:f.id)===m.id&&React.createElement(Qe,{focusArea:e,initialGoal:f,presetCategory:I,onSave:$,onCancel:()=>{E(!1),g(null)},isSaving:w})))),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>W("future"),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-6 border-t border-stone-200 pt-4"},React.createElement("div",{className:"flex items-center justify-between text-xs uppercase tracking-wide text-steel font-semibold"},React.createElement("span",null,"Three-year vision")),React.createElement("div",{className:"mt-3"},React.createElement(Jt,{focusArea:e,vision:r||"",onSave:i,isSaving:u,hideLabel:!0,hideEditButton:!0,forceEditing:L,onEditToggle:H,containerClass:"bg-stone-50 border border-stone-100 rounded-xl p-4 shadow-none"})),React.createElement("div",{className:"mt-3 flex items-center justify-start"},React.createElement("button",{type:"button",onClick:()=>H(!0),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit"))),React.createElement("div",{className:"mt-4 flex items-center justify-end gap-2"},React.createElement("select",{value:I,onChange:m=>p(m.target.value),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs bg-white"},React.createElement("option",{value:"Annual goals"},"Annual goals"),React.createElement("option",{value:"Future Goals"},"Future goals")),React.createElement("button",{type:"button",onClick:()=>Q(I),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Add goal")),D&&!f&&React.createElement(Qe,{focusArea:e,initialGoal:f,presetCategory:I,onSave:$,onCancel:()=>{E(!1),g(null)},isSaving:w}))};const Yt=({initiatives:e,metrics:t,majorTodos:r,onAddTodo:i,onToggleTodo:u,onDeleteTodo:l})=>{const[d,w]=v(""),o=()=>{const p=d.trim();p&&(i(p),w(""))},f=p=>{p.key==="Enter"&&o()},g=r.filter(p=>!p.done),D=r.filter(p=>p.done),E={Volunteers:"https://northstarhouse.github.io/Volunteer-Database/","Donation total":"https://northstarhouse.github.io/donation-database/",Sponsors:"https://northstarhouse.github.io/donation-database/"},I={"Donation total":"Goal: $75,000","Events booked":"Goal: 45",Sponsors:"Goal: 15"};return React.createElement("div",{className:"max-w-6xl mx-auto fade-up"},React.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-[1.2fr_0.8fr] gap-6"},React.createElement("div",{className:"glass rounded-3xl p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-center gap-3 text-gold"},React.createElement(lt,{size:28}),React.createElement("span",{className:"text-xs uppercase tracking-wide"},"The Big Picture")),React.createElement("h2",{className:"font-display text-xl md:text-2xl text-ink mt-4"},"Major Focus To-Do List"),React.createElement("p",{className:"text-stone-500 text-xs mt-1 mb-4"},"The items that matter most right now."),React.createElement("div",{className:"flex gap-2 mb-4"},React.createElement("input",{type:"text",value:d,onChange:p=>w(p.target.value),onKeyDown:f,placeholder:"Add a major focus item...",className:"flex-1 rounded-xl border border-stone-200 px-4 py-2.5 text-sm focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold placeholder:text-stone-400"}),React.createElement("button",{onClick:o,disabled:!d.trim(),className:"bg-gold text-white rounded-xl px-4 py-2.5 text-sm font-medium transition hover:opacity-90 disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-1.5"},React.createElement(Lt,{size:16}),"Add")),React.createElement("div",{className:"space-y-2 max-h-[320px] overflow-y-auto pr-1"},g.length===0&&D.length===0&&React.createElement("p",{className:"text-stone-400 text-sm text-center py-4"},"No items yet. Add your first major focus above."),g.map(p=>React.createElement("div",{key:p.id,className:"flex items-center gap-3 group bg-white rounded-xl border border-stone-100 px-4 py-3 transition hover:border-gold/30"},React.createElement("button",{onClick:()=>u(p.id),className:"w-5 h-5 rounded-md border-2 border-stone-300 flex-shrink-0 transition hover:border-gold flex items-center justify-center","aria-label":"Mark complete"}),React.createElement("span",{className:"text-sm text-ink flex-1"},p.text),React.createElement("button",{onClick:()=>l(p.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(at,{size:14})))),D.length>0&&React.createElement("div",{className:"pt-2 border-t border-stone-100 mt-3"},React.createElement("p",{className:"text-[10px] uppercase tracking-wide text-stone-400 mb-2"},"Completed"),D.map(p=>React.createElement("div",{key:p.id,className:"flex items-center gap-3 group rounded-xl px-4 py-2.5 transition"},React.createElement("button",{onClick:()=>u(p.id),className:"w-5 h-5 rounded-md bg-gold/20 border-2 border-gold/40 flex-shrink-0 flex items-center justify-center text-gold","aria-label":"Mark incomplete"},React.createElement(Gt,{size:12})),React.createElement("span",{className:"text-sm text-stone-400 line-through flex-1"},p.text),React.createElement("button",{onClick:()=>l(p.id),className:"opacity-0 group-hover:opacity-60 hover:!opacity-100 text-stone-400 hover:text-red-500 transition flex-shrink-0","aria-label":"Delete item"},React.createElement(at,{size:14}))))))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},[{label:"Volunteers",value:Ee(t==null?void 0:t.volunteersCount)},{label:"Events booked",value:Ee(t==null?void 0:t.eventsCount)},{label:"Donation total",value:nt(t==null?void 0:t.donationsTotal)},{label:"Sponsors",value:Ee(t==null?void 0:t.sponsorsCount)}].map(p=>E[p.label]?React.createElement("a",{key:p.label,href:E[p.label],className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow block transition hover:-translate-y-0.5 hover:shadow-lg focus:outline-none focus-visible:ring-2 focus-visible:ring-gold/60 relative","aria-label":`${p.label} details`},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},p.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},p.value),I[p.label]?React.createElement("div",{className:"absolute bottom-4 right-5 text-[10px] uppercase tracking-wide text-steel"},I[p.label]):null):React.createElement("div",{key:p.label,className:"bg-white rounded-2xl p-5 border border-stone-100 card-shadow relative"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},p.label),React.createElement("div",{className:"font-display text-3xl text-ink mt-3"},p.value),I[p.label]?React.createElement("div",{className:"absolute bottom-4 right-5 text-[10px] uppercase tracking-wide text-steel"},I[p.label]):null)))))};const qt=({initiative:e,onBack:t,onEdit:r,onSubmitUpdate:i,onReviewUpdate:u})=>{const l=jt(e.updates||[]);return React.createElement("div",{className:"max-w-5xl mx-auto fade-up"},React.createElement("button",{onClick:t,className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(dt,{size:18})," Back to initiatives"),React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},e.focusArea),React.createElement("h1",{className:"font-display text-3xl text-ink mt-2"},e.title),React.createElement("p",{className:"text-stone-600 mt-2"},e.description)),React.createElement("div",{className:"flex flex-col items-start gap-3"},React.createElement(Vt,{status:e.status}),React.createElement("button",{onClick:r,className:"px-4 py-2 border border-stone-200 rounded-lg text-sm"},"Edit initiative"))),React.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Goal lead"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.owner||"Unassigned")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Co-champions"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.coChampions||"Not listed")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Target date"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.targetDate||"TBD"))),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between text-xs text-steel mb-2"},React.createElement("span",null,"Progress"),React.createElement("span",null,Math.round(e.progress),"%")),React.createElement(Ut,{value:e.progress})),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Success metrics"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.successMetrics||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Notes"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.notes||"No notes yet"))),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Three-year vision for success"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.threeYearVision||"Not defined")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Annual goals"),React.createElement("div",{className:"text-sm text-ink mt-1"},e.annualGoals||"Not defined")))),React.createElement("div",{className:"mt-6"},React.createElement(Bt,{initiative:e,onSubmit:d=>i(e,d)})),React.createElement("div",{className:"mt-6"},React.createElement("div",{className:"flex items-center justify-between mb-4"},React.createElement("h2",{className:"font-display text-2xl"},"Update log"),React.createElement("span",{className:"text-xs text-steel"},l.length," updates")),l.length===0?React.createElement("div",{className:"bg-white rounded-2xl border border-stone-100 p-6 text-stone-600"},"No updates yet. Submit the first update to start the log."):React.createElement("div",{className:"grid grid-cols-1 gap-4"},l.map(d=>React.createElement($t,{key:d.id,update:d,onReviewSave:(w,o,f)=>u(e,w,o,f)})))))},Kt=()=>{const[e,t]=v([]),[r,i]=v("dashboard"),[u,l]=v(null),[d,w]=v(null),[o,f]=v(!0),[g,D]=v(!1),[E,I]=v(!1),[p,L]=v({donationsTotal:null,volunteersCount:null,eventsCount:null,sponsorsCount:null}),[H,k]=v([]),[a,A]=v(!1),[Q,$]=v([]),[W,m]=v(!1),[te,Le]=v(null),[it,Ge]=v(!1),[de,Ue]=v(null),Ve={Construction:"House and Grounds Development",Grounds:"House and Grounds Development",Interiors:"House and Grounds Development",Fundraising:"Fund Development",Marketing:"Organizational Development",Venue:"Fund Development",Docents:"Programs and Events",Events:"Programs and Events"},[ct,$e]=v({Construction:null,Grounds:null,Interiors:null,Docents:null,Fundraising:null,Events:null,Marketing:null,Venue:null}),[ie,ut]=v(()=>X(Xe)||[]),[Be,Ne]=v([]),[Zt,ke]=v(null),[Z,Ce]=v(null),[Y,se]=v(null),[Se,_e]=v(!1),ce=Oe.reduce((s,n)=>(s[n.key]={label:n.label,key:n.sheet},s),{}),Ae=ye(()=>e.find(s=>s.id===u)||null,[e,u]),ue=ye(()=>e.find(s=>s.id===d)||null,[e,d]),De=s=>{ut(s),z(Xe,s)},pt=s=>{const n=[...ie,{id:Me(),text:s,done:!1,createdAt:new Date().toISOString()}];De(n)},mt=s=>{const n=ie.map(b=>b.id===s?O(T({},b),{done:!b.done}):b);De(n)},gt=s=>{const n=ie.filter(b=>b.id!==s);De(n)};fe(()=>{Fe()},[]);const Fe=async({useCache:s=!0}={})=>{var y,j;if(!je){const G=Pe();t(((G==null?void 0:G.objects)||[]).map(q)),I(!1),$(Qt),f(!1);return}const n=s?Pe():null,b=n&&Date.now()-n.updatedAt<It,c=s?X(We):null,x=s?X(Ze):null,S=s?X(Te):null,C=s?X(Ie):null,P=s?X(be):null;(y=n==null?void 0:n.objects)!=null&&y.length?(t(n.objects.map(q)),I(h.isConfigured()),f(!1)):f(!0),c&&L(c),x&&$e(x),S&&Ne(S),C&&k(C),P&&$(P);try{const _=(await h.fetchAll()||[]).map(q);t(_),I(h.isConfigured()),oe(_)}catch(G){console.error("Failed to load data:",G),(j=n==null?void 0:n.objects)!=null&&j.length||t(Re.map(q))}f(!1);const V=await h.fetchMetrics();V&&(L(V),z(We,V));const B=await h.fetchSectionSnapshots();B&&($e(B),z(Ze,B));const K=await h.fetchQuarterlyUpdates();K.length&&(Ne(K),z(Te,K));const N=await h.fetchVisionStatements();N.length&&(k(N),z(Ie,N));const F=await h.fetchFocusAreaGoals();F.length&&($(F),z(be,F))},Xt=s=>{l(s),i("detail"),window.scrollTo(0,0)},es=()=>{w(null),i("add"),window.scrollTo(0,0)},vt=s=>{w(s.id),i("edit"),window.scrollTo(0,0)},xt=async s=>{D(!0);try{if(ue){const n=await h.update(O(T({},s),{updates:s.updates||[]}));t(b=>{const c=b.map(x=>x.id===n.id?q(n):x);return oe(c),c}),l(n.id),i("detail")}else{const n=await h.create(O(T({},s),{id:s.id||Me(),updates:s.updates||[]}));t(b=>{const c=[...b,q(n)];return oe(c),c}),l(n.id),i("detail")}}catch(n){console.error("Failed to save initiative:",n),alert("Failed to save. Please try again.")}D(!1)},ht=async(s,n)=>{const b=[n,...s.updates||[]],c=O(T({},s),{updates:b,progress:n.progress,lastUpdateAt:n.date});try{await h.update(c),t(x=>{const S=x.map(C=>C.id===s.id?q(c):C);return oe(S),S})}catch(x){console.error("Failed to submit update:",x),alert("Failed to submit update. Please try again.")}},bt=async(s,n,b,c)=>{const x=(s.updates||[]).map(C=>C.id===n?O(T({},C),{reviewStatus:b,reviewNotes:c}):C),S=O(T({},s),{updates:x});try{await h.update(S),t(C=>{const P=C.map(V=>V.id===s.id?q(S):V);return oe(P),P})}catch(C){console.error("Failed to save review:",C),alert("Failed to save review. Please try again.")}},ts=s=>{ke({focusArea:s}),i("quarterly"),l(null),Le(null),window.scrollTo(0,0)},ft=async s=>{const x=s,{focusArea:n,quarter:b}=x,c=Ke(x,["focusArea","quarter"]);await h.submitReviewUpdate(s),Ne(S=>{const C=S.findIndex(B=>B.focusArea===n&&B.quarter===b),P=C>=0?O(T({},S[C]),{payload:O(T({},S[C].payload||{}),{review:c})}):{focusArea:n,quarter:b,submittedDate:"",payload:{review:c}},V=C>=0?S.map((B,K)=>K===C?P:B):[...S,P];return z(Te,V),V})},yt=(s,n)=>{const c=Be.filter(P=>P.focusArea===s&&P.quarter===n).sort((P,V)=>new Date(V.submittedDate||V.createdAt)-new Date(P.submittedDate||P.createdAt))[0],x=(c==null?void 0:c.payload)||{},S=x.year||String(new Date().getFullYear()),C=x.submittedDate||(c==null?void 0:c.submittedDate)||new Date().toISOString().slice(0,10);ke({focusArea:s,quarter:n,year:S,submittedDate:C,primaryFocus:x.primaryFocus||"",goals:x.goals&&x.goals.length?x.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:x.wins||"",challenges:x.challenges||{},supportNeeded:x.supportNeeded||"",supportTypes:x.supportTypes||{},decisionsNeeded:x.decisionsNeeded||"",nextQuarterFocus:x.nextQuarterFocus||"",nextPriorities:x.nextPriorities||["","",""],finalTallyOverview:x.finalTallyOverview||""}),i("quarterly"),window.scrollTo(0,0)},wt=(s,n,b,c)=>{if(n!=="Q1")return;const x=c.year||String(new Date().getFullYear()),S=c.submittedDate||(b==null?void 0:b.submittedDate)||new Date().toISOString().slice(0,10);Ce({areaLabel:s,quarter:n}),se({focusArea:s,quarter:n,year:x,submittedDate:S,primaryFocus:c.primaryFocus||"",goals:c.goals&&c.goals.length?c.goals:[{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""},{goal:"",status:"On Track",summary:""}],wins:c.wins||"",challenges:c.challenges||{},supportNeeded:c.supportNeeded||"",supportTypes:c.supportTypes||{},decisionsNeeded:c.decisionsNeeded||"",nextQuarterFocus:c.nextQuarterFocus||"",nextPriorities:c.nextPriorities||["","",""],finalTallyOverview:c.finalTallyOverview||"",uploadedFiles:c.uploadedFiles||[]})},Nt=async()=>{if(Y){_e(!0);try{await h.submitQuarterlyUpdate(O(T({},Y),{primaryOnly:!0})),await Fe({useCache:!1}),Ce(null),se(null)}catch(s){console.error("Failed to save inline quarterly update:",s),alert("Failed to save. Please try again.")}_e(!1)}},ss=async()=>{await Fe({useCache:!1}),ke(null),i("dashboard")},as=s=>{const n=Ve[s]||s;Ue(n),Ge(!0)},rs=async(s,n)=>{A(!0);try{const b=await h.updateVisionStatement({focusArea:s,threeYearVision:n});k(c=>{const x=c.findIndex(C=>C.focusArea===s),S=x>=0?c.map((C,P)=>P===x?b:C):[...c,b];return z(Ie,S),S})}catch(b){console.error("Failed to save vision statement:",b),alert("Failed to save. Please try again.")}A(!1)},kt=async s=>{m(!0);try{const n=await h.updateFocusAreaGoal(s);$(b=>{const c=b.findIndex(S=>S.id===n.id),x=c>=0?b.map((S,C)=>C===c?n:S):[...b,n];return z(be,x),x})}catch(n){console.error("Failed to save focus goal:",n),alert("Failed to save. Please try again.")}m(!1)},Ct=async s=>{m(!0);try{await h.deleteFocusAreaGoal(s),$(n=>{const b=n.filter(c=>c.id!==s);return z(be,b),b})}catch(n){console.error("Failed to delete focus goal:",n),alert("Failed to delete. Please try again.")}m(!1)},St=r==="detail"&&Ae;return React.createElement("div",{className:"min-h-screen"},React.createElement("header",{className:"sticky top-0 z-40 bg-white/90 backdrop-blur border-b border-stone-100"},React.createElement("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8"},React.createElement("div",{className:"flex items-center justify-between h-16"},React.createElement("div",{className:"flex items-center gap-3"},React.createElement("div",{className:"w-10 h-10 rounded-full border border-gold/40 bg-white text-gold flex items-center justify-center shadow-sm"},React.createElement(lt,{size:18})),React.createElement("div",null,React.createElement("div",{className:"font-display text-lg text-ink"},"Haley's Ops & Orbit"),React.createElement("div",{className:"text-xs text-steel"},"Progress tracker"))),React.createElement("div",{className:"flex items-center gap-2 text-sm flex-wrap"})),React.createElement("div",{className:"pb-4"},React.createElement("div",{className:"flex flex-wrap gap-3"},React.createElement("button",{onClick:()=>{i("dashboard"),l(null),Le(null)},className:`tab-button text-sm min-w-[200px] ${r==="dashboard"?"active":""}`},"2026 Snapshot"),React.createElement("select",{value:Oe.some(s=>s.key===r)?r:"",onChange:s=>{const n=s.target.value;n&&(i(n),l(null))},className:"tab-button tab-select text-sm bg-white min-w-[220px]"},React.createElement("option",{value:""},"Operational Areas"),Oe.map(s=>React.createElement("option",{key:s.key,value:s.key},s.label))))))),React.createElement("main",{className:"px-4 sm:px-6 lg:px-8 py-8"},o?React.createElement("div",{className:"max-w-4xl mx-auto bg-white rounded-2xl border border-stone-100 p-8 text-center text-stone-600"},"Loading Haley\u2019s Organized Chaos..."):React.createElement(React.Fragment,null,r==="dashboard"&&React.createElement(Yt,{initiatives:e,metrics:p,majorTodos:ie,onAddTodo:pt,onToggleTodo:mt,onDeleteTodo:gt}),["construction","grounds","interiors","docents","fund","events","marketing","venue"].includes(r)&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("div",{className:"bg-white rounded-3xl border border-stone-100 p-6 md:p-8 card-shadow"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("h2",{className:"font-display text-3xl text-ink"},ce[r].label),React.createElement("div",{className:"flex items-center gap-2"})),React.createElement("p",{className:"text-stone-600 mt-2"},"Beginning 2026 snapshot."),React.createElement("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4"},(()=>{const s=ct[ce[r].key];return React.createElement(React.Fragment,null,React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Lead name"),React.createElement("div",{className:"text-lg text-ink mt-2"},(s==null?void 0:s.lead)||"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Budget"),React.createElement("div",{className:"text-lg text-ink mt-2"},s!=null&&s.budget?nt(s.budget):"N/A")),React.createElement("div",{className:"bg-stone-50 rounded-2xl p-4 border border-stone-100"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Volunteers (2026)"),React.createElement("div",{className:"text-lg text-ink mt-2"},(s==null?void 0:s.volunteers)||"N/A")))})())),it&&de===Ve[ce[r].label]&&React.createElement("div",{className:"mt-6 bg-white rounded-3xl border border-stone-100 p-6 card-shadow"},React.createElement("div",{className:"flex items-center justify-between"},React.createElement("div",{className:"font-display text-2xl text-ink"},de),React.createElement("button",{type:"button",onClick:()=>{Ge(!1),Ue(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm"},"Close")),React.createElement("div",{className:"mt-4"},React.createElement(Ht,{focusArea:de,goals:Q.filter(s=>s.focusArea===de),onSaveGoal:kt,onDeleteGoal:Ct,isSaving:W,hideTitle:!0}))),(()=>{const s=ce[r].label,n=[["Q1","Q2"],["Q3","Q4"]],b={Q1:"Jan 1 - Mar 31",Q2:"Apr 1 - Jun 30",Q3:"Jul 1 - Sep 30",Q4:"Oct 1 - Dec 31"},c={Q1:"Due: March 30th",Q2:"Due: June 30th",Q3:"Due: September 30th",Q4:"Due: December 31st"},x={capacity:"Capacity or volunteer limitations",budget:"Budget or funding constraints",scheduling:"Scheduling or timing issues",coordination:"Cross-area coordination gaps",external:"External factors",other:"Other"},S={staff:"Staff or volunteer help",marketing:"Marketing or communications",board:"Board guidance or decision",funding:"Funding or fundraising support",facilities:"Facilities or logistics",other:"Other"},C=N=>{switch(N){case"Q2":return"Q1";case"Q3":return"Q2";case"Q4":return"Q3";default:return null}},P=N=>Be.filter(y=>y.focusArea===s&&y.quarter===N).sort((y,j)=>new Date(j.submittedDate||j.createdAt)-new Date(y.submittedDate||y.createdAt))[0],V=N=>{const F=M=>String(M||"").trim().toLowerCase()==="none noted",y=P(N),j=(y==null?void 0:y.payload)||{},G=C(N),_=G?P(G):null,ae=(_==null?void 0:_.payload)||{},pe=(ae.nextPriorities||[]).map(M=>({goal:M||"",status:"",summary:""})).filter(M=>String(M.goal||"").trim()&&!F(M.goal)),me=j.goals&&j.goals.length?j.goals:pe.length?pe:[{},{},{}],ge=j.primaryFocus||(F(ae.nextQuarterFocus)?"":ae.nextQuarterFocus),ve=(Z==null?void 0:Z.areaLabel)===s&&(Z==null?void 0:Z.quarter)===N,re=j.submittedDate||(y==null?void 0:y.submittedDate)||"",ze=N==="Q1";return React.createElement("div",{key:`primary-${N}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",{className:"text-xl font-display text-ink"},`${N} Primary Focus and Goals`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},b[N])),ve?React.createElement("div",{className:"mt-4 space-y-4"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("textarea",{value:(Y==null?void 0:Y.primaryFocus)||"",onChange:M=>se(J=>O(T({},J),{primaryFocus:M.target.value})),className:"w-full mt-2 px-3 py-2 border border-stone-200 rounded-lg min-h-[100px]",placeholder:"Main priorities or themes."})),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"mt-2 space-y-3"},((Y==null?void 0:Y.goals)||[]).map((M,J)=>React.createElement("div",{key:J},React.createElement("input",{type:"text",value:M.goal,onChange:U=>se(xe=>O(T({},xe),{goals:xe.goals.map((Je,At)=>At===J?O(T({},Je),{goal:U.target.value}):Je)})),className:"px-3 py-2 border border-stone-200 rounded-lg",placeholder:`Goal ${J+1}`}))))),React.createElement("div",{className:"flex items-center justify-end gap-2"},React.createElement("button",{type:"button",onClick:()=>{Ce(null),se(null)},className:"px-3 py-2 border border-stone-200 rounded-lg text-sm",disabled:Se},"Cancel"),React.createElement("button",{type:"button",onClick:Nt,className:"px-3 py-2 bg-gold text-white rounded-lg text-sm",disabled:Se},Se?"Saving...":"Save"))):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Primary focus"),React.createElement("div",{className:"whitespace-pre-line"},ge||"-")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel font-semibold"},"Goals"),React.createElement("div",{className:"space-y-1"},me.map((M,J)=>React.createElement("div",{key:J,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",null,React.createElement("span",null,M.goal||"-"))))))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,re?tt(re):"00-00-0000"),ze&&React.createElement("button",{type:"button",onClick:()=>wt(s,N,y,j),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},B=N=>{const F=P(N),y=(F==null?void 0:F.payload)||{},j=y.submittedDate||(F==null?void 0:F.submittedDate)||"",G=y.challenges||{},_=y.supportTypes||{},ae=y.challengesChecked||"",pe=y.supportTypesChecked||"",me=Object.keys(x).filter(U=>G[U]).map(U=>U==="other"&&G.otherText?`Other: ${G.otherText}`:x[U]),ge=Object.keys(S).filter(U=>_[U]).map(U=>U==="other"&&_.otherText?`Other: ${_.otherText}`:S[U]),ve=ae||(me.length?me.join(", "):""),re=pe||(ge.length?ge.join(", "):""),M=(y.nextPriorities||[]).filter(U=>String(U||"").trim()),J=!!(y.wins||G.details||ve||y.supportNeeded||re||y.nextQuarterFocus||M.length||y.decisionsNeeded);return React.createElement("div",{key:`overview-${N}`,className:"bg-white rounded-3xl border border-stone-100 p-6 card-shadow quarter-card flex flex-col"},React.createElement("div",{className:"flex items-start justify-between gap-3"},React.createElement("div",null,React.createElement("div",{className:"text-lg font-display text-ink"},`${N} Quarterly Reflection`),React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},b[N])),React.createElement("div",{className:"text-right"},React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},c[N]))),!F||!J?React.createElement("div",{className:"mt-4 text-sm text-stone-600"},"No submission yet."):React.createElement("div",{className:"mt-4 space-y-3 text-sm text-stone-700"},React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"What went well"),React.createElement("div",{className:"whitespace-pre-line"},y.wins||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges"),React.createElement("div",{className:"whitespace-pre-line"},G.details||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Challenges (checked)"),React.createElement("div",null,ve||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support needed"),React.createElement("div",{className:"whitespace-pre-line"},y.supportNeeded||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Support types"),React.createElement("div",null,re||"None noted")),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Next quarter focus area and goals"),React.createElement("div",{className:"whitespace-pre-line"},y.nextQuarterFocus||"None noted"),React.createElement("div",{className:"mt-2 space-y-1"},M.length?M.map((U,xe)=>React.createElement("div",{key:xe,className:"flex items-start gap-2"},React.createElement("span",{className:"text-gold mt-0.5"},React.createElement(le,{size:12})),React.createElement("div",null,U||"-"))):React.createElement("div",null,"None noted"))),React.createElement("div",null,React.createElement("div",{className:"text-xs uppercase tracking-wide text-steel"},"Other notes"),React.createElement("div",{className:"whitespace-pre-line"},y.decisionsNeeded||"None noted"))),React.createElement("div",{className:"mt-4 flex items-center justify-between text-xs text-steel"},React.createElement("div",null,j?tt(j):"00-00-0000"),React.createElement("button",{type:"button",onClick:()=>yt(s,N),className:"px-2 py-1 border border-stone-200 rounded-lg text-xs"},"Edit")))},K=N=>{var j;const F=P(N),y=((j=F==null?void 0:F.payload)==null?void 0:j.review)||null;return React.createElement(zt,{key:`review-${N}`,areaLabel:s,quarter:N,review:y,onSave:ft})};return React.createElement("div",{className:"mt-6 space-y-6"},n.map(N=>React.createElement("div",{key:N.join("-"),className:"space-y-6"},React.createElement("div",{className:"grid grid-cols-2 gap-4"},N.map(F=>V(F))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},N.map(F=>B(F))),React.createElement("div",{className:"grid grid-cols-2 gap-4"},N.map(F=>K(F))))))})()),St&&React.createElement(qt,{initiative:Ae,onBack:()=>i("list"),onEdit:()=>vt(Ae),onSubmitUpdate:ht,onReviewUpdate:bt}),(r==="add"||r==="edit")&&React.createElement("div",{className:"max-w-4xl mx-auto fade-up"},React.createElement("button",{onClick:()=>i(ue?"detail":"list"),className:"flex items-center gap-2 text-sm text-gold mb-4"},React.createElement(dt,{size:18})," Cancel"),React.createElement(_t,{initiative:ue,onSave:xt,onCancel:()=>i(ue?"detail":"list"),isSaving:g})))))},Wt=ReactDOM.createRoot(document.getElementById("root"));Wt.render(React.createElement(Kt,null));})();
